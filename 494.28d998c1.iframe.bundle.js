/*! For license information please see 494.28d998c1.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkreact_treema=self.webpackChunkreact_treema||[]).push([[494],{"./node_modules/ace-builds/src-noconflict/ace.js":(module,__unused_webpack_exports,__webpack_require__)=>{module=__webpack_require__.nmd(module),function(){var global=function(){return this}();global||"undefined"==typeof window||(global=window);var define=function(module,deps,payload){"string"==typeof module?(2==arguments.length&&(payload=deps),define.modules[module]||(define.payloads[module]=payload,define.modules[module]=null)):define.original?define.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};define.modules={},define.payloads={};var _require=function(parentId,module,callback){if("string"==typeof module){var payload=lookup(parentId,module);if(null!=payload)return callback&&callback(),payload}else if("[object Array]"===Object.prototype.toString.call(module)){for(var params=[],i=0,l=module.length;i<l;++i){var dep=lookup(parentId,module[i]);if(null==dep&&require.original)return;params.push(dep)}return callback&&callback.apply(null,params)||!0}},require=function(module,callback){var packagedModule=_require("",module,callback);return null==packagedModule&&require.original?require.original.apply(this,arguments):packagedModule},normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return normalizeModule(parentId,chunks[0])+"!"+normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0))for(moduleName=parentId.split("/").slice(0,-1).join("/")+"/"+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return moduleName},lookup=function(parentId,moduleName){moduleName=normalizeModule(parentId,moduleName);var module=define.modules[moduleName];if(!module){if("function"==typeof(module=define.payloads[moduleName])){var exports={},mod={id:moduleName,uri:"",exports,packaged:!0};exports=module((function(module,callback){return _require(moduleName,module,callback)}),exports,mod)||mod.exports,define.modules[moduleName]=exports,delete define.payloads[moduleName]}module=define.modules[moduleName]=exports||module}return module};!function exportAce(ns){var root=global;ns&&(global[ns]||(global[ns]={}),root=global[ns]),root.define&&root.define.packaged||(define.original=root.define,root.define=define,root.define.packaged=!0),root.require&&root.require.packaged||(require.original=root.require,root.require=require,root.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(require,exports,module){function defineProp(obj,name,val){Object.defineProperty(obj,name,{value:val,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||defineProp(String.prototype,"startsWith",(function(searchString,position){return position=position||0,this.lastIndexOf(searchString,position)===position})),String.prototype.endsWith||defineProp(String.prototype,"endsWith",(function(searchString,position){(void 0===position||position>this.length)&&(position=this.length),position-=searchString.length;var lastIndex=this.indexOf(searchString,position);return-1!==lastIndex&&lastIndex===position})),String.prototype.repeat||defineProp(String.prototype,"repeat",(function(count){for(var result="",string=this;count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result})),String.prototype.includes||defineProp(String.prototype,"includes",(function(str,position){return-1!=this.indexOf(str,position)})),Object.assign||(Object.assign=function(target){if(null==target)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(target),index=1;index<arguments.length;index++){var source=arguments[index];null!=source&&Object.keys(source).forEach((function(key){output[key]=source[key]}))}return output}),Object.values||(Object.values=function(o){return Object.keys(o).map((function(k){return o[k]}))}),Array.prototype.find||defineProp(Array.prototype,"find",(function(predicate){for(var len=this.length,thisArg=arguments[1],k=0;k<len;k++){var kValue=this[k];if(predicate.call(thisArg,kValue,k,this))return kValue}})),Array.prototype.findIndex||defineProp(Array.prototype,"findIndex",(function(predicate){for(var len=this.length,thisArg=arguments[1],k=0;k<len;k++){var kValue=this[k];if(predicate.call(thisArg,kValue,k,this))return k}})),Array.prototype.includes||defineProp(Array.prototype,"includes",(function(item,position){return-1!=this.indexOf(item,position)})),Array.prototype.fill||defineProp(Array.prototype,"fill",(function(value){for(var O=this,len=O.length>>>0,relativeStart=arguments[1]>>0,k=relativeStart<0?Math.max(len+relativeStart,0):Math.min(relativeStart,len),end=arguments[2],relativeEnd=void 0===end?len:end>>0,final=relativeEnd<0?Math.max(len+relativeEnd,0):Math.min(relativeEnd,len);k<final;)O[k]=value,k++;return O})),Array.of||defineProp(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(require,exports,module){"use strict";require("./es6-shim")})),ace.define("ace/lib/lang",["require","exports","module"],(function(require,exports,module){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;i<l;i++)array[i]&&"object"==typeof array[i]?copy[i]=this.copyObject(array[i]):copy[i]=array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;key<obj.length;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;for(var key in copy={},obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;i<arr.length;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;i<=array.length;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},exports.escapeHTML=function(str){return(""+str).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,(function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})})),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(require,exports,module){"use strict";exports.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},exports.getOS=function(){return exports.isMac?exports.OS.MAC:exports.isLinux?exports.OS.LINUX:exports.OS.WINDOWS};var _navigator="object"==typeof navigator?navigator:{},os=(/mac|win|linux/i.exec(_navigator.platform)||["other"])[0].toLowerCase(),ua=_navigator.userAgent||"",appName=_navigator.appName||"";exports.isWin="win"==os,exports.isMac="mac"==os,exports.isLinux="linux"==os,exports.isIE="Microsoft Internet Explorer"==appName||appName.indexOf("MSAppHost")>=0?parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),exports.isOldIE=exports.isIE&&exports.isIE<9,exports.isGecko=exports.isMozilla=ua.match(/ Gecko\/\d+/),exports.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),exports.isWebKit=parseFloat(ua.split("WebKit/")[1])||void 0,exports.isChrome=parseFloat(ua.split(" Chrome/")[1])||void 0,exports.isEdge=parseFloat(ua.split(" Edge/")[1])||void 0,exports.isAIR=ua.indexOf("AdobeAIR")>=0,exports.isAndroid=ua.indexOf("Android")>=0,exports.isChromeOS=ua.indexOf(" CrOS ")>=0,exports.isIOS=/iPad|iPhone|iPod/.test(ua)&&!window.MSStream,exports.isIOS&&(exports.isMac=!0),exports.isMobile=exports.isIOS||exports.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(require,exports,module){"use strict";var strictCSP,useragent=require("./useragent");exports.buildDom=function buildDom(arr,parent,refs){if("string"==typeof arr&&arr){var txt=document.createTextNode(arr);return parent&&parent.appendChild(txt),txt}if(!Array.isArray(arr))return arr&&arr.appendChild&&parent&&parent.appendChild(arr),arr;if("string"!=typeof arr[0]||!arr[0]){for(var els=[],i=0;i<arr.length;i++){var ch=buildDom(arr[i],parent,refs);ch&&els.push(ch)}return els}var el=document.createElement(arr[0]),options=arr[1],childIndex=1;options&&"object"==typeof options&&!Array.isArray(options)&&(childIndex=2);for(i=childIndex;i<arr.length;i++)buildDom(arr[i],el,refs);return 2==childIndex&&Object.keys(options).forEach((function(n){var val=options[n];"class"===n?el.className=Array.isArray(val)?val.join(" "):val:"function"==typeof val||"value"==n||"$"==n[0]?el[n]=val:"ref"===n?refs&&(refs[val]=el):"style"===n?"string"==typeof val&&(el.style.cssText=val):null!=val&&el.setAttribute(n,val)})),parent&&parent.appendChild(el),el},exports.getDocumentHead=function(doc){return doc||(doc=document),doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement},exports.createElement=function(tag,ns){return document.createElementNS?document.createElementNS(ns||"http://www.w3.org/1999/xhtml",tag):document.createElement(tag)},exports.removeChildren=function(element){element.innerHTML=""},exports.createTextNode=function(textContent,element){return(element?element.ownerDocument:document).createTextNode(textContent)},exports.createFragment=function(element){return(element?element.ownerDocument:document).createDocumentFragment()},exports.hasCssClass=function(el,name){return-1!==(el.className+"").split(/\s+/g).indexOf(name)},exports.addCssClass=function(el,name){exports.hasCssClass(el,name)||(el.className+=" "+name)},exports.removeCssClass=function(el,name){for(var classes=el.className.split(/\s+/g);;){var index=classes.indexOf(name);if(-1==index)break;classes.splice(index,1)}el.className=classes.join(" ")},exports.toggleCssClass=function(el,name){for(var classes=el.className.split(/\s+/g),add=!0;;){var index=classes.indexOf(name);if(-1==index)break;add=!1,classes.splice(index,1)}return add&&classes.push(name),el.className=classes.join(" "),add},exports.setCssClass=function(node,className,include){include?exports.addCssClass(node,className):exports.removeCssClass(node,className)},exports.hasCssString=function(id,doc){var sheets,index=0;if(sheets=(doc=doc||document).querySelectorAll("style"))for(;index<sheets.length;)if(sheets[index++].id===id)return!0},exports.removeElementById=function(id,doc){(doc=doc||document).getElementById(id)&&doc.getElementById(id).remove()};var cssCache=[];function insertPendingStyles(){var cache=cssCache;cssCache=null,cache&&cache.forEach((function(item){importCssString(item[0],item[1])}))}function importCssString(cssText,id,target){if("undefined"!=typeof document){if(cssCache)if(target)insertPendingStyles();else if(!1===target)return cssCache.push([cssText,id]);if(!strictCSP){var container=target;target&&target.getRootNode&&(container=target.getRootNode())&&container!=target||(container=document);var doc=container.ownerDocument||container;if(id&&exports.hasCssString(id,container))return null;id&&(cssText+="\n/*# sourceURL=ace/css/"+id+" */");var style=exports.createElement("style");style.appendChild(doc.createTextNode(cssText)),id&&(style.id=id),container==doc&&(container=exports.getDocumentHead(doc)),container.insertBefore(style,container.firstChild)}}}if(exports.useStrictCSP=function(value){strictCSP=value,0==value?insertPendingStyles():cssCache||(cssCache=[])},exports.importCssString=importCssString,exports.importCssStylsheet=function(uri,doc){exports.buildDom(["link",{rel:"stylesheet",href:uri}],exports.getDocumentHead(doc))},exports.scrollbarWidth=function(doc){var inner=exports.createElement("ace_inner");inner.style.width="100%",inner.style.minWidth="0px",inner.style.height="200px",inner.style.display="block";var outer=exports.createElement("ace_outer"),style=outer.style;style.position="absolute",style.left="-10000px",style.overflow="hidden",style.width="200px",style.minWidth="0px",style.height="150px",style.display="block",outer.appendChild(inner);var body=doc&&doc.documentElement||document&&document.documentElement;if(!body)return 0;body.appendChild(outer);var noScrollbar=inner.offsetWidth;style.overflow="scroll";var withScrollbar=inner.offsetWidth;return noScrollbar===withScrollbar&&(withScrollbar=outer.clientWidth),body.removeChild(outer),noScrollbar-withScrollbar},exports.computedStyle=function(element,style){return window.getComputedStyle(element,"")||{}},exports.setStyle=function(styles,property,value){styles[property]!==value&&(styles[property]=value)},exports.HAS_CSS_ANIMATION=!1,exports.HAS_CSS_TRANSFORMS=!1,exports.HI_DPI=!useragent.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,useragent.isChromeOS&&(exports.HI_DPI=!1),"undefined"!=typeof document){var div=document.createElement("div");exports.HI_DPI&&void 0!==div.style.transform&&(exports.HAS_CSS_TRANSFORMS=!0),useragent.isEdge||void 0===div.style.animationName||(exports.HAS_CSS_ANIMATION=!0),div=null}exports.HAS_CSS_TRANSFORMS?exports.translate=function(element,tx,ty){element.style.transform="translate("+Math.round(tx)+"px, "+Math.round(ty)+"px)"}:exports.translate=function(element,tx,ty){element.style.top=Math.round(ty)+"px",element.style.left=Math.round(tx)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(require,exports,module){"use strict";var dom=require("./dom");exports.get=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.onreadystatechange=function(){4===xhr.readyState&&callback(xhr.responseText)},xhr.send(null)},exports.loadScript=function(path,callback){var head=dom.getDocumentHead(),s=document.createElement("script");s.src=path,head.appendChild(s),s.onload=s.onreadystatechange=function(_,isAbort){!isAbort&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,isAbort||callback())}},exports.qualifyURL=function(url){var a=document.createElement("a");return a.href=url,a.href}})),ace.define("ace/lib/oop",["require","exports","module"],(function(require,exports,module){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(require,exports,module){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;i<listeners.length&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;i<listeners.length;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;if(this.on(eventName,(function newCallback(){_self.off(eventName,newCallback),callback.apply(null,arguments)})),!callback)return new Promise((function(resolve){callback=resolve}))},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){eventName||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[eventName]=void 0),this._defaultHandlers&&(this._defaultHandlers[eventName]=void 0)},exports.EventEmitter=EventEmitter})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(require,exports,module){var messages,oop=require("./oop"),EventEmitter=require("./event_emitter").EventEmitter,optionsProvider={setOptions:function(optList){Object.keys(optList).forEach((function(key){this.setOption(key,optList[key])}),this)},getOptions:function(optionNames){var result={};if(optionNames)Array.isArray(optionNames)||(result=optionNames,optionNames=Object.keys(result));else{var options=this.$options;optionNames=Object.keys(options).filter((function(key){return!options[key].hidden}))}return optionNames.forEach((function(key){result[key]=this.getOption(key)}),this),result},setOption:function(name,value){if(this["$"+name]!==value){var opt=this.$options[name];if(!opt)return warn('misspelled option "'+name+'"');if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].setOption(name,value);opt.handlesSet||(this["$"+name]=value),opt&&opt.set&&opt.set.call(this,value)}},getOption:function(name){var opt=this.$options[name];return opt?opt.forwardTo?this[opt.forwardTo]&&this[opt.forwardTo].getOption(name):opt&&opt.get?opt.get.call(this):this["$"+name]:warn('misspelled option "'+name+'"')}};function warn(message){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var AppConfig=function(){function AppConfig(){this.$defaultOptions={}}return AppConfig.prototype.defineOptions=function(obj,path,options){return obj.$options||(this.$defaultOptions[path]=obj.$options={}),Object.keys(options).forEach((function(key){var opt=options[key];"string"==typeof opt&&(opt={forwardTo:opt}),opt.name||(opt.name=key),obj.$options[opt.name]=opt,"initialValue"in opt&&(obj["$"+opt.name]=opt.initialValue)})),oop.implement(obj,optionsProvider),this},AppConfig.prototype.resetOptions=function(obj){Object.keys(obj.$options).forEach((function(key){var opt=obj.$options[key];"value"in opt&&obj.setOption(key,opt.value)}))},AppConfig.prototype.setDefaultValue=function(path,name,value){if(!path){for(path in this.$defaultOptions)if(this.$defaultOptions[path][name])break;if(!this.$defaultOptions[path][name])return!1}var opts=this.$defaultOptions[path]||(this.$defaultOptions[path]={});opts[name]&&(opts.forwardTo?this.setDefaultValue(opts.forwardTo,name,value):opts[name].value=value)},AppConfig.prototype.setDefaultValues=function(path,optionHash){Object.keys(optionHash).forEach((function(key){this.setDefaultValue(path,key,optionHash[key])}),this)},AppConfig.prototype.setMessages=function(value){messages=value},AppConfig.prototype.nls=function(string,params){messages&&!messages[string]&&warn("No message found for '"+string+"' in the provided messages, falling back to default English message.");var translated=messages&&messages[string]||string;return params&&(translated=translated.replace(/\$(\$|[\d]+)/g,(function(_,name){return"$"==name?"$":params[name]}))),translated},AppConfig}();AppConfig.prototype.warn=warn,AppConfig.prototype.reportError=function reportError(msg,data){var e=new Error(msg);e.data=data,"object"==typeof console&&console.error&&console.error(e),setTimeout((function(){throw e}))},oop.implement(AppConfig.prototype,EventEmitter),exports.AppConfig=AppConfig})),ace.define("ace/theme/textmate-css",["require","exports","module"],(function(require,exports,module){module.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(require,exports,module){"use strict";exports.isDark=!1,exports.cssClass="ace-tm",exports.cssText=require("./textmate-css"),exports.$id="ace/theme/textmate",require("../lib/dom").importCssString(exports.cssText,exports.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(require,exports,module){var lang=require("./lib/lang"),net=require("./lib/net"),dom=require("./lib/dom"),AppConfig=require("./lib/app_config").AppConfig;module.exports=exports=new AppConfig;var options={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};exports.get=function(key){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);return options[key]},exports.set=function(key,value){if(options.hasOwnProperty(key))options[key]=value;else if(0==this.setDefaultValue("",key,value))throw new Error("Unknown config key: "+key);"useStrictCSP"==key&&dom.useStrictCSP(value)},exports.all=function(){return lang.copyObject(options)},exports.$modes={},exports.moduleUrl=function(name,component){if(options.$moduleUrls[name])return options.$moduleUrls[name];var parts=name.split("/"),sep="snippets"==(component=component||parts[parts.length-2]||"")?"/":"-",base=parts[parts.length-1];if("worker"==component&&"-"==sep){var re=new RegExp("^"+component+"[\\-_]|[\\-_]"+component+"$","g");base=base.replace(re,"")}(!base||base==component)&&parts.length>1&&(base=parts[parts.length-2]);var path=options[component+"Path"];return null==path?path=options.basePath:"/"==sep&&(component=sep=""),path&&"/"!=path.slice(-1)&&(path+="/"),path+component+sep+base+this.get("suffix")},exports.setModuleUrl=function(name,subst){return options.$moduleUrls[name]=subst};var customLoader;exports.setLoader=function(cb){customLoader=cb},exports.dynamicModules=Object.create(null),exports.$loading={},exports.$loaded={},exports.loadModule=function(moduleName,onLoad){var loadedModule,moduleType;Array.isArray(moduleName)&&(moduleType=moduleName[0],moduleName=moduleName[1]);var load=function(module){if(module&&!exports.$loading[moduleName])return onLoad&&onLoad(module);if(exports.$loading[moduleName]||(exports.$loading[moduleName]=[]),exports.$loading[moduleName].push(onLoad),!(exports.$loading[moduleName].length>1)){var afterLoad=function(){!function(moduleName,cb){"ace/theme/textmate"===moduleName||"./theme/textmate"===moduleName?cb(null,require("./theme/textmate")):customLoader?customLoader(moduleName,cb):console.error("loader is not configured")}(moduleName,(function(err,module){module&&(exports.$loaded[moduleName]=module),exports._emit("load.module",{name:moduleName,module});var listeners=exports.$loading[moduleName];exports.$loading[moduleName]=null,listeners.forEach((function(onLoad){onLoad&&onLoad(module)}))}))};if(!exports.get("packaged"))return afterLoad();net.loadScript(exports.moduleUrl(moduleName,moduleType),afterLoad),reportErrorIfPathIsNotConfigured()}};if(exports.dynamicModules[moduleName])exports.dynamicModules[moduleName]().then((function(module){module.default?load(module.default):load(module)}));else{try{loadedModule=this.$require(moduleName)}catch(e){}load(loadedModule||exports.$loaded[moduleName])}},exports.$require=function(moduleName){if("function"==typeof module.require){return module.require(moduleName)}},exports.setModuleLoader=function(moduleName,onLoad){exports.dynamicModules[moduleName]=onLoad};var reportErrorIfPathIsNotConfigured=function(){options.basePath||options.workerPath||options.modePath||options.themePath||Object.keys(options.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),reportErrorIfPathIsNotConfigured=function(){})};exports.version="1.23.1"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(require,exports,module){"use strict";require("./lib/fixoldbrowsers");var config=require("./config");config.setLoader((function(moduleName,cb){require([moduleName],(function(module){cb(null,module)}))}));var global=function(){return this||"undefined"!=typeof window&&window}();function init(packaged){if(global&&global.document){config.set("packaged",packaged||require.packaged||module.packaged||global.define&&__webpack_require__.amdD.packaged);var scriptOptions={},scriptUrl="",currentScript=document.currentScript||document._currentScript,currentDocument=currentScript&&currentScript.ownerDocument||document;currentScript&&currentScript.src&&(scriptUrl=currentScript.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var str,scripts=currentDocument.getElementsByTagName("script"),i=0;i<scripts.length;i++){var script=scripts[i],src=script.src||script.getAttribute("src");if(src){for(var attributes=script.attributes,j=0,l=attributes.length;j<l;j++){var attr=attributes[j];0===attr.name.indexOf("data-ace-")&&(scriptOptions[(str=attr.name.replace(/^data-ace-/,""),str.replace(/-(.)/g,(function(m,m1){return m1.toUpperCase()})))]=attr.value)}var m=src.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);m&&(scriptUrl=m[1])}}for(var key in scriptUrl&&(scriptOptions.base=scriptOptions.base||scriptUrl,scriptOptions.packaged=!0),scriptOptions.basePath=scriptOptions.base,scriptOptions.workerPath=scriptOptions.workerPath||scriptOptions.base,scriptOptions.modePath=scriptOptions.modePath||scriptOptions.base,scriptOptions.themePath=scriptOptions.themePath||scriptOptions.base,delete scriptOptions.base,scriptOptions)void 0!==scriptOptions[key]&&config.set(key,scriptOptions[key])}}module.exports=function(ace){config.init=init,config.$require=require,ace.require=require,ace.define=__webpack_require__.amdD},init(!0)})),ace.define("ace/range",["require","exports","module"],(function(require,exports,module){"use strict";var Range=function(){function Range(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}}return Range.prototype.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},Range.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},Range.prototype.contains=function(row,column){return 0==this.compare(row,column)},Range.prototype.compareRange=function(range){var cmp,end=range.end,start=range.start;return 1==(cmp=this.compare(end.row,end.column))?1==(cmp=this.compare(start.row,start.column))?2:0==cmp?1:0:-1==cmp?-2:-1==(cmp=this.compare(start.row,start.column))?-1:1==cmp?42:0},Range.prototype.comparePoint=function(p){return this.compare(p.row,p.column)},Range.prototype.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},Range.prototype.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},Range.prototype.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},Range.prototype.isStart=function(row,column){return this.start.row==row&&this.start.column==column},Range.prototype.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},Range.prototype.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},Range.prototype.inside=function(row,column){return 0==this.compare(row,column)&&(!this.isEnd(row,column)&&!this.isStart(row,column))},Range.prototype.insideStart=function(row,column){return 0==this.compare(row,column)&&!this.isEnd(row,column)},Range.prototype.insideEnd=function(row,column){return 0==this.compare(row,column)&&!this.isStart(row,column)},Range.prototype.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?row<this.start.row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?column<=this.end.column?0:1:0:column<this.start.column?-1:column>this.end.column?1:0},Range.prototype.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},Range.prototype.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},Range.prototype.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},Range.prototype.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(this.end.row<firstRow)end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(this.start.row<firstRow)start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},Range.prototype.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row,column};else var end={row,column};return Range.fromPoints(start||this.start,end||this.end)},Range.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},Range.prototype.isMultiLine=function(){return this.start.row!==this.end.row},Range.prototype.clone=function(){return Range.fromPoints(this.start,this.end)},Range.prototype.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},Range.prototype.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},Range.prototype.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column},Range}();Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(require,exports,module){"use strict";var oop=require("./oop"),Keys=function(){var name,i,ret={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(i in ret.PRINTABLE_KEYS[173]="-",ret.FUNCTION_KEYS)name=ret.FUNCTION_KEYS[i].toLowerCase(),ret[name]=parseInt(i,10);for(i in ret.PRINTABLE_KEYS)name=ret.PRINTABLE_KEYS[i].toLowerCase(),ret[name]=parseInt(i,10);return oop.mixin(ret,ret.MODIFIER_KEYS),oop.mixin(ret,ret.PRINTABLE_KEYS),oop.mixin(ret,ret.FUNCTION_KEYS),ret.enter=ret.return,ret.escape=ret.esc,ret.del=ret.delete,function(){for(var mods=["cmd","ctrl","alt","shift"],i=Math.pow(2,mods.length);i--;)ret.KEY_MODS[i]=mods.filter((function(x){return i&ret.KEY_MODS[x]})).join("-")+"-"}(),ret.KEY_MODS[0]="",ret.KEY_MODS[-1]="input-",ret}();oop.mixin(exports,Keys),exports.default=exports,exports.keyCodeToString=function(keyCode){var keyString=Keys[keyCode];return"string"!=typeof keyString&&(keyString=String.fromCharCode(keyCode)),keyString.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(require,exports,module){"use strict";var activeListenerOptions,keys=require("./keys"),useragent=require("./useragent"),pressedKeys=null,ts=0;function getListenerOptions(){return null==activeListenerOptions&&function detectListenerOptionsSupport(){activeListenerOptions=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){activeListenerOptions={passive:!1}}})}catch(e){}}(),activeListenerOptions}function EventListener(elem,type,callback){this.elem=elem,this.type=type,this.callback=callback}EventListener.prototype.destroy=function(){removeListener(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var addListener=exports.addListener=function(elem,type,callback,destroyer){elem.addEventListener(type,callback,getListenerOptions()),destroyer&&destroyer.$toDestroy.push(new EventListener(elem,type,callback))},removeListener=exports.removeListener=function(elem,type,callback){elem.removeEventListener(type,callback,getListenerOptions())};exports.stopEvent=function(e){return exports.stopPropagation(e),exports.preventDefault(e),!1},exports.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},exports.preventDefault=function(e){e.preventDefault&&e.preventDefault()},exports.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||useragent.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},exports.capture=function(el,eventHandler,releaseCaptureHandler){var ownerDocument=el&&el.ownerDocument||document;function onMouseUp(e){eventHandler&&eventHandler(e),releaseCaptureHandler&&releaseCaptureHandler(e),removeListener(ownerDocument,"mousemove",eventHandler),removeListener(ownerDocument,"mouseup",onMouseUp),removeListener(ownerDocument,"dragstart",onMouseUp)}return addListener(ownerDocument,"mousemove",eventHandler),addListener(ownerDocument,"mouseup",onMouseUp),addListener(ownerDocument,"dragstart",onMouseUp),onMouseUp},exports.addMouseWheelListener=function(el,callback,destroyer){addListener(el,"wheel",(function(e){var deltaX=e.deltaX||0,deltaY=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*deltaX,e.wheelY=.15*deltaY;break;case e.DOM_DELTA_LINE:e.wheelX=15*deltaX,e.wheelY=15*deltaY;break;case e.DOM_DELTA_PAGE:e.wheelX=150*deltaX,e.wheelY=150*deltaY}callback(e)}),destroyer)},exports.addMultiMouseDownListener=function(elements,timeouts,eventHandler,callbackName,destroyer){var startX,startY,timer,clicks=0,eventNames={2:"dblclick",3:"tripleclick",4:"quadclick"};function onMousedown(e){if(0!==exports.getButton(e)?clicks=0:e.detail>1?++clicks>4&&(clicks=1):clicks=1,useragent.isIE){var isNewClick=Math.abs(e.clientX-startX)>5||Math.abs(e.clientY-startY)>5;timer&&!isNewClick||(clicks=1),timer&&clearTimeout(timer),timer=setTimeout((function(){timer=null}),timeouts[clicks-1]||600),1==clicks&&(startX=e.clientX,startY=e.clientY)}if(e._clicks=clicks,eventHandler[callbackName]("mousedown",e),clicks>4)clicks=0;else if(clicks>1)return eventHandler[callbackName](eventNames[clicks],e)}Array.isArray(elements)||(elements=[elements]),elements.forEach((function(el){addListener(el,"mousedown",onMousedown,destroyer)}))};var getModifierHash=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function normalizeCommandKeys(callback,e,keyCode){var hashId=getModifierHash(e);if(!useragent.isMac&&pressedKeys){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(hashId|=8),pressedKeys.altGr){if(3==(3&hashId))return;pressedKeys.altGr=0}if(18===keyCode||17===keyCode){var location="location"in e?e.location:e.keyLocation;if(17===keyCode&&1===location)1==pressedKeys[keyCode]&&(ts=e.timeStamp);else if(18===keyCode&&3===hashId&&2===location){e.timeStamp-ts<50&&(pressedKeys.altGr=!0)}}}if((keyCode in keys.MODIFIER_KEYS&&(keyCode=-1),!hashId&&13===keyCode)&&(3===(location="location"in e?e.location:e.keyLocation)&&(callback(e,hashId,-keyCode),e.defaultPrevented)))return;if(useragent.isChromeOS&&8&hashId){if(callback(e,hashId,keyCode),e.defaultPrevented)return;hashId&=-9}return!!(hashId||keyCode in keys.FUNCTION_KEYS||keyCode in keys.PRINTABLE_KEYS)&&callback(e,hashId,keyCode)}function resetPressedKeys(){pressedKeys=Object.create(null)}if(exports.getModifierString=function(e){return keys.KEY_MODS[getModifierHash(e)]},exports.addCommandKeyListener=function(el,callback,destroyer){if(useragent.isOldGecko||useragent.isOpera&&!("KeyboardEvent"in window)){var lastKeyDownKeyCode=null;addListener(el,"keydown",(function(e){lastKeyDownKeyCode=e.keyCode}),destroyer),addListener(el,"keypress",(function(e){return normalizeCommandKeys(callback,e,lastKeyDownKeyCode)}),destroyer)}else{var lastDefaultPrevented=null;addListener(el,"keydown",(function(e){pressedKeys[e.keyCode]=(pressedKeys[e.keyCode]||0)+1;var result=normalizeCommandKeys(callback,e,e.keyCode);return lastDefaultPrevented=e.defaultPrevented,result}),destroyer),addListener(el,"keypress",(function(e){lastDefaultPrevented&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(exports.stopEvent(e),lastDefaultPrevented=null)}),destroyer),addListener(el,"keyup",(function(e){pressedKeys[e.keyCode]=null}),destroyer),pressedKeys||(resetPressedKeys(),addListener(window,"focus",resetPressedKeys))}},"object"==typeof window&&window.postMessage&&!useragent.isOldIE){var postMessageId=1;exports.nextTick=function(callback,win){win=win||window;var messageName="zero-timeout-message-"+postMessageId++,listener=function(e){e.data==messageName&&(exports.stopPropagation(e),removeListener(win,"message",listener),callback())};addListener(win,"message",listener),win.postMessage(messageName,"*")}}exports.$idleBlocked=!1,exports.onIdle=function(cb,timeout){return setTimeout((function handler(){exports.$idleBlocked?setTimeout(handler,100):cb()}),timeout)},exports.$idleBlockId=null,exports.blockIdle=function(delay){exports.$idleBlockId&&clearTimeout(exports.$idleBlockId),exports.$idleBlocked=!0,exports.$idleBlockId=setTimeout((function(){exports.$idleBlocked=!1}),delay||100)},exports.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),exports.nextFrame?exports.nextFrame=exports.nextFrame.bind(window):exports.nextFrame=function(callback){setTimeout(callback,17)}})),ace.define("ace/clipboard",["require","exports","module"],(function(require,exports,module){"use strict";var $cancelT;module.exports={lineMode:!1,pasteCancelled:function(){return!!($cancelT&&$cancelT>Date.now()-50)||($cancelT=!1)},cancel:function(){$cancelT=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(require,exports,module){"use strict";var event=require("../lib/event"),nls=require("../config").nls,useragent=require("../lib/useragent"),dom=require("../lib/dom"),lang=require("../lib/lang"),clipboard=require("../clipboard"),BROKEN_SETDATA=useragent.isChrome<18,USE_IE_MIME_TYPE=useragent.isIE,HAS_FOCUS_ARGS=useragent.isChrome>63,KEYS=require("../lib/keys"),MODS=KEYS.KEY_MODS,isIOS=useragent.isIOS,valueResetRegex=isIOS?/\s/:/\n/,isMobile=useragent.isMobile;exports.TextInput=function(parentNode,host){var text=dom.createElement("textarea");text.className="ace_text-input",text.setAttribute("wrap","off"),text.setAttribute("autocorrect","off"),text.setAttribute("autocapitalize","off"),text.setAttribute("spellcheck",!1),text.style.opacity="0",parentNode.insertBefore(text,parentNode.firstChild);var copied=!1,pasted=!1,inComposition=!1,sendingText=!1,tempStyle="";isMobile||(text.style.fontSize="1px");var commandMode=!1,ignoreFocusEvents=!1,lastValue="",lastSelectionStart=0,lastSelectionEnd=0,lastRestoreEnd=0;try{var isFocused=document.activeElement===text}catch(e){}this.setAriaOptions=function(options){options.activeDescendant?(text.setAttribute("aria-haspopup","true"),text.setAttribute("aria-autocomplete",options.inline?"both":"list"),text.setAttribute("aria-activedescendant",options.activeDescendant)):(text.setAttribute("aria-haspopup","false"),text.setAttribute("aria-autocomplete","both"),text.removeAttribute("aria-activedescendant")),options.role&&text.setAttribute("role",options.role)},this.setAriaLabel=function(){if(host.session&&host.renderer.enableKeyboardAccessibility){var row=host.session.selection.cursor.row;text.setAttribute("aria-roledescription",nls("editor")),text.setAttribute("aria-label",nls("Cursor at row $0",[row+1]))}else text.removeAttribute("aria-roledescription"),text.removeAttribute("aria-label")},this.setAriaOptions({role:"textbox"}),this.setAriaLabel(),event.addListener(text,"blur",(function(e){ignoreFocusEvents||(host.onBlur(e),isFocused=!1,isMobile&&!isIOS&&document.removeEventListener("selectionchange",detectSelectionChange))}),host),event.addListener(text,"focus",(function(e){if(!ignoreFocusEvents){if(isFocused=!0,useragent.isEdge)try{if(!document.hasFocus())return}catch(e){}host.onFocus(e),useragent.isEdge?setTimeout(resetSelection):resetSelection(),isMobile&&!isIOS&&document.addEventListener("selectionchange",detectSelectionChange)}}),host),this.$focusScroll=!1,this.focus=function(){if(this.setAriaLabel(),tempStyle||HAS_FOCUS_ARGS||"browser"==this.$focusScroll)return text.focus({preventScroll:!0});var top=text.style.top;text.style.position="fixed",text.style.top="0px";try{var isTransformed=0!=text.getBoundingClientRect().top}catch(e){return}var ancestors=[];if(isTransformed)for(var t=text.parentElement;t&&1==t.nodeType;)ancestors.push(t),t.setAttribute("ace_nocontext",!0),t=!t.parentElement&&t.getRootNode?t.getRootNode().host:t.parentElement;text.focus({preventScroll:!0}),isTransformed&&ancestors.forEach((function(p){p.removeAttribute("ace_nocontext")})),setTimeout((function(){text.style.position="","0px"==text.style.top&&(text.style.top=top)}),0)},this.blur=function(){text.blur()},this.isFocused=function(){return isFocused},host.on("beforeEndOperation",(function(){var curOp=host.curOp,commandName=curOp&&curOp.command&&curOp.command.name;if("insertstring"!=commandName){var isUserAction=commandName&&(curOp.docChanged||curOp.selectionChanged);inComposition&&isUserAction&&(lastValue=text.value="",onCompositionEnd()),resetSelection()}}));var resetSelection=isIOS?function(value){if(isFocused&&(!copied||value)&&!sendingText){value||(value="");var newValue="\n ab"+value+"cde fg\n";newValue!=text.value&&(text.value=lastValue=newValue);var selectionEnd=4+(value.length||(host.selection.isEmpty()?0:1));4==lastSelectionStart&&lastSelectionEnd==selectionEnd||text.setSelectionRange(4,selectionEnd),lastSelectionStart=4,lastSelectionEnd=selectionEnd}}:function(){if(!inComposition&&!sendingText&&(isFocused||afterContextMenu)){inComposition=!0;var selectionStart=0,selectionEnd=0,line="";if(host.session){var selection=host.selection,range=selection.getRange(),row=selection.cursor.row;if(selectionStart=range.start.column,selectionEnd=range.end.column,line=host.session.getLine(row),range.start.row!=row){var prevLine=host.session.getLine(row-1);selectionStart=range.start.row<row-1?0:selectionStart,selectionEnd+=prevLine.length+1,line=prevLine+"\n"+line}else if(range.end.row!=row){var nextLine=host.session.getLine(row+1);selectionEnd=range.end.row>row+1?nextLine.length:selectionEnd,selectionEnd+=line.length+1,line=line+"\n"+nextLine}else isMobile&&row>0&&(line="\n"+line,selectionEnd+=1,selectionStart+=1);line.length>400&&(selectionStart<400&&selectionEnd<400?line=line.slice(0,400):(line="\n",selectionStart==selectionEnd?selectionStart=selectionEnd=0:(selectionStart=0,selectionEnd=1)))}var newValue=line+"\n\n";if(newValue!=lastValue&&(text.value=lastValue=newValue,lastSelectionStart=lastSelectionEnd=newValue.length),afterContextMenu&&(lastSelectionStart=text.selectionStart,lastSelectionEnd=text.selectionEnd),lastSelectionEnd!=selectionEnd||lastSelectionStart!=selectionStart||text.selectionEnd!=lastSelectionEnd)try{text.setSelectionRange(selectionStart,selectionEnd),lastSelectionStart=selectionStart,lastSelectionEnd=selectionEnd}catch(e){}inComposition=!1}};this.resetSelection=resetSelection,isFocused&&host.onFocus();function detectSelectionChange(e){if(text&&text.parentNode||document.removeEventListener("selectionchange",detectSelectionChange),!inComposition&&text.selectionStart===text.selectionEnd){var startDiff=text.selectionStart-lastSelectionStart,oldLenght=lastSelectionEnd-lastSelectionStart;startDiff>0?startDiff=Math.max(startDiff-oldLenght,1):0===startDiff&&oldLenght&&(startDiff=-1);for(var repeat=Math.abs(startDiff),key=startDiff>0?KEYS.right:KEYS.left,i=0;i<repeat;i++)host.onCommandKey({},0,key)}}var inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb},this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(value,fromInput){if(afterContextMenu&&(afterContextMenu=!1),pasted)return resetSelection(),value&&host.onPaste(value),pasted=!1,"";for(var selectionStart=text.selectionStart,selectionEnd=text.selectionEnd,extendLeft=lastSelectionStart,extendRight=lastValue.length-lastSelectionEnd,inserted=value,restoreStart=value.length-selectionStart,restoreEnd=value.length-selectionEnd,i=0;extendLeft>0&&lastValue[i]==value[i];)i++,extendLeft--;for(inserted=inserted.slice(i),i=1;extendRight>0&&lastValue.length-i>lastSelectionStart-1&&lastValue[lastValue.length-i]==value[value.length-i];)i++,extendRight--;restoreStart-=i-1,restoreEnd-=i-1;var endIndex=inserted.length-i+1;if(endIndex<0&&(extendLeft=-endIndex,endIndex=0),inserted=inserted.slice(0,endIndex),!(fromInput||inserted||restoreStart||extendLeft||extendRight||restoreEnd))return"";sendingText=!0;var shouldReset=!1;return useragent.isAndroid&&". "==inserted&&(inserted="  ",shouldReset=!0),inserted&&!extendLeft&&!extendRight&&!restoreStart&&!restoreEnd||commandMode?host.onTextInput(inserted):host.onTextInput(inserted,{extendLeft,extendRight,restoreStart,restoreEnd}),sendingText=!1,lastValue=value,lastSelectionStart=selectionStart,lastSelectionEnd=selectionEnd,lastRestoreEnd=restoreEnd,shouldReset?"\n":inserted},onInput=function(e){if(inComposition)return onCompositionUpdate();if(e&&e.inputType){if("historyUndo"==e.inputType)return host.execCommand("undo");if("historyRedo"==e.inputType)return host.execCommand("redo")}var data=text.value,inserted=sendText(data,!0);(data.length>500||valueResetRegex.test(inserted)||isMobile&&lastSelectionStart<1&&lastSelectionStart==lastSelectionEnd)&&resetSelection()},handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData&&!BROKEN_SETDATA){var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{return data?!1!==clipboardData.setData(mime,data):clipboardData.getData(mime)}catch(e){if(!forceIEMime)return handleClipboardData(e,data,!0)}}},doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);handleClipboardData(e,data)?(isIOS&&(resetSelection(data),copied=data,setTimeout((function(){copied=!1}),10)),isCut?host.onCut():host.onCopy(),event.preventDefault(e)):(copied=!0,text.value=data,text.select(),setTimeout((function(){copied=!1,resetSelection(),isCut?host.onCut():host.onCopy()})))},onCut=function(e){doCopy(e,!0)},onCopy=function(e){doCopy(e,!1)},onPaste=function(e){var data=handleClipboardData(e);clipboard.pasteCancelled()||("string"==typeof data?(data&&host.onPaste(data,e),useragent.isIE&&setTimeout(resetSelection),event.preventDefault(e)):(text.value="",pasted=!0))};event.addCommandKeyListener(text,host.onCommandKey.bind(host),host),event.addListener(text,"select",(function(e){inComposition||(copied?copied=!1:!function(text){return 0===text.selectionStart&&text.selectionEnd>=lastValue.length&&text.value===lastValue&&lastValue&&text.selectionEnd!==lastSelectionEnd}(text)?isMobile&&text.selectionStart!=lastSelectionStart&&resetSelection():(host.selectAll(),resetSelection()))}),host),event.addListener(text,"input",onInput,host),event.addListener(text,"cut",onCut,host),event.addListener(text,"copy",onCopy,host),event.addListener(text,"paste",onPaste,host),"oncut"in text&&"oncopy"in text&&"onpaste"in text||event.addListener(parentNode,"keydown",(function(e){if((!useragent.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:onCopy(e);break;case 86:onPaste(e);break;case 88:onCut(e)}}),host);var onCompositionUpdate=function(){if(inComposition&&host.onCompositionUpdate&&!host.$readOnly){if(commandMode)return cancelComposition();if(inComposition.useTextareaForIME)host.onCompositionUpdate(text.value);else{var data=text.value;sendText(data),inComposition.markerRange&&(inComposition.context&&(inComposition.markerRange.start.column=inComposition.selectionStart=inComposition.context.compositionStartOffset),inComposition.markerRange.end.column=inComposition.markerRange.start.column+lastSelectionEnd-inComposition.selectionStart+lastRestoreEnd)}}},onCompositionEnd=function(e){host.onCompositionEnd&&!host.$readOnly&&(inComposition=!1,host.onCompositionEnd(),host.off("mousedown",cancelComposition),e&&onInput())};function cancelComposition(){ignoreFocusEvents=!0,text.blur(),text.focus(),ignoreFocusEvents=!1}var closeTimeout,syncComposition=lang.delayedCall(onCompositionUpdate,50).schedule.bind(null,null);function onContextMenuClose(){clearTimeout(closeTimeout),closeTimeout=setTimeout((function(){tempStyle&&(text.style.cssText=tempStyle,tempStyle=""),host.renderer.$isMousePressed=!1,host.renderer.$keepTextAreaAtCursor&&host.renderer.$moveTextAreaToCursor()}),0)}event.addListener(text,"compositionstart",(function(e){if(!inComposition&&host.onCompositionStart&&!host.$readOnly&&(inComposition={},!commandMode)){e.data&&(inComposition.useTextareaForIME=!1),setTimeout(onCompositionUpdate,0),host._signal("compositionStart"),host.on("mousedown",cancelComposition);var range=host.getSelectionRange();range.end.row=range.start.row,range.end.column=range.start.column,inComposition.markerRange=range,inComposition.selectionStart=lastSelectionStart,host.onCompositionStart(inComposition),inComposition.useTextareaForIME?(lastValue=text.value="",lastSelectionStart=0,lastSelectionEnd=0):(text.msGetInputContext&&(inComposition.context=text.msGetInputContext()),text.getInputContext&&(inComposition.context=text.getInputContext()))}}),host),event.addListener(text,"compositionupdate",onCompositionUpdate,host),event.addListener(text,"keyup",(function onKeyup(e){27==e.keyCode&&text.value.length<text.selectionStart&&(inComposition||(lastValue=text.value),lastSelectionStart=lastSelectionEnd=-1,resetSelection()),syncComposition()}),host),event.addListener(text,"keydown",syncComposition,host),event.addListener(text,"compositionend",onCompositionEnd,host),this.getElement=function(){return text},this.setCommandMode=function(value){commandMode=value,text.readOnly=!1},this.setReadOnly=function(readOnly){commandMode||(text.readOnly=readOnly)},this.setCopyWithEmptySelection=function(value){},this.onContextMenu=function(e){afterContextMenu=!0,resetSelection(),host._emit("nativecontextmenu",{target:host,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,bringToFront){tempStyle||(tempStyle=text.style.cssText),text.style.cssText=(bringToFront?"z-index:100000;":"")+(useragent.isIE?"opacity:0.1;":"")+"text-indent: -"+(lastSelectionStart+lastSelectionEnd)*host.renderer.characterWidth*.5+"px;";var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight-2,move=function(e){dom.translate(text,e.clientX-left-2,Math.min(e.clientY-top-2,maxTop))};move(e),"mousedown"==e.type&&(host.renderer.$isMousePressed=!0,clearTimeout(closeTimeout),useragent.isWin&&event.capture(host.container,move,onContextMenuClose))},this.onContextMenuClose=onContextMenuClose;var onContextMenu=function(e){host.textInput.onContextMenu(e),onContextMenuClose()};event.addListener(text,"mouseup",onContextMenu,host),event.addListener(text,"mousedown",(function(e){e.preventDefault(),onContextMenuClose()}),host),event.addListener(host.renderer.scroller,"contextmenu",onContextMenu,host),event.addListener(text,"contextmenu",onContextMenu,host),isIOS&&function addIosSelectionHandler(parentNode,host,text){var typingResetTimeout=null,typing=!1;text.addEventListener("keydown",(function(e){typingResetTimeout&&clearTimeout(typingResetTimeout),typing=!0}),!0),text.addEventListener("keyup",(function(e){typingResetTimeout=setTimeout((function(){typing=!1}),100)}),!0);var detectArrowKeys=function(e){if(document.activeElement===text&&!(typing||inComposition||host.$mouseHandler.isMousePressed||copied)){var selectionStart=text.selectionStart,selectionEnd=text.selectionEnd,key=null,modifier=0;if(0==selectionStart?key=KEYS.up:1==selectionStart?key=KEYS.home:selectionEnd>lastSelectionEnd&&"\n"==lastValue[selectionEnd]?key=KEYS.end:selectionStart<lastSelectionStart&&" "==lastValue[selectionStart-1]?(key=KEYS.left,modifier=MODS.option):selectionStart<lastSelectionStart||selectionStart==lastSelectionStart&&lastSelectionEnd!=lastSelectionStart&&selectionStart==selectionEnd?key=KEYS.left:selectionEnd>lastSelectionEnd&&lastValue.slice(0,selectionEnd).split("\n").length>2?key=KEYS.down:selectionEnd>lastSelectionEnd&&" "==lastValue[selectionEnd-1]?(key=KEYS.right,modifier=MODS.option):(selectionEnd>lastSelectionEnd||selectionEnd==lastSelectionEnd&&lastSelectionEnd!=lastSelectionStart&&selectionStart==selectionEnd)&&(key=KEYS.right),selectionStart!==selectionEnd&&(modifier|=MODS.shift),key){if(!host.onCommandKey({},modifier,key)&&host.commands){key=KEYS.keyCodeToString(key);var command=host.commands.findKeyCommand(modifier,key);command&&host.execCommand(command)}lastSelectionStart=selectionStart,lastSelectionEnd=selectionEnd,resetSelection("")}}};document.addEventListener("selectionchange",detectArrowKeys),host.on("destroy",(function(){document.removeEventListener("selectionchange",detectArrowKeys)}))}(0,host,text),this.destroy=function(){text.parentElement&&text.parentElement.removeChild(text)}},exports.$setUserAgentForTests=function(_isMobile,_isIOS){isMobile=_isMobile,isIOS=_isIOS}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(require,exports,module){"use strict";var useragent=require("../lib/useragent"),DefaultHandlers=function(){function DefaultHandlers(mouseHandler){mouseHandler.$clickSelection=null;var editor=mouseHandler.editor;editor.setDefaultHandler("mousedown",this.onMouseDown.bind(mouseHandler)),editor.setDefaultHandler("dblclick",this.onDoubleClick.bind(mouseHandler)),editor.setDefaultHandler("tripleclick",this.onTripleClick.bind(mouseHandler)),editor.setDefaultHandler("quadclick",this.onQuadClick.bind(mouseHandler)),editor.setDefaultHandler("mousewheel",this.onMouseWheel.bind(mouseHandler));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(x){mouseHandler[x]=this[x]}),this),mouseHandler.selectByLines=this.extendSelectionBy.bind(mouseHandler,"getLineRange"),mouseHandler.selectByWords=this.extendSelectionBy.bind(mouseHandler,"getWordRange")}return DefaultHandlers.prototype.onMouseDown=function(ev){var inSelection=ev.inSelection(),pos=ev.getDocumentPosition();this.mousedownEvent=ev;var editor=this.editor,button=ev.getButton();return 0!==button?((editor.getSelectionRange().isEmpty()||1==button)&&editor.selection.moveToPosition(pos),void(2==button&&(editor.textInput.onContextMenu(ev.domEvent),useragent.isMozilla||ev.preventDefault()))):(this.mousedownEvent.time=Date.now(),!inSelection||editor.isFocused()||(editor.focus(),!this.$focusTimeout||this.$clickSelection||editor.inMultiSelectMode)?(this.captureMouse(ev),this.startSelect(pos,ev.domEvent._clicks>1),ev.preventDefault()):(this.setState("focusWait"),void this.captureMouse(ev)))},DefaultHandlers.prototype.startSelect=function(pos,waitForClickSelection){pos=pos||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var editor=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?editor.selection.selectToPosition(pos):waitForClickSelection||editor.selection.moveToPosition(pos),waitForClickSelection||this.select(),editor.setStyle("ace_selecting"),this.setState("select"))},DefaultHandlers.prototype.select=function(){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var cmp=this.$clickSelection.comparePoint(cursor);if(-1==cmp)anchor=this.$clickSelection.end;else if(1==cmp)anchor=this.$clickSelection.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.renderer.scrollCursorIntoView()},DefaultHandlers.prototype.extendSelectionBy=function(unitName){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y),range=editor.selection[unitName](cursor.row,cursor.column);if(this.$clickSelection){var cmpStart=this.$clickSelection.comparePoint(range.start),cmpEnd=this.$clickSelection.comparePoint(range.end);if(-1==cmpStart&&cmpEnd<=0)anchor=this.$clickSelection.end,range.end.row==cursor.row&&range.end.column==cursor.column||(cursor=range.start);else if(1==cmpEnd&&cmpStart>=0)anchor=this.$clickSelection.start,range.start.row==cursor.row&&range.start.column==cursor.column||(cursor=range.end);else if(-1==cmpStart&&1==cmpEnd)cursor=range.end,anchor=range.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.renderer.scrollCursorIntoView()},DefaultHandlers.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},DefaultHandlers.prototype.focusWait=function(){var distance=function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),time=Date.now();(distance>0||time-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},DefaultHandlers.prototype.onDoubleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor,range=editor.session.getBracketRange(pos);range?(range.isEmpty()&&(range.start.column--,range.end.column++),this.setState("select")):(range=editor.selection.getWordRange(pos.row,pos.column),this.setState("selectByWords")),this.$clickSelection=range,this.select()},DefaultHandlers.prototype.onTripleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor;this.setState("selectByLines");var range=editor.getSelectionRange();range.isMultiLine()&&range.contains(pos.row,pos.column)?(this.$clickSelection=editor.selection.getLineRange(range.start.row),this.$clickSelection.end=editor.selection.getLineRange(range.end.row).end):this.$clickSelection=editor.selection.getLineRange(pos.row),this.select()},DefaultHandlers.prototype.onQuadClick=function(ev){var editor=this.editor;editor.selectAll(),this.$clickSelection=editor.getSelectionRange(),this.setState("selectAll")},DefaultHandlers.prototype.onMouseWheel=function(ev){if(!ev.getAccelKey()){ev.getShiftKey()&&ev.wheelY&&!ev.wheelX&&(ev.wheelX=ev.wheelY,ev.wheelY=0);var editor=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var prevScroll=this.$lastScroll,t=ev.domEvent.timeStamp,dt=t-prevScroll.t,vx=dt?ev.wheelX/dt:prevScroll.vx,vy=dt?ev.wheelY/dt:prevScroll.vy;dt<550&&(vx=(vx+prevScroll.vx)/2,vy=(vy+prevScroll.vy)/2);var direction=Math.abs(vx/vy),canScroll=!1;if(direction>=1&&editor.renderer.isScrollableBy(ev.wheelX*ev.speed,0)&&(canScroll=!0),direction<=1&&editor.renderer.isScrollableBy(0,ev.wheelY*ev.speed)&&(canScroll=!0),canScroll)prevScroll.allowed=t;else if(t-prevScroll.allowed<550){Math.abs(vx)<=1.5*Math.abs(prevScroll.vx)&&Math.abs(vy)<=1.5*Math.abs(prevScroll.vy)?(canScroll=!0,prevScroll.allowed=t):prevScroll.allowed=0}return prevScroll.t=t,prevScroll.vx=vx,prevScroll.vy=vy,canScroll?(editor.renderer.scrollBy(ev.wheelX*ev.speed,ev.wheelY*ev.speed),ev.stop()):void 0}},DefaultHandlers}();function calcRangeOrientation(range,cursor){if(range.start.row==range.end.row)var cmp=2*cursor.column-range.start.column-range.end.column;else if(range.start.row!=range.end.row-1||range.start.column||range.end.column)cmp=2*cursor.row-range.start.row-range.end.row;else var cmp=cursor.column-4;return cmp<0?{cursor:range.start,anchor:range.end}:{cursor:range.end,anchor:range.start}}DefaultHandlers.prototype.selectEnd=DefaultHandlers.prototype.selectByLinesEnd,DefaultHandlers.prototype.selectAllEnd=DefaultHandlers.prototype.selectByLinesEnd,DefaultHandlers.prototype.selectByWordsEnd=DefaultHandlers.prototype.selectByLinesEnd,exports.DefaultHandlers=DefaultHandlers})),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],(function(require,exports,module){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},dom=require("./lib/dom"),Range=require("./range").Range,Tooltip=function(){function Tooltip(parentNode){this.isOpen=!1,this.$element=null,this.$parentNode=parentNode}return Tooltip.prototype.$init=function(){return this.$element=dom.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},Tooltip.prototype.getElement=function(){return this.$element||this.$init()},Tooltip.prototype.setText=function(text){this.getElement().textContent=text},Tooltip.prototype.setHtml=function(html){this.getElement().innerHTML=html},Tooltip.prototype.setPosition=function(x,y){this.getElement().style.left=x+"px",this.getElement().style.top=y+"px"},Tooltip.prototype.setClassName=function(className){dom.addCssClass(this.getElement(),className)},Tooltip.prototype.setTheme=function(theme){this.$element.className="ace_tooltip "+(theme.isDark?"ace_dark ":"")+(theme.cssClass||"")},Tooltip.prototype.show=function(text,x,y){null!=text&&this.setText(text),null!=x&&null!=y&&this.setPosition(x,y),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},Tooltip.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className="ace_tooltip",this.isOpen=!1)},Tooltip.prototype.getHeight=function(){return this.getElement().offsetHeight},Tooltip.prototype.getWidth=function(){return this.getElement().offsetWidth},Tooltip.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},Tooltip}(),popupManager=new(function(){function PopupManager(){this.popups=[]}return PopupManager.prototype.addPopup=function(popup){this.popups.push(popup),this.updatePopups()},PopupManager.prototype.removePopup=function(popup){var index=this.popups.indexOf(popup);-1!==index&&(this.popups.splice(index,1),this.updatePopups())},PopupManager.prototype.updatePopups=function(){var e_1,_a,e_2,_b;this.popups.sort((function(a,b){return b.priority-a.priority}));var visiblepopups=[];try{for(var _c=__values(this.popups),_d=_c.next();!_d.done;_d=_c.next()){var popup=_d.value,shouldDisplay=!0;try{for(var visiblepopups_1=(e_2=void 0,__values(visiblepopups)),visiblepopups_1_1=visiblepopups_1.next();!visiblepopups_1_1.done;visiblepopups_1_1=visiblepopups_1.next()){var visiblePopup=visiblepopups_1_1.value;if(this.doPopupsOverlap(visiblePopup,popup)){shouldDisplay=!1;break}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{visiblepopups_1_1&&!visiblepopups_1_1.done&&(_b=visiblepopups_1.return)&&_b.call(visiblepopups_1)}finally{if(e_2)throw e_2.error}}shouldDisplay?visiblepopups.push(popup):popup.hide()}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}},PopupManager.prototype.doPopupsOverlap=function(popupA,popupB){var rectA=popupA.getElement().getBoundingClientRect(),rectB=popupB.getElement().getBoundingClientRect();return rectA.left<rectB.right&&rectA.right>rectB.left&&rectA.top<rectB.bottom&&rectA.bottom>rectB.top},PopupManager}());exports.popupManager=popupManager,exports.Tooltip=Tooltip;var HoverTooltip=function(_super){function HoverTooltip(parentNode){void 0===parentNode&&(parentNode=document.body);var _this=_super.call(this,parentNode)||this;_this.timeout=void 0,_this.lastT=0,_this.idleTime=350,_this.lastEvent=void 0,_this.onMouseOut=_this.onMouseOut.bind(_this),_this.onMouseMove=_this.onMouseMove.bind(_this),_this.waitForHover=_this.waitForHover.bind(_this),_this.hide=_this.hide.bind(_this);var el=_this.getElement();return el.style.whiteSpace="pre-wrap",el.style.pointerEvents="auto",el.addEventListener("mouseout",_this.onMouseOut),el.tabIndex=-1,el.addEventListener("blur",function(){el.contains(document.activeElement)||this.hide()}.bind(_this)),_this}return __extends(HoverTooltip,_super),HoverTooltip.prototype.addToEditor=function(editor){editor.on("mousemove",this.onMouseMove),editor.on("mousedown",this.hide),editor.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},HoverTooltip.prototype.removeFromEditor=function(editor){editor.off("mousemove",this.onMouseMove),editor.off("mousedown",this.hide),editor.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},HoverTooltip.prototype.onMouseMove=function(e,editor){this.lastEvent=e,this.lastT=Date.now();var isMousePressed=editor.$mouseHandler.isMousePressed;if(this.isOpen){var pos=this.lastEvent&&this.lastEvent.getDocumentPosition();this.range&&this.range.contains(pos.row,pos.column)&&!isMousePressed&&!this.isOutsideOfText(this.lastEvent)||this.hide()}this.timeout||isMousePressed||(this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime))},HoverTooltip.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var dt=Date.now()-this.lastT;this.idleTime-dt>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-dt):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},HoverTooltip.prototype.isOutsideOfText=function(e){var editor=e.editor,docPos=e.getDocumentPosition(),line=editor.session.getLine(docPos.row);if(docPos.column==line.length){var screenPos=editor.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),clippedPos=editor.session.documentToScreenPosition(docPos.row,docPos.column);if(clippedPos.column!=screenPos.column||clippedPos.row!=screenPos.row)return!0}return!1},HoverTooltip.prototype.setDataProvider=function(value){this.$gatherData=value},HoverTooltip.prototype.showForRange=function(editor,range,domNode,startingEvent){if(!(startingEvent&&startingEvent!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement())){var renderer=editor.renderer;this.isOpen||(popupManager.addPopup(this),this.$registerCloseEvents(),this.setTheme(renderer.theme)),this.isOpen=!0,this.addMarker(range,editor.session),this.range=Range.fromPoints(range.start,range.end);var element=this.getElement();element.innerHTML="",element.appendChild(domNode),element.style.display="block";var position=renderer.textToScreenCoordinates(range.start.row,range.start.column),cursorPos=editor.getCursorPosition(),labelHeight=element.clientHeight,rect=renderer.scroller.getBoundingClientRect(),isTopdown=!0;this.row>cursorPos.row?isTopdown=!0:this.row<cursorPos.row&&(isTopdown=!1),position.pageY-labelHeight+renderer.lineHeight<rect.top?isTopdown=!0:position.pageY+labelHeight>rect.bottom&&(isTopdown=!1),isTopdown?position.pageY+=renderer.lineHeight:position.pageY-=labelHeight,element.style.maxWidth=rect.width-(position.pageX-rect.left)+"px",this.setPosition(position.pageX,position.pageY)}},HoverTooltip.prototype.addMarker=function(range,session){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=session,this.marker=session&&session.addMarker(range,"ace_highlight-marker","text")},HoverTooltip.prototype.hide=function(e){(e||document.activeElement!=this.getElement())&&(e&&e.target&&("keydown"!=e.type||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,popupManager.removePopup(this))))},HoverTooltip.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},HoverTooltip.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},HoverTooltip.prototype.onMouseOut=function(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&e.relatedTarget&&e.relatedTarget!=this.getElement()&&(e&&e.currentTarget.contains(e.relatedTarget)||e.relatedTarget.classList.contains("ace_content")||this.hide())},HoverTooltip}(Tooltip);exports.HoverTooltip=HoverTooltip})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],(function(require,exports,module){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},dom=require("../lib/dom"),event=require("../lib/event"),Tooltip=require("../tooltip").Tooltip,nls=require("../config").nls;exports.GutterHandler=function GutterHandler(mouseHandler){var tooltipTimeout,mouseEvent,editor=mouseHandler.editor,gutter=editor.renderer.$gutterLayer,tooltip=new GutterTooltip(editor);function hideTooltip(){tooltipTimeout&&(tooltipTimeout=clearTimeout(tooltipTimeout)),tooltip.isOpen&&(tooltip.hideTooltip(),editor.off("mousewheel",hideTooltip))}function moveTooltip(e){tooltip.setPosition(e.x,e.y)}mouseHandler.editor.setDefaultHandler("guttermousedown",(function(e){if(editor.isFocused()&&0==e.getButton()&&"foldWidgets"!=gutter.getRegion(e)){var row=e.getDocumentPosition().row,selection=editor.session.selection;if(e.getShiftKey())selection.selectTo(row,0);else{if(2==e.domEvent.detail)return editor.selectAll(),e.preventDefault();mouseHandler.$clickSelection=editor.selection.getLineRange(row)}return mouseHandler.setState("selectByLines"),mouseHandler.captureMouse(e),e.preventDefault()}})),mouseHandler.editor.setDefaultHandler("guttermousemove",(function(e){var target=e.domEvent.target||e.domEvent.srcElement;if(dom.hasCssClass(target,"ace_fold-widget"))return hideTooltip();tooltip.isOpen&&mouseHandler.$tooltipFollowsMouse&&moveTooltip(e),mouseEvent=e,tooltipTimeout||(tooltipTimeout=setTimeout((function(){tooltipTimeout=null,mouseEvent&&!mouseHandler.isMousePressed?function showTooltip(){var row=mouseEvent.getDocumentPosition().row;if(row==editor.session.getLength()){var screenRow=editor.renderer.pixelToScreenCoordinates(0,mouseEvent.y).row,pos=mouseEvent.$pos;if(screenRow>editor.session.documentToScreenRow(pos.row,pos.column))return hideTooltip()}if(tooltip.showTooltip(row),tooltip.isOpen)if(editor.on("mousewheel",hideTooltip),mouseHandler.$tooltipFollowsMouse)moveTooltip(mouseEvent);else{var rect=gutter.$lines.cells[row].element.querySelector("[class*=ace_icon]").getBoundingClientRect(),style=tooltip.getElement().style;style.left=rect.right+"px",style.top=rect.bottom+"px"}}():hideTooltip()}),50))})),event.addListener(editor.renderer.$gutter,"mouseout",(function(e){mouseEvent=null,tooltip.isOpen&&!tooltipTimeout&&(tooltipTimeout=setTimeout((function(){tooltipTimeout=null,hideTooltip()}),50))}),editor),editor.on("changeSession",hideTooltip),editor.on("input",hideTooltip)};var GutterTooltip=function(_super){function GutterTooltip(editor){var _this=_super.call(this,editor.container)||this;return _this.editor=editor,_this}return __extends(GutterTooltip,_super),GutterTooltip.prototype.setPosition=function(x,y){var windowWidth=window.innerWidth||document.documentElement.clientWidth,windowHeight=window.innerHeight||document.documentElement.clientHeight,width=this.getWidth(),height=this.getHeight();(x+=15)+width>windowWidth&&(x-=x+width-windowWidth),(y+=15)+height>windowHeight&&(y-=20+height),Tooltip.prototype.setPosition.call(this,x,y)},Object.defineProperty(GutterTooltip,"annotationLabels",{get:function(){return{error:{singular:nls("error"),plural:nls("errors")},warning:{singular:nls("warning"),plural:nls("warnings")},info:{singular:nls("information message"),plural:nls("information messages")}}},enumerable:!1,configurable:!0}),GutterTooltip.prototype.showTooltip=function(row){var annotation,gutter=this.editor.renderer.$gutterLayer,annotationsInRow=gutter.$annotations[row];annotation=annotationsInRow?{text:Array.from(annotationsInRow.text),type:Array.from(annotationsInRow.type)}:{text:[],type:[]};var fold=gutter.session.getFoldLine(row);if(fold&&gutter.$showFoldedAnnotations){for(var mostSevereAnnotationInFoldType,annotationsInFold={error:[],warning:[],info:[]},i=row+1;i<=fold.end.row;i++)if(gutter.$annotations[i])for(var j=0;j<gutter.$annotations[i].text.length;j++){var annotationType=gutter.$annotations[i].type[j];annotationsInFold[annotationType].push(gutter.$annotations[i].text[j]),"error"!==annotationType?"warning"!==annotationType||(mostSevereAnnotationInFoldType="warning_fold"):mostSevereAnnotationInFoldType="error_fold"}if("error_fold"===mostSevereAnnotationInFoldType||"warning_fold"===mostSevereAnnotationInFoldType){var summaryFoldedAnnotations="".concat(GutterTooltip.annotationsToSummaryString(annotationsInFold)," in folded code.");annotation.text.push(summaryFoldedAnnotations),annotation.type.push(mostSevereAnnotationInFoldType)}}if(0===annotation.text.length)return this.hide();var annotationMessages={error:[],warning:[],info:[]},iconClassName=gutter.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(i=0;i<annotation.text.length;i++){var line="<span class='ace_".concat(annotation.type[i]," ").concat(iconClassName,"' aria-label='").concat(GutterTooltip.annotationLabels[annotation.type[i].replace("_fold","")].singular,"' role=img> </span> ").concat(annotation.text[i]);annotationMessages[annotation.type[i].replace("_fold","")].push(line)}var tooltipContent=[].concat(annotationMessages.error,annotationMessages.warning,annotationMessages.info).join("<br>");this.setHtml(tooltipContent),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},GutterTooltip.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},GutterTooltip.annotationsToSummaryString=function(annotations){var e_1,_a,summary=[];try{for(var annotationTypes_1=__values(["error","warning","info"]),annotationTypes_1_1=annotationTypes_1.next();!annotationTypes_1_1.done;annotationTypes_1_1=annotationTypes_1.next()){var annotationType=annotationTypes_1_1.value;if(annotations[annotationType].length){var label=1===annotations[annotationType].length?GutterTooltip.annotationLabels[annotationType].singular:GutterTooltip.annotationLabels[annotationType].plural;summary.push("".concat(annotations[annotationType].length," ").concat(label))}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{annotationTypes_1_1&&!annotationTypes_1_1.done&&(_a=annotationTypes_1.return)&&_a.call(annotationTypes_1)}finally{if(e_1)throw e_1.error}}return summary.join(", ")},GutterTooltip}(Tooltip);exports.GutterTooltip=GutterTooltip})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(require,exports,module){"use strict";var event=require("../lib/event"),useragent=require("../lib/useragent"),MouseEvent=function(){function MouseEvent(domEvent,editor){this.domEvent=domEvent,this.editor=editor,this.x=this.clientX=domEvent.clientX,this.y=this.clientY=domEvent.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return MouseEvent.prototype.stopPropagation=function(){event.stopPropagation(this.domEvent),this.propagationStopped=!0},MouseEvent.prototype.preventDefault=function(){event.preventDefault(this.domEvent),this.defaultPrevented=!0},MouseEvent.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},MouseEvent.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},MouseEvent.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var selectionRange=this.editor.getSelectionRange();if(selectionRange.isEmpty())this.$inSelection=!1;else{var pos=this.getDocumentPosition();this.$inSelection=selectionRange.contains(pos.row,pos.column)}return this.$inSelection},MouseEvent.prototype.getButton=function(){return event.getButton(this.domEvent)},MouseEvent.prototype.getShiftKey=function(){return this.domEvent.shiftKey},MouseEvent.prototype.getAccelKey=function(){return useragent.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},MouseEvent}();exports.MouseEvent=MouseEvent})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(require,exports,module){"use strict";var dom=require("../lib/dom"),event=require("../lib/event"),useragent=require("../lib/useragent");function DragdropHandler(mouseHandler){var editor=mouseHandler.editor,dragImage=dom.createElement("div");dragImage.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",dragImage.textContent="";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(x){mouseHandler[x]=this[x]}),this),editor.on("mousedown",this.onMouseDown.bind(mouseHandler));var dragSelectionMarker,x,y,timerId,range,dragCursor,dragOperation,isInternal,autoScrollStartTime,cursorMovedTime,cursorPointOnCaretMoved,mouseTarget=editor.container,counter=0;function onDragInterval(){var prevCursor=dragCursor;(function scrollCursorIntoView(cursor,prevCursor){var now=Date.now(),vMovement=!prevCursor||cursor.row!=prevCursor.row,hMovement=!prevCursor||cursor.column!=prevCursor.column;!cursorMovedTime||vMovement||hMovement?(editor.moveCursorToPosition(cursor),cursorMovedTime=now,cursorPointOnCaretMoved={x,y}):calcDistance(cursorPointOnCaretMoved.x,cursorPointOnCaretMoved.y,x,y)>5?cursorMovedTime=null:now-cursorMovedTime>=200&&(editor.renderer.scrollCursorIntoView(),cursorMovedTime=null)})(dragCursor=editor.renderer.screenToTextCoordinates(x,y),prevCursor),function autoScroll(cursor,prevCursor){var now=Date.now(),lineHeight=editor.renderer.layerConfig.lineHeight,characterWidth=editor.renderer.layerConfig.characterWidth,editorRect=editor.renderer.scroller.getBoundingClientRect(),offsets={x:{left:x-editorRect.left,right:editorRect.right-x},y:{top:y-editorRect.top,bottom:editorRect.bottom-y}},nearestXOffset=Math.min(offsets.x.left,offsets.x.right),nearestYOffset=Math.min(offsets.y.top,offsets.y.bottom),scrollCursor={row:cursor.row,column:cursor.column};nearestXOffset/characterWidth<=2&&(scrollCursor.column+=offsets.x.left<offsets.x.right?-3:2),nearestYOffset/lineHeight<=1&&(scrollCursor.row+=offsets.y.top<offsets.y.bottom?-1:1);var vScroll=cursor.row!=scrollCursor.row,hScroll=cursor.column!=scrollCursor.column,vMovement=!prevCursor||cursor.row!=prevCursor.row;vScroll||hScroll&&!vMovement?autoScrollStartTime?now-autoScrollStartTime>=200&&editor.renderer.scrollCursorIntoView(scrollCursor):autoScrollStartTime=now:autoScrollStartTime=null}(dragCursor,prevCursor)}function addDragMarker(){range=editor.selection.toOrientedRange(),dragSelectionMarker=editor.session.addMarker(range,"ace_selection",editor.getSelectionStyle()),editor.clearSelection(),editor.isFocused()&&editor.renderer.$cursorLayer.setBlinking(!1),clearInterval(timerId),onDragInterval(),timerId=setInterval(onDragInterval,20),counter=0,event.addListener(document,"mousemove",onMouseMove)}function clearDragMarker(){clearInterval(timerId),editor.session.removeMarker(dragSelectionMarker),dragSelectionMarker=null,editor.selection.fromOrientedRange(range),editor.isFocused()&&!isInternal&&editor.$resetCursorStyle(),range=null,dragCursor=null,counter=0,autoScrollStartTime=null,cursorMovedTime=null,event.removeListener(document,"mousemove",onMouseMove)}this.onDragStart=function(e){if(this.cancelDrag||!mouseTarget.draggable){var self=this;return setTimeout((function(){self.startSelect(),self.captureMouse(e)}),0),e.preventDefault()}range=editor.getSelectionRange();var dataTransfer=e.dataTransfer;dataTransfer.effectAllowed=editor.getReadOnly()?"copy":"copyMove",editor.container.appendChild(dragImage),dataTransfer.setDragImage&&dataTransfer.setDragImage(dragImage,0,0),setTimeout((function(){editor.container.removeChild(dragImage)})),dataTransfer.clearData(),dataTransfer.setData("Text",editor.session.getTextRange()),isInternal=!0,this.setState("drag")},this.onDragEnd=function(e){if(mouseTarget.draggable=!1,isInternal=!1,this.setState(null),!editor.getReadOnly()){var dropEffect=e.dataTransfer.dropEffect;dragOperation||"move"!=dropEffect||editor.session.remove(editor.getSelectionRange()),editor.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return x=e.clientX,y=e.clientY,dragSelectionMarker||addDragMarker(),counter++,e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragOver=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return x=e.clientX,y=e.clientY,dragSelectionMarker||(addDragMarker(),counter++),null!==onMouseMoveTimer&&(onMouseMoveTimer=null),e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragLeave=function(e){if(--counter<=0&&dragSelectionMarker)return clearDragMarker(),dragOperation=null,event.preventDefault(e)},this.onDrop=function(e){if(dragCursor){var dataTransfer=e.dataTransfer;if(isInternal)switch(dragOperation){case"move":range=range.contains(dragCursor.row,dragCursor.column)?{start:dragCursor,end:dragCursor}:editor.moveText(range,dragCursor);break;case"copy":range=editor.moveText(range,dragCursor,!0)}else{var dropData=dataTransfer.getData("Text");range={start:dragCursor,end:editor.session.insert(dragCursor,dropData)},editor.focus(),dragOperation=null}return clearDragMarker(),event.preventDefault(e)}},event.addListener(mouseTarget,"dragstart",this.onDragStart.bind(mouseHandler),editor),event.addListener(mouseTarget,"dragend",this.onDragEnd.bind(mouseHandler),editor),event.addListener(mouseTarget,"dragenter",this.onDragEnter.bind(mouseHandler),editor),event.addListener(mouseTarget,"dragover",this.onDragOver.bind(mouseHandler),editor),event.addListener(mouseTarget,"dragleave",this.onDragLeave.bind(mouseHandler),editor),event.addListener(mouseTarget,"drop",this.onDrop.bind(mouseHandler),editor);var onMouseMoveTimer=null;function onMouseMove(){null==onMouseMoveTimer&&(onMouseMoveTimer=setTimeout((function(){null!=onMouseMoveTimer&&dragSelectionMarker&&clearDragMarker()}),20))}function canAccept(dataTransfer){var types=dataTransfer.types;return!types||Array.prototype.some.call(types,(function(type){return"text/plain"==type||"Text"==type}))}function getDropEffect(e){var copyAllowed=["copy","copymove","all","uninitialized"],copyModifierState=useragent.isMac?e.altKey:e.ctrlKey,effectAllowed="uninitialized";try{effectAllowed=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var dropEffect="none";return copyModifierState&&copyAllowed.indexOf(effectAllowed)>=0?dropEffect="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(effectAllowed)>=0?dropEffect="move":copyAllowed.indexOf(effectAllowed)>=0&&(dropEffect="copy"),dropEffect}}function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var editor=this.editor;editor.container.draggable=!0,editor.renderer.$cursorLayer.setBlinking(!1),editor.setStyle("ace_dragging");var cursorStyle=useragent.isWin?"default":"move";editor.renderer.setCursorStyle(cursorStyle),this.setState("dragReady")},this.onMouseDrag=function(e){var target=this.editor.container;useragent.isIE&&"dragReady"==this.state&&(calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&target.dragDrop());"dragWait"===this.state&&(calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(target.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var editor=this.editor,inSelection=e.inSelection(),button=e.getButton();if(1===(e.domEvent.detail||1)&&0===button&&inSelection){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var eventTarget=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in eventTarget&&(eventTarget.unselectable="on"),editor.getDragDelay()){if(useragent.isWebKit)this.cancelDrag=!0,editor.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(DragdropHandler.prototype),exports.DragdropHandler=DragdropHandler})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(require,exports,module){"use strict";var MouseEvent=require("./mouse_event").MouseEvent,event=require("../lib/event"),dom=require("../lib/dom");exports.addTouchListeners=function(el,editor){var startX,startY,touchStartT,lastT,longTouchTimer,animationTimer,pos,pressed,contextMenu,mode="scroll",animationSteps=0,clickCount=0,vX=0,vY=0;function createContextMenu(){var clipboard=window.navigator&&window.navigator.clipboard,isOpen=!1,handleClick=function(e){var selected,hasUndo,action=e.target.getAttribute("action");if("more"==action||!isOpen)return isOpen=!isOpen,selected=editor.getCopyText(),hasUndo=editor.session.getUndoManager().hasUndo(),void contextMenu.replaceChild(dom.buildDom(isOpen?["span",!selected&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],selected&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],selected&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],clipboard&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],hasUndo&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),contextMenu.firstChild);"paste"==action?clipboard.readText().then((function(text){editor.execCommand(action,text)})):action&&("cut"!=action&&"copy"!=action||(clipboard?clipboard.writeText(editor.getCopyText()):document.execCommand("copy")),editor.execCommand(action)),contextMenu.firstChild.style.display="none",isOpen=!1,"openCommandPallete"!=action&&editor.focus()};contextMenu=dom.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){mode="menu",e.stopPropagation(),e.preventDefault(),editor.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),handleClick(e)},onclick:handleClick},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],editor.container)}function showContextMenu(){contextMenu||createContextMenu();var cursor=editor.selection.cursor,pagePos=editor.renderer.textToScreenCoordinates(cursor.row,cursor.column),leftOffset=editor.renderer.textToScreenCoordinates(0,0).pageX,scrollLeft=editor.renderer.scrollLeft,rect=editor.container.getBoundingClientRect();contextMenu.style.top=pagePos.pageY-rect.top-3+"px",pagePos.pageX-rect.left<rect.width-70?(contextMenu.style.left="",contextMenu.style.right="10px"):(contextMenu.style.right="",contextMenu.style.left=leftOffset+scrollLeft-rect.left+"px"),contextMenu.style.display="",contextMenu.firstChild.style.display="none",editor.on("input",hideContextMenu)}function hideContextMenu(e){contextMenu&&(contextMenu.style.display="none"),editor.off("input",hideContextMenu)}function handleLongTap(){longTouchTimer=null,clearTimeout(longTouchTimer);var range=editor.selection.getRange(),inSelection=range.contains(pos.row,pos.column);!range.isEmpty()&&inSelection||(editor.selection.moveToPosition(pos),editor.selection.selectWord()),mode="wait",showContextMenu()}event.addListener(el,"contextmenu",(function(e){pressed&&editor.textInput.getElement().focus()}),editor),event.addListener(el,"touchstart",(function(e){var touches=e.touches;if(longTouchTimer||touches.length>1)return clearTimeout(longTouchTimer),longTouchTimer=null,touchStartT=-1,void(mode="zoom");pressed=editor.$mouseHandler.isMousePressed=!0;var h=editor.renderer.layerConfig.lineHeight,w=editor.renderer.layerConfig.lineHeight,t=e.timeStamp;lastT=t;var touchObj=touches[0],x=touchObj.clientX,y=touchObj.clientY;Math.abs(startX-x)+Math.abs(startY-y)>h&&(touchStartT=-1),startX=e.clientX=x,startY=e.clientY=y,vX=vY=0;var ev=new MouseEvent(e,editor);if(pos=ev.getDocumentPosition(),t-touchStartT<500&&1==touches.length&&!animationSteps)clickCount++,e.preventDefault(),e.button=0,function switchToSelectionMode(){longTouchTimer=null,clearTimeout(longTouchTimer),editor.selection.moveToPosition(pos);var range=clickCount>=2?editor.selection.getLineRange(pos.row):editor.session.getBracketRange(pos);range&&!range.isEmpty()?editor.selection.setRange(range):editor.selection.selectWord(),mode="wait"}();else{clickCount=0;var cursor=editor.selection.cursor,anchor=editor.selection.isEmpty()?cursor:editor.selection.anchor,cursorPos=editor.renderer.$cursorLayer.getPixelPosition(cursor,!0),anchorPos=editor.renderer.$cursorLayer.getPixelPosition(anchor,!0),rect=editor.renderer.scroller.getBoundingClientRect(),offsetTop=editor.renderer.layerConfig.offset,offsetLeft=editor.renderer.scrollLeft,weightedDistance=function(x,y){return(x/=w)*x+(y=y/h-.75)*y};if(e.clientX<rect.left)return void(mode="zoom");var diff1=weightedDistance(e.clientX-rect.left-cursorPos.left+offsetLeft,e.clientY-rect.top-cursorPos.top+offsetTop),diff2=weightedDistance(e.clientX-rect.left-anchorPos.left+offsetLeft,e.clientY-rect.top-anchorPos.top+offsetTop);diff1<3.5&&diff2<3.5&&(mode=diff1>diff2?"cursor":"anchor"),mode=diff2<3.5?"anchor":diff1<3.5?"cursor":"scroll",longTouchTimer=setTimeout(handleLongTap,450)}touchStartT=t}),editor),event.addListener(el,"touchend",(function(e){pressed=editor.$mouseHandler.isMousePressed=!1,animationTimer&&clearInterval(animationTimer),"zoom"==mode?(mode="",animationSteps=0):longTouchTimer?(editor.selection.moveToPosition(pos),animationSteps=0,showContextMenu()):"scroll"==mode?(!function animate(){animationSteps+=60,animationTimer=setInterval((function(){animationSteps--<=0&&(clearInterval(animationTimer),animationTimer=null),Math.abs(vX)<.01&&(vX=0),Math.abs(vY)<.01&&(vY=0),animationSteps<20&&(vX*=.9),animationSteps<20&&(vY*=.9);var oldScrollTop=editor.session.getScrollTop();editor.renderer.scrollBy(10*vX,10*vY),oldScrollTop==editor.session.getScrollTop()&&(animationSteps=0)}),10)}(),hideContextMenu()):showContextMenu(),clearTimeout(longTouchTimer),longTouchTimer=null}),editor),event.addListener(el,"touchmove",(function(e){longTouchTimer&&(clearTimeout(longTouchTimer),longTouchTimer=null);var touches=e.touches;if(!(touches.length>1||"zoom"==mode)){var touchObj=touches[0],wheelX=startX-touchObj.clientX,wheelY=startY-touchObj.clientY;if("wait"==mode){if(!(wheelX*wheelX+wheelY*wheelY>4))return e.preventDefault();mode="cursor"}startX=touchObj.clientX,startY=touchObj.clientY,e.clientX=touchObj.clientX,e.clientY=touchObj.clientY;var t=e.timeStamp,dt=t-lastT;if(lastT=t,"scroll"==mode){var mouseEvent=new MouseEvent(e,editor);mouseEvent.speed=1,mouseEvent.wheelX=wheelX,mouseEvent.wheelY=wheelY,10*Math.abs(wheelX)<Math.abs(wheelY)&&(wheelX=0),10*Math.abs(wheelY)<Math.abs(wheelX)&&(wheelY=0),0!=dt&&(vX=wheelX/dt,vY=wheelY/dt),editor._emit("mousewheel",mouseEvent),mouseEvent.propagationStopped||(vX=vY=0)}else{var pos=new MouseEvent(e,editor).getDocumentPosition();"cursor"==mode?editor.selection.moveCursorToPosition(pos):"anchor"==mode&&editor.selection.setSelectionAnchor(pos.row,pos.column),editor.renderer.scrollCursorIntoView(pos),e.preventDefault()}}}),editor)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(require,exports,module){"use strict";var event=require("../lib/event"),useragent=require("../lib/useragent"),DefaultHandlers=require("./default_handlers").DefaultHandlers,DefaultGutterHandler=require("./default_gutter_handler").GutterHandler,MouseEvent=require("./mouse_event").MouseEvent,DragdropHandler=require("./dragdrop_handler").DragdropHandler,addTouchListeners=require("./touch_handler").addTouchListeners,config=require("../config"),MouseHandler=function(){function MouseHandler(editor){var _self=this;this.editor=editor,new DefaultHandlers(this),new DefaultGutterHandler(this),new DragdropHandler(this);var focusEditor=function(e){(!document.hasFocus||!document.hasFocus()||!editor.isFocused()&&document.activeElement==(editor.textInput&&editor.textInput.getElement()))&&window.focus(),editor.focus(),setTimeout((function(){editor.isFocused()||editor.focus()}))},mouseTarget=editor.renderer.getMouseEventTarget();event.addListener(mouseTarget,"click",this.onMouseEvent.bind(this,"click"),editor),event.addListener(mouseTarget,"mousemove",this.onMouseMove.bind(this,"mousemove"),editor),event.addMultiMouseDownListener([mouseTarget,editor.renderer.scrollBarV&&editor.renderer.scrollBarV.inner,editor.renderer.scrollBarH&&editor.renderer.scrollBarH.inner,editor.textInput&&editor.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",editor),event.addMouseWheelListener(editor.container,this.onMouseWheel.bind(this,"mousewheel"),editor),addTouchListeners(editor.container,editor);var gutterEl=editor.renderer.$gutter;event.addListener(gutterEl,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),editor),event.addListener(gutterEl,"click",this.onMouseEvent.bind(this,"gutterclick"),editor),event.addListener(gutterEl,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),editor),event.addListener(gutterEl,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),editor),event.addListener(mouseTarget,"mousedown",focusEditor,editor),event.addListener(gutterEl,"mousedown",focusEditor,editor),useragent.isIE&&editor.renderer.scrollBarV&&(event.addListener(editor.renderer.scrollBarV.element,"mousedown",focusEditor,editor),event.addListener(editor.renderer.scrollBarH.element,"mousedown",focusEditor,editor)),editor.on("mousemove",(function(e){if(!_self.state&&!_self.$dragDelay&&_self.$dragEnabled){var character=editor.renderer.screenToTextCoordinates(e.x,e.y),range=editor.session.selection.getRange(),renderer=editor.renderer;!range.isEmpty()&&range.insideStart(character.row,character.column)?renderer.setCursorStyle("default"):renderer.setCursorStyle("")}}),editor)}return MouseHandler.prototype.onMouseEvent=function(name,e){this.editor.session&&this.editor._emit(name,new MouseEvent(e,this.editor))},MouseHandler.prototype.onMouseMove=function(name,e){var listeners=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;listeners&&listeners.length&&this.editor._emit(name,new MouseEvent(e,this.editor))},MouseHandler.prototype.onMouseWheel=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=2*this.$scrollSpeed,mouseEvent.wheelX=e.wheelX,mouseEvent.wheelY=e.wheelY,this.editor._emit(name,mouseEvent)},MouseHandler.prototype.setState=function(state){this.state=state},MouseHandler.prototype.captureMouse=function(ev,mouseMoveHandler){this.x=ev.x,this.y=ev.y,this.isMousePressed=!0;var editor=this.editor,renderer=this.editor.renderer;renderer.$isMousePressed=!0;var self=this,onMouseMove=function(e){if(e){if(useragent.isWebKit&&!e.which&&self.releaseMouse)return self.releaseMouse();self.x=e.clientX,self.y=e.clientY,mouseMoveHandler&&mouseMoveHandler(e),self.mouseEvent=new MouseEvent(e,self.editor),self.$mouseMoved=!0}},onCaptureEnd=function(e){editor.off("beforeEndOperation",onOperationEnd),clearInterval(timerId),editor.session&&onCaptureInterval(),self[self.state+"End"]&&self[self.state+"End"](e),self.state="",self.isMousePressed=renderer.$isMousePressed=!1,renderer.$keepTextAreaAtCursor&&renderer.$moveTextAreaToCursor(),self.$onCaptureMouseMove=self.releaseMouse=null,e&&self.onMouseEvent("mouseup",e),editor.endOperation()},onCaptureInterval=function(){self[self.state]&&self[self.state](),self.$mouseMoved=!1};if(useragent.isOldIE&&"dblclick"==ev.domEvent.type)return setTimeout((function(){onCaptureEnd(ev)}));var onOperationEnd=function(e){self.releaseMouse&&editor.curOp.command.name&&editor.curOp.selectionChanged&&(self[self.state+"End"]&&self[self.state+"End"](),self.state="",self.releaseMouse())};editor.on("beforeEndOperation",onOperationEnd),editor.startOperation({command:{name:"mouse"}}),self.$onCaptureMouseMove=onMouseMove,self.releaseMouse=event.capture(this.editor.container,onMouseMove,onCaptureEnd);var timerId=setInterval(onCaptureInterval,20)},MouseHandler.prototype.cancelContextMenu=function(){var stop=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",stop),e&&e.domEvent&&event.stopEvent(e.domEvent))}.bind(this);setTimeout(stop,10),this.editor.on("nativecontextmenu",stop)},MouseHandler.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},MouseHandler}();MouseHandler.prototype.releaseMouse=null,config.defineOptions(MouseHandler.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:useragent.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),exports.MouseHandler=MouseHandler})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(require,exports,module){"use strict";var dom=require("../lib/dom"),FoldHandler=function FoldHandler(editor){editor.on("click",(function(e){var position=e.getDocumentPosition(),session=editor.session,fold=session.getFoldAt(position.row,position.column,1);fold&&(e.getAccelKey()?session.removeFold(fold):session.expandFold(fold),e.stop());var target=e.domEvent&&e.domEvent.target;target&&dom.hasCssClass(target,"ace_inline_button")&&dom.hasCssClass(target,"ace_toggle_wrap")&&(session.setOption("wrap",!session.getUseWrapMode()),editor.renderer.scrollCursorIntoView())})),editor.on("gutterclick",(function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session;session.foldWidgets&&session.foldWidgets[row]&&editor.session.onFoldWidgetClick(row,e),editor.isFocused()||editor.focus(),e.stop()}})),editor.on("gutterdblclick",(function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session,data=session.getParentFoldRangeData(row,!0),range=data.range||data.firstRange;if(range){row=range.start.row;var fold=session.getFoldAt(row,session.getLine(row).length,1);fold?session.removeFold(fold):(session.addFold("...",range),editor.renderer.scrollCursorIntoView({row:range.start.row,column:0}))}e.stop()}}))};exports.FoldHandler=FoldHandler})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(require,exports,module){"use strict";var keyUtil=require("../lib/keys"),event=require("../lib/event"),KeyBinding=function(){function KeyBinding(editor){this.$editor=editor,this.$data={editor},this.$handlers=[],this.setDefaultHandler(editor.commands)}return KeyBinding.prototype.setDefaultHandler=function(kb){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=kb,this.addKeyboardHandler(kb,0)},KeyBinding.prototype.setKeyboardHandler=function(kb){var h=this.$handlers;if(h[h.length-1]!=kb){for(;h[h.length-1]&&h[h.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(kb,1)}},KeyBinding.prototype.addKeyboardHandler=function(kb,pos){if(kb){"function"!=typeof kb||kb.handleKeyboard||(kb.handleKeyboard=kb);var i=this.$handlers.indexOf(kb);-1!=i&&this.$handlers.splice(i,1),null==pos?this.$handlers.push(kb):this.$handlers.splice(pos,0,kb),-1==i&&kb.attach&&kb.attach(this.$editor)}},KeyBinding.prototype.removeKeyboardHandler=function(kb){var i=this.$handlers.indexOf(kb);return-1!=i&&(this.$handlers.splice(i,1),kb.detach&&kb.detach(this.$editor),!0)},KeyBinding.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},KeyBinding.prototype.getStatusText=function(){var data=this.$data,editor=data.editor;return this.$handlers.map((function(h){return h.getStatusText&&h.getStatusText(editor,data)||""})).filter(Boolean).join(" ")},KeyBinding.prototype.$callKeyboardHandlers=function(hashId,keyString,keyCode,e){for(var toExecute,success=!1,commands=this.$editor.commands,i=this.$handlers.length;i--&&!((toExecute=this.$handlers[i].handleKeyboard(this.$data,hashId,keyString,keyCode,e))&&toExecute.command&&((success="null"==toExecute.command||commands.exec(toExecute.command,this.$editor,toExecute.args,e))&&e&&-1!=hashId&&1!=toExecute.passEvent&&1!=toExecute.command.passEvent&&event.stopEvent(e),success)););return success||-1!=hashId||(toExecute={command:"insertstring"},success=commands.exec("insertstring",this.$editor,keyString)),success&&this.$editor._signal&&this.$editor._signal("keyboardActivity",toExecute),success},KeyBinding.prototype.onCommandKey=function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode);return this.$callKeyboardHandlers(hashId,keyString,keyCode,e)},KeyBinding.prototype.onTextInput=function(text){return this.$callKeyboardHandlers(-1,text)},KeyBinding}();exports.KeyBinding=KeyBinding})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(require,exports,module){"use strict";var dir=0,hiLevel=0,lastArabic=!1,hasUBAT_B=!1,hasUBAT_S=!1,impTab_LTR=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],impTab_RTL=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L=0,R=1,EN=2,AN=3,ON=4,B=5,S=6,AL=7,WS=8,CS=9,ES=10,ET=11,NSM=12,LRE=13,RLE=14,PDF=15,LRO=16,RLO=17,BN=18,UnicodeTBL00=[BN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,WS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,EN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,BN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,CS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,ET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON],UnicodeTBL20=[WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,ET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS];function _invertLevel(lev,levels,_array){if(!(hiLevel<lev))if(1!=lev||1!=dir||hasUBAT_B)for(var end,lo,hi,tmp,len=_array.length,start=0;start<len;){if(levels[start]>=lev){for(end=start+1;end<len&&levels[end]>=lev;)end++;for(lo=start,hi=end-1;lo<hi;lo++,hi--)tmp=_array[lo],_array[lo]=_array[hi],_array[hi]=tmp;start=end}start++}else _array.reverse()}function _getCharClass(chars,types,classes,ix){var wType,nType,len,i,cType=types[ix];switch(cType){case L:case R:lastArabic=!1;case ON:case AN:return cType;case EN:return lastArabic?AN:EN;case AL:return lastArabic=!0,!0,R;case WS:return ON;case CS:return ix<1||ix+1>=types.length||(wType=classes[ix-1])!=EN&&wType!=AN||(nType=types[ix+1])!=EN&&nType!=AN?ON:(lastArabic&&(nType=AN),nType==wType?nType:ON);case ES:return(wType=ix>0?classes[ix-1]:B)==EN&&ix+1<types.length&&types[ix+1]==EN?EN:ON;case ET:if(ix>0&&classes[ix-1]==EN)return EN;if(lastArabic)return ON;for(i=ix+1,len=types.length;i<len&&types[i]==ET;)i++;return i<len&&types[i]==EN?EN:ON;case NSM:for(len=types.length,i=ix+1;i<len&&types[i]==NSM;)i++;if(i<len){var c=chars[ix],rtlCandidate=c>=1425&&c<=2303||64286==c;if(wType=types[i],rtlCandidate&&(wType==R||wType==AL))return R}return ix<1||(wType=types[ix-1])==B?ON:classes[ix-1];case B:return lastArabic=!1,hasUBAT_B=!0,dir;case S:return hasUBAT_S=!0,ON;case LRE:case RLE:case LRO:case RLO:case PDF:lastArabic=!1;case BN:return ON}}function _getCharacterType(ch){var uc=ch.charCodeAt(0),hi=uc>>8;return 0==hi?uc>191?L:UnicodeTBL00[uc]:5==hi?/[\u0591-\u05f4]/.test(ch)?R:L:6==hi?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch)?NSM:/[\u0660-\u0669\u066b-\u066c]/.test(ch)?AN:1642==uc?ET:/[\u06f0-\u06f9]/.test(ch)?EN:AL:32==hi&&uc<=8287?UnicodeTBL20[255&uc]:254==hi&&uc>=65136?AL:ON}exports.L=L,exports.R=R,exports.EN=EN,exports.ON_R=3,exports.AN=4,exports.R_H=5,exports.B=6,exports.RLE=7,exports.DOT="",exports.doBidiReorder=function(text,textCharTypes,isRtl){if(text.length<2)return{};var chars=text.split(""),logicalFromVisual=new Array(chars.length),bidiLevels=new Array(chars.length),levels=[];dir=isRtl?1:0,function _computeLevels(chars,levels,len,charTypes){var impTab=dir?impTab_RTL:impTab_LTR,prevState=null,newClass=null,newLevel=null,newState=0,action=null,condPos=-1,i=null,ix=null,classes=[];if(!charTypes)for(i=0,charTypes=[];i<len;i++)charTypes[i]=_getCharacterType(chars[i]);for(hiLevel=dir,lastArabic=!1,!1,hasUBAT_B=!1,hasUBAT_S=!1,ix=0;ix<len;ix++){if(prevState=newState,classes[ix]=newClass=_getCharClass(chars,charTypes,classes,ix),action=240&(newState=impTab[prevState][newClass]),newState&=15,levels[ix]=newLevel=impTab[newState][5],action>0)if(16==action){for(i=condPos;i<ix;i++)levels[i]=1;condPos=-1}else condPos=-1;if(impTab[newState][6])-1==condPos&&(condPos=ix);else if(condPos>-1){for(i=condPos;i<ix;i++)levels[i]=newLevel;condPos=-1}charTypes[ix]==B&&(levels[ix]=0),hiLevel|=newLevel}if(hasUBAT_S)for(i=0;i<len;i++)if(charTypes[i]==S){levels[i]=dir;for(var j=i-1;j>=0&&charTypes[j]==WS;j--)levels[j]=dir}}(chars,levels,chars.length,textCharTypes);for(var i=0;i<logicalFromVisual.length;logicalFromVisual[i]=i,i++);_invertLevel(2,levels,logicalFromVisual),_invertLevel(1,levels,logicalFromVisual);for(i=0;i<logicalFromVisual.length-1;i++)textCharTypes[i]===AN?levels[i]=exports.AN:levels[i]===R&&(textCharTypes[i]>AL&&textCharTypes[i]<LRE||textCharTypes[i]===ON||textCharTypes[i]===BN)?levels[i]=exports.ON_R:i>0&&""===chars[i-1]&&/\u0622|\u0623|\u0625|\u0627/.test(chars[i])&&(levels[i-1]=levels[i]=exports.R_H,i++);chars[chars.length-1]===exports.DOT&&(levels[chars.length-1]=exports.B),""===chars[0]&&(levels[0]=exports.RLE);for(i=0;i<logicalFromVisual.length;i++)bidiLevels[i]=levels[logicalFromVisual[i]];return{logicalFromVisual,bidiLevels}},exports.hasBidiCharacters=function(text,textCharTypes){for(var ret=!1,i=0;i<text.length;i++)textCharTypes[i]=_getCharacterType(text.charAt(i)),ret||textCharTypes[i]!=R&&textCharTypes[i]!=AL&&textCharTypes[i]!=AN||(ret=!0);return ret},exports.getVisualFromLogicalIdx=function(logIdx,rowMap){for(var i=0;i<rowMap.logicalFromVisual.length;i++)if(rowMap.logicalFromVisual[i]==logIdx)return i;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(require,exports,module){"use strict";var bidiUtil=require("./lib/bidiutil"),lang=require("./lib/lang"),bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,BidiHandler=function(){function BidiHandler(session){this.session=session,this.bidiMap={},this.currentRow=null,this.bidiUtil=bidiUtil,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=bidiRE.test(session.getValue())}return BidiHandler.prototype.isBidiRow=function(screenRow,docRow,splitIndex){return!!this.seenBidi&&(screenRow!==this.currentRow&&(this.currentRow=screenRow,this.updateRowLine(docRow,splitIndex),this.updateBidiMap()),this.bidiMap.bidiLevels)},BidiHandler.prototype.onChange=function(delta){this.seenBidi?this.currentRow=null:"insert"==delta.action&&bidiRE.test(delta.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},BidiHandler.prototype.getDocumentRow=function(){var docRow=0,rowCache=this.session.$screenRowCache;if(rowCache.length){var index=this.session.$getRowCacheIndex(rowCache,this.currentRow);index>=0&&(docRow=this.session.$docRowCache[index])}return docRow},BidiHandler.prototype.getSplitIndex=function(){var splitIndex=0,rowCache=this.session.$screenRowCache;if(rowCache.length)for(var currentIndex,prevIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow);this.currentRow-splitIndex>0&&(currentIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow-splitIndex-1))===prevIndex;)prevIndex=currentIndex,splitIndex++;else splitIndex=this.currentRow;return splitIndex},BidiHandler.prototype.updateRowLine=function(docRow,splitIndex){void 0===docRow&&(docRow=this.getDocumentRow());var endOfLine=docRow===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(docRow),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var splits=this.session.$wrapData[docRow];splits&&(void 0===splitIndex&&(splitIndex=this.getSplitIndex()),splitIndex>0&&splits.length?(this.wrapIndent=splits.indent,this.wrapOffset=this.wrapIndent*this.charWidths[bidiUtil.L],this.line=splitIndex<splits.length?this.line.substring(splits[splitIndex-1],splits[splitIndex]):this.line.substring(splits[splits.length-1])):this.line=this.line.substring(0,splits[splitIndex]),splitIndex==splits.length&&(this.line+=this.showInvisibles?endOfLine:bidiUtil.DOT))}else this.line+=this.showInvisibles?endOfLine:bidiUtil.DOT;var size,session=this.session,shift=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(ch,i){return"\t"===ch||session.isFullWidth(ch.charCodeAt(0))?(size="\t"===ch?session.getScreenTabSize(i+shift):2,shift+=size-1,lang.stringRepeat(bidiUtil.DOT,size)):ch})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==bidiUtil.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},BidiHandler.prototype.updateBidiMap=function(){var textCharTypes=[];bidiUtil.hasBidiCharacters(this.line,textCharTypes)||this.isRtlDir?this.bidiMap=bidiUtil.doBidiReorder(this.line,textCharTypes,this.isRtlDir):this.bidiMap={}},BidiHandler.prototype.markAsDirty=function(){this.currentRow=null},BidiHandler.prototype.updateCharacterWidths=function(fontMetrics){if(this.characterWidth!==fontMetrics.$characterSize.width){this.fontMetrics=fontMetrics;var characterWidth=this.characterWidth=fontMetrics.$characterSize.width,bidiCharWidth=fontMetrics.$measureCharWidth("");this.charWidths[bidiUtil.L]=this.charWidths[bidiUtil.EN]=this.charWidths[bidiUtil.ON_R]=characterWidth,this.charWidths[bidiUtil.R]=this.charWidths[bidiUtil.AN]=bidiCharWidth,this.charWidths[bidiUtil.R_H]=.45*bidiCharWidth,this.charWidths[bidiUtil.B]=this.charWidths[bidiUtil.RLE]=0,this.currentRow=null}},BidiHandler.prototype.setShowInvisibles=function(showInvisibles){this.showInvisibles=showInvisibles,this.currentRow=null},BidiHandler.prototype.setEolChar=function(eolChar){this.EOL=eolChar},BidiHandler.prototype.setContentWidth=function(width){this.contentWidth=width},BidiHandler.prototype.isRtlLine=function(row){return!!this.$isRtl||(null!=row?this.session.getLine(row).charAt(0)==this.RLE:this.isRtlDir)},BidiHandler.prototype.setRtlDirection=function(editor,isRtlDir){for(var cursor=editor.getCursorPosition(),row=editor.selection.getSelectionAnchor().row;row<=cursor.row;row++)isRtlDir||editor.session.getLine(row).charAt(0)!==editor.session.$bidiHandler.RLE?isRtlDir&&editor.session.getLine(row).charAt(0)!==editor.session.$bidiHandler.RLE&&editor.session.doc.insert({column:0,row},editor.session.$bidiHandler.RLE):editor.session.doc.removeInLine(row,0,1)},BidiHandler.prototype.getPosLeft=function(col){col-=this.wrapIndent;var leftBoundary=this.line.charAt(0)===this.RLE?1:0,logicalIdx=col>leftBoundary?this.session.getOverwrite()?col:col-1:leftBoundary,visualIdx=bidiUtil.getVisualFromLogicalIdx(logicalIdx,this.bidiMap),levels=this.bidiMap.bidiLevels,left=0;!this.session.getOverwrite()&&col<=leftBoundary&&levels[visualIdx]%2!=0&&visualIdx++;for(var i=0;i<visualIdx;i++)left+=this.charWidths[levels[i]];return!this.session.getOverwrite()&&col>leftBoundary&&levels[visualIdx]%2==0&&(left+=this.charWidths[levels[visualIdx]]),this.wrapIndent&&(left+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(left+=this.rtlLineOffset),left},BidiHandler.prototype.getSelections=function(startCol,endCol){var level,map=this.bidiMap,levels=map.bidiLevels,selections=[],offset=0,selColMin=Math.min(startCol,endCol)-this.wrapIndent,selColMax=Math.max(startCol,endCol)-this.wrapIndent,isSelected=!1,isSelectedPrev=!1,selectionStart=0;this.wrapIndent&&(offset+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var logIdx,visIdx=0;visIdx<levels.length;visIdx++)logIdx=map.logicalFromVisual[visIdx],level=levels[visIdx],(isSelected=logIdx>=selColMin&&logIdx<selColMax)&&!isSelectedPrev?selectionStart=offset:!isSelected&&isSelectedPrev&&selections.push({left:selectionStart,width:offset-selectionStart}),offset+=this.charWidths[level],isSelectedPrev=isSelected;if(isSelected&&visIdx===levels.length&&selections.push({left:selectionStart,width:offset-selectionStart}),this.isRtlDir)for(var i=0;i<selections.length;i++)selections[i].left+=this.rtlLineOffset;return selections},BidiHandler.prototype.offsetToCol=function(posX){this.isRtlDir&&(posX-=this.rtlLineOffset);var logicalIdx=0,offset=(posX=Math.max(posX,0),0),visualIdx=0,levels=this.bidiMap.bidiLevels,charWidth=this.charWidths[levels[visualIdx]];for(this.wrapIndent&&(posX-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);posX>offset+charWidth/2;){if(offset+=charWidth,visualIdx===levels.length-1){charWidth=0;break}charWidth=this.charWidths[levels[++visualIdx]]}return visualIdx>0&&levels[visualIdx-1]%2!=0&&levels[visualIdx]%2==0?(posX<offset&&visualIdx--,logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]):visualIdx>0&&levels[visualIdx-1]%2==0&&levels[visualIdx]%2!=0?logicalIdx=1+(posX>offset?this.bidiMap.logicalFromVisual[visualIdx]:this.bidiMap.logicalFromVisual[visualIdx-1]):this.isRtlDir&&visualIdx===levels.length-1&&0===charWidth&&levels[visualIdx-1]%2==0||!this.isRtlDir&&0===visualIdx&&levels[visualIdx]%2!=0?logicalIdx=1+this.bidiMap.logicalFromVisual[visualIdx]:(visualIdx>0&&levels[visualIdx-1]%2!=0&&0!==charWidth&&visualIdx--,logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]),0===logicalIdx&&this.isRtlDir&&logicalIdx++,logicalIdx+this.wrapIndent},BidiHandler}();exports.BidiHandler=BidiHandler})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(require,exports,module){"use strict";var oop=require("./lib/oop"),lang=require("./lib/lang"),EventEmitter=require("./lib/event_emitter").EventEmitter,Range=require("./range").Range,Selection=function(session){this.session=session,this.doc=session.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var self=this;this.cursor.on("change",(function(e){self.$cursorChanged=!0,self.$silent||self._emit("changeCursor"),self.$isEmpty||self.$silent||self._emit("changeSelection"),self.$keepDesiredColumnOnChange||e.old.column==e.value.column||(self.$desiredColumn=null)})),this.anchor.on("change",(function(){self.$anchorChanged=!0,self.$isEmpty||self.$silent||self._emit("changeSelection")}))};(function(){oop.implement(this,EventEmitter),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(row,column){this.$isEmpty=!1,this.anchor.setPosition(row,column)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var anchor=this.anchor,lead=this.lead;return anchor.row>lead.row||anchor.row==lead.row&&anchor.column>lead.column},this.getRange=function(){var anchor=this.anchor,lead=this.lead;return this.$isEmpty?Range.fromPoints(lead,lead):this.isBackwards()?Range.fromPoints(lead,anchor):Range.fromPoints(anchor,lead)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(range,reverse){var start=reverse?range.end:range.start,end=reverse?range.start:range.end;this.$setSelection(start.row,start.column,end.row,end.column)},this.$setSelection=function(anchorRow,anchorColumn,cursorRow,cursorColumn){if(!this.$silent){var wasEmpty=this.$isEmpty,wasMultiselect=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(anchorRow,anchorColumn),this.cursor.setPosition(cursorRow,cursorColumn),this.$isEmpty=!Range.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||wasEmpty!=this.$isEmpty||wasMultiselect)&&this._emit("changeSelection")}},this.$moveSelection=function(mover){var lead=this.lead;this.$isEmpty&&this.setSelectionAnchor(lead.row,lead.column),mover.call(this)},this.selectTo=function(row,column){this.$moveSelection((function(){this.moveCursorTo(row,column)}))},this.selectToPosition=function(pos){this.$moveSelection((function(){this.moveCursorToPosition(pos)}))},this.moveTo=function(row,column){this.clearSelection(),this.moveCursorTo(row,column)},this.moveToPosition=function(pos){this.clearSelection(),this.moveCursorToPosition(pos)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(row,column){if(void 0===column){var cursor=row||this.lead;row=cursor.row,column=cursor.column}return this.session.getWordRange(row,column)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var cursor=this.getCursor(),range=this.session.getAWordRange(cursor.row,cursor.column);this.setSelectionRange(range)},this.getLineRange=function(row,excludeLastChar){var rowEnd,rowStart="number"==typeof row?row:this.lead.row,foldLine=this.session.getFoldLine(rowStart);return foldLine?(rowStart=foldLine.start.row,rowEnd=foldLine.end.row):rowEnd=rowStart,!0===excludeLastChar?new Range(rowStart,0,rowEnd,this.session.getLine(rowEnd).length):new Range(rowStart,0,rowEnd+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(cursor,tabSize,direction){var start=cursor.column,end=cursor.column+tabSize;return direction<0&&(start=cursor.column-tabSize,end=cursor.column),this.session.isTabStop(cursor)&&this.doc.getLine(cursor.row).slice(start,end).split(" ").length-1==tabSize},this.moveCursorLeft=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else if(0===cursor.column)cursor.row>0&&this.moveCursorTo(cursor.row-1,this.doc.getLine(cursor.row-1).length);else{var tabSize=this.session.getTabSize();this.wouldMoveIntoSoftTab(cursor,tabSize,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-tabSize):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,1))this.moveCursorTo(fold.end.row,fold.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var tabSize=this.session.getTabSize();cursor=this.lead;this.wouldMoveIntoSoftTab(cursor,tabSize,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,tabSize):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var row=this.lead.row,column=this.lead.column,screenRow=this.session.documentToScreenRow(row,column),firstColumnPosition=this.session.screenToDocumentPosition(screenRow,0),leadingSpace=this.session.getDisplayLine(row,null,firstColumnPosition.row,firstColumnPosition.column).match(/^\s*/);leadingSpace[0].length==column||this.session.$useEmacsStyleLineStart||(firstColumnPosition.column+=leadingSpace[0].length),this.moveCursorToPosition(firstColumnPosition)},this.moveCursorLineEnd=function(){var lead=this.lead,lineEnd=this.session.getDocumentLastRowColumnPosition(lead.row,lead.column);if(this.lead.column==lineEnd.column){var line=this.session.getLine(lineEnd.row);if(lineEnd.column==line.length){var textEnd=line.search(/\s+$/);textEnd>0&&(lineEnd.column=textEnd)}}this.moveCursorTo(lineEnd.row,lineEnd.column)},this.moveCursorFileEnd=function(){var row=this.doc.getLength()-1,column=this.doc.getLine(row).length;this.moveCursorTo(row,column)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var fold=this.session.getFoldAt(row,column,1);if(fold)this.moveCursorTo(fold.end.row,fold.end.column);else{if(this.session.nonTokenRe.exec(rightOfCursor)&&(column+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,rightOfCursor=line.substring(column)),column>=line.length)return this.moveCursorTo(row,line.length),this.moveCursorRight(),void(row<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(rightOfCursor)&&(column+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(row,column)}},this.moveCursorLongWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else{var str=this.session.getFoldStringAt(row,column,-1);null==str&&(str=this.doc.getLine(row).substring(0,column));var leftOfCursor=lang.stringReverse(str);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(leftOfCursor)&&(column-=this.session.nonTokenRe.lastIndex,leftOfCursor=leftOfCursor.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),column<=0)return this.moveCursorTo(row,0),this.moveCursorLeft(),void(row>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(leftOfCursor)&&(column-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(row,column)}},this.$shortWordEndIndex=function(rightOfCursor){var ch,index=0,whitespaceRe=/\s/,tokenRe=this.session.tokenRe;if(tokenRe.lastIndex=0,this.session.tokenRe.exec(rightOfCursor))index=this.session.tokenRe.lastIndex;else{for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index<1)for(tokenRe.lastIndex=0;(ch=rightOfCursor[index])&&!tokenRe.test(ch);)if(tokenRe.lastIndex=0,index++,whitespaceRe.test(ch)){if(index>2){index--;break}for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index>2)break}}return tokenRe.lastIndex=0,index},this.moveCursorShortWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column),fold=this.session.getFoldAt(row,column,1);if(fold)return this.moveCursorTo(fold.end.row,fold.end.column);if(column==line.length){var l=this.doc.getLength();do{row++,rightOfCursor=this.doc.getLine(row)}while(row<l&&/^\s*$/.test(rightOfCursor));/^\s+/.test(rightOfCursor)||(rightOfCursor=""),column=0}var index=this.$shortWordEndIndex(rightOfCursor);this.moveCursorTo(row,column+index)},this.moveCursorShortWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))return this.moveCursorTo(fold.start.row,fold.start.column);var line=this.session.getLine(row).substring(0,column);if(0===column){do{row--,line=this.doc.getLine(row)}while(row>0&&/^\s*$/.test(line));column=line.length,/\s+$/.test(line)||(line="")}var leftOfCursor=lang.stringReverse(line),index=this.$shortWordEndIndex(leftOfCursor);return this.moveCursorTo(row,column-index)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(rows,chars){var offsetX,screenPos=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===chars&&(0!==rows&&(this.session.$bidiHandler.isBidiRow(screenPos.row,this.lead.row)?(offsetX=this.session.$bidiHandler.getPosLeft(screenPos.column),screenPos.column=Math.round(offsetX/this.session.$bidiHandler.charWidths[0])):offsetX=screenPos.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?screenPos.column=this.$desiredColumn:this.$desiredColumn=screenPos.column),0!=rows&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var widget=this.session.lineWidgets[this.lead.row];rows<0?rows-=widget.rowsAbove||0:rows>0&&(rows+=widget.rowCount-(widget.rowsAbove||0))}var docPos=this.session.screenToDocumentPosition(screenPos.row+rows,screenPos.column,offsetX);0!==rows&&0===chars&&docPos.row===this.lead.row&&(docPos.column,this.lead.column),this.moveCursorTo(docPos.row,docPos.column+chars,0===chars)},this.moveCursorToPosition=function(position){this.moveCursorTo(position.row,position.column)},this.moveCursorTo=function(row,column,keepDesiredColumn){var fold=this.session.getFoldAt(row,column,1);fold&&(row=fold.start.row,column=fold.start.column),this.$keepDesiredColumnOnChange=!0;var line=this.session.getLine(row);/[\uDC00-\uDFFF]/.test(line.charAt(column))&&line.charAt(column-1)&&(this.lead.row==row&&this.lead.column==column+1?column-=1:column+=1),this.lead.setPosition(row,column),this.$keepDesiredColumnOnChange=!1,keepDesiredColumn||(this.$desiredColumn=null)},this.moveCursorToScreen=function(row,column,keepDesiredColumn){var pos=this.session.screenToDocumentPosition(row,column);this.moveCursorTo(pos.row,pos.column,keepDesiredColumn)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(range){this.setSelectionRange(range,range.cursor==range.start),this.$desiredColumn=range.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(range){var r=this.getRange();return range?(range.start.column=r.start.column,range.start.row=r.start.row,range.end.column=r.end.column,range.end.row=r.end.row):range=r,range.cursor=this.isBackwards()?range.start:range.end,range.desiredColumn=this.$desiredColumn,range},this.getRangeOfMovements=function(func){var start=this.getCursor();try{func(this);var end=this.getCursor();return Range.fromPoints(start,end)}catch(e){return Range.fromPoints(start,start)}finally{this.moveCursorToPosition(start)}},this.toJSON=function(){if(this.rangeCount)var data=this.ranges.map((function(r){var r1=r.clone();return r1.isBackwards=r.cursor==r.start,r1}));else(data=this.getRange()).isBackwards=this.isBackwards();return data},this.fromJSON=function(data){if(null==data.start){if(this.rangeList&&data.length>1){this.toSingleRange(data[0]);for(var i=data.length;i--;){var r=Range.fromPoints(data[i].start,data[i].end);data[i].isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}data=data[0]}this.rangeList&&this.toSingleRange(data),this.setSelectionRange(data,data.isBackwards)},this.isEqual=function(data){if((data.length||this.rangeCount)&&data.length!=this.rangeCount)return!1;if(!data.length||!this.ranges)return this.getRange().isEqual(data);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(data[i]))return!1;return!0}}).call(Selection.prototype),exports.Selection=Selection})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(require,exports,module){"use strict";var config=require("./config"),MAX_TOKEN_COUNT=2e3,Tokenizer=function(){function Tokenizer(rules){for(var key in this.states=rules,this.regExps={},this.matchMappings={},this.states){for(var state=this.states[key],ruleRegExps=[],matchTotal=0,mapping=this.matchMappings[key]={defaultToken:"text"},flag="g",splitterRurles=[],i=0;i<state.length;i++){var rule=state[i];if(rule.defaultToken&&(mapping.defaultToken=rule.defaultToken),rule.caseInsensitive&&-1===flag.indexOf("i")&&(flag+="i"),rule.unicode&&-1===flag.indexOf("u")&&(flag+="u"),null!=rule.regex){rule.regex instanceof RegExp&&(rule.regex=rule.regex.toString().slice(1,-1));var adjustedregex=rule.regex,matchcount=new RegExp("(?:("+adjustedregex+")|(.))").exec("a").length-2;Array.isArray(rule.token)?1==rule.token.length||1==matchcount?rule.token=rule.token[0]:matchcount-1!=rule.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule,groupCount:matchcount-1}),rule.token=rule.token[0]):(rule.tokenArray=rule.token,rule.token=null,rule.onMatch=this.$arrayTokens):"function"!=typeof rule.token||rule.onMatch||(rule.onMatch=matchcount>1?this.$applyToken:rule.token),matchcount>1&&(/\\\d/.test(rule.regex)?adjustedregex=rule.regex.replace(/\\([0-9]+)/g,(function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)})):(matchcount=1,adjustedregex=this.removeCapturingGroups(rule.regex)),rule.splitRegex||"string"==typeof rule.token||splitterRurles.push(rule)),mapping[matchTotal]=i,matchTotal+=matchcount,ruleRegExps.push(adjustedregex),rule.onMatch||(rule.onMatch=null)}}ruleRegExps.length||(mapping[0]=0,ruleRegExps.push("$")),splitterRurles.forEach((function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)}),this),this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}}return Tokenizer.prototype.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=0|m},Tokenizer.prototype.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1),types=this.token.apply(this,values);if("string"==typeof types)return[{type:types,value:str}];for(var tokens=[],i=0,l=types.length;i<l;i++)values[i]&&(tokens[tokens.length]={type:types[i],value:values[i]});return tokens},Tokenizer.prototype.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";for(var tokens=[],types=this.tokenArray,i=0,l=types.length;i<l;i++)values[i+1]&&(tokens[tokens.length]={type:types[i],value:values[i+1]});return tokens},Tokenizer.prototype.removeCapturingGroups=function(src){return src.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(x,y){return y?"(?:":x}))},Tokenizer.prototype.createSplitterRegexp=function(src,flag){if(-1!=src.indexOf("(?=")){var stack=0,inChClass=!1,lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(m,esc,parenOpen,parenClose,square,index){return inChClass?inChClass="]"!=square:square?inChClass=!0:parenClose?(stack==lastCapture.stack&&(lastCapture.end=index+1,lastCapture.stack=-1),stack--):parenOpen&&(stack++,1!=parenOpen.length&&(lastCapture.stack=stack,lastCapture.start=index)),m})),null!=lastCapture.end&&/^\)*$/.test(src.substr(lastCapture.end))&&(src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end))}return"^"!=src.charAt(0)&&(src="^"+src),"$"!=src.charAt(src.length-1)&&(src+="$"),new RegExp(src,(flag||"").replace("g",""))},Tokenizer.prototype.getLineTokens=function(line,startState){if(startState&&"string"!=typeof startState){var stack=startState.slice(0);"#tmp"===(startState=stack[0])&&(stack.shift(),startState=stack.shift())}else stack=[];var currentState=startState||"start",state=this.states[currentState];state||(currentState="start",state=this.states[currentState]);var mapping=this.matchMappings[currentState],re=this.regExps[currentState];re.lastIndex=0;for(var match,tokens=[],lastIndex=0,matchAttempts=0,token={type:null,value:""};match=re.exec(line);){var type=mapping.defaultToken,rule=null,value=match[0],index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);token.type==type?token.value+=skipped:(token.type&&tokens.push(token),token={type,value:skipped})}for(var i=0;i<match.length-2;i++)if(void 0!==match[i+1]){type=(rule=state[mapping[i]]).onMatch?rule.onMatch(value,currentState,stack,line):rule.token,rule.next&&(currentState="string"==typeof rule.next?rule.next:rule.next(currentState,stack),(state=this.states[currentState])||(this.reportError("state doesn't exist",currentState),currentState="start",state=this.states[currentState]),mapping=this.matchMappings[currentState],lastIndex=index,(re=this.regExps[currentState]).lastIndex=index),rule.consumeLineEnd&&(lastIndex=index);break}if(value)if("string"==typeof type)rule&&!1===rule.merge||token.type!==type?(token.type&&tokens.push(token),token={type,value}):token.value+=value;else if(type){token.type&&tokens.push(token),token={type:null,value:""};for(i=0;i<type.length;i++)tokens.push(type[i])}if(lastIndex==line.length)break;if(lastIndex=index,matchAttempts++>MAX_TOKEN_COUNT){for(matchAttempts>2*line.length&&this.reportError("infinite loop with in ace tokenizer",{startState,line});lastIndex<line.length;)token.type&&tokens.push(token),token={value:line.substring(lastIndex,lastIndex+=500),type:"overflow"};currentState="start",stack=[];break}}return token.type&&tokens.push(token),stack.length>1&&stack[0]!==currentState&&stack.unshift("#tmp",currentState),{tokens,state:stack.length?stack:currentState}},Tokenizer}();Tokenizer.prototype.reportError=config.reportError,exports.Tokenizer=Tokenizer})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(require,exports,module){"use strict";var lang=require("../lib/lang"),TextHighlightRules=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(rules,prefix){if(prefix)for(var key in rules){for(var state=rules[key],i=0;i<state.length;i++){var rule=state[i];(rule.next||rule.onMatch)&&("string"==typeof rule.next&&0!==rule.next.indexOf(prefix)&&(rule.next=prefix+rule.next),rule.nextState&&0!==rule.nextState.indexOf(prefix)&&(rule.nextState=prefix+rule.nextState))}this.$rules[prefix+key]=state}else for(var key in rules)this.$rules[key]=rules[key]},this.getRules=function(){return this.$rules},this.embedRules=function(HighlightRules,prefix,escapeRules,states,append){var embedRules="function"==typeof HighlightRules?(new HighlightRules).getRules():HighlightRules;if(states)for(var i=0;i<states.length;i++)states[i]=prefix+states[i];else for(var key in states=[],embedRules)states.push(prefix+key);if(this.addRules(embedRules,prefix),escapeRules){var addRules=Array.prototype[append?"push":"unshift"];for(i=0;i<states.length;i++)addRules.apply(this.$rules[states[i]],lang.deepCopy(escapeRules))}this.$embeds||(this.$embeds=[]),this.$embeds.push(prefix)},this.getEmbeds=function(){return this.$embeds};var pushState=function(currentState,stack){return("start"!=currentState||stack.length)&&stack.unshift(this.nextState,currentState),this.nextState},popState=function(currentState,stack){return stack.shift(),stack.shift()||"start"};this.normalizeRules=function(){var id=0,rules=this.$rules;Object.keys(rules).forEach((function processState(key){var state=rules[key];state.processed=!0;for(var i=0;i<state.length;i++){var rule=state[i],toInsert=null;Array.isArray(rule)&&(toInsert=rule,rule={}),!rule.regex&&rule.start&&(rule.regex=rule.start,rule.next||(rule.next=[]),rule.next.push({defaultToken:rule.token},{token:rule.token+".end",regex:rule.end||rule.start,next:"pop"}),rule.token=rule.token+".start",rule.push=!0);var next=rule.next||rule.push;if(next&&Array.isArray(next)){var stateName=rule.stateName;stateName||("string"!=typeof(stateName=rule.token)&&(stateName=stateName[0]||""),rules[stateName]&&(stateName+=id++)),rules[stateName]=next,rule.next=stateName,processState(stateName)}else"pop"==next&&(rule.next=popState);if(rule.push&&(rule.nextState=rule.next||rule.push,rule.next=pushState,delete rule.push),rule.rules)for(var r in rule.rules)rules[r]?rules[r].push&&rules[r].push.apply(rules[r],rule.rules[r]):rules[r]=rule.rules[r];var includeName="string"==typeof rule?rule:rule.include;if(includeName&&("$self"===includeName&&(includeName="start"),toInsert=Array.isArray(includeName)?includeName.map((function(x){return rules[x]})):rules[includeName]),toInsert){var args=[i,1].concat(toInsert);rule.noEscape&&(args=args.filter((function(x){return!x.next}))),state.splice.apply(state,args),i--}rule.keywordMap&&(rule.token=this.createKeywordMapper(rule.keywordMap,rule.defaultToken||"text",rule.caseInsensitive),delete rule.defaultToken)}}),this)},this.createKeywordMapper=function(map,defaultToken,ignoreCase,splitChar){var keywords=Object.create(null);return this.$keywordList=[],Object.keys(map).forEach((function(className){for(var list=map[className].split(splitChar||"|"),i=list.length;i--;){var word=list[i];this.$keywordList.push(word),ignoreCase&&(word=word.toLowerCase()),keywords[word]=className}}),this),map=null,ignoreCase?function(value){return keywords[value.toLowerCase()]||defaultToken}:function(value){return keywords[value]||defaultToken}},this.getKeywords=function(){return this.$keywords}}).call(TextHighlightRules.prototype),exports.TextHighlightRules=TextHighlightRules})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(require,exports,module){"use strict";var Behaviour=function(){this.$behaviours={}};(function(){this.add=function(name,action,callback){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[name]:this.$behaviours[name]={}}this.$behaviours[name][action]=callback},this.addBehaviours=function(behaviours){for(var key in behaviours)for(var action in behaviours[key])this.add(key,action,behaviours[key][action])},this.remove=function(name){this.$behaviours&&this.$behaviours[name]&&delete this.$behaviours[name]},this.inherit=function(mode,filter){if("function"==typeof mode)var behaviours=(new mode).getBehaviours(filter);else behaviours=mode.getBehaviours(filter);this.addBehaviours(behaviours)},this.getBehaviours=function(filter){if(filter){for(var ret={},i=0;i<filter.length;i++)this.$behaviours[filter[i]]&&(ret[filter[i]]=this.$behaviours[filter[i]]);return ret}return this.$behaviours}}).call(Behaviour.prototype),exports.Behaviour=Behaviour})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(require,exports,module){"use strict";var Range=require("./range").Range,TokenIterator=function(){function TokenIterator(session,initialRow,initialColumn){this.$session=session,this.$row=initialRow,this.$rowTokens=session.getTokens(initialRow);var token=session.getTokenAt(initialRow,initialColumn);this.$tokenIndex=token?token.index:-1}return TokenIterator.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},TokenIterator.prototype.stepForward=function(){var rowCount;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,rowCount||(rowCount=this.$session.getLength()),this.$row>=rowCount)return this.$row=rowCount-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},TokenIterator.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},TokenIterator.prototype.getCurrentTokenRow=function(){return this.$row},TokenIterator.prototype.getCurrentTokenColumn=function(){var rowTokens=this.$rowTokens,tokenIndex=this.$tokenIndex,column=rowTokens[tokenIndex].start;if(void 0!==column)return column;for(column=0;tokenIndex>0;)column+=rowTokens[tokenIndex-=1].value.length;return column},TokenIterator.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},TokenIterator.prototype.getCurrentTokenRange=function(){var token=this.$rowTokens[this.$tokenIndex],column=this.getCurrentTokenColumn();return new Range(this.$row,column,this.$row,column+token.value.length)},TokenIterator}();exports.TokenIterator=TokenIterator})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(require,exports,module){"use strict";var context,oop=require("../../lib/oop"),Behaviour=require("../behaviour").Behaviour,TokenIterator=require("../../token_iterator").TokenIterator,lang=require("../../lib/lang"),SAFE_INSERT_IN_TOKENS=["text","paren.rparen","rparen","paren","punctuation.operator"],SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],contextCache={},defaultQuotes={'"':'"',"'":"'"},initContext=function(editor){var id=-1;if(editor.multiSelect&&(id=editor.selection.index,contextCache.rangeCount!=editor.multiSelect.rangeCount&&(contextCache={rangeCount:editor.multiSelect.rangeCount})),contextCache[id])return context=contextCache[id];context=contextCache[id]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},getWrapped=function(selection,selected,opening,closing){var rowDiff=selection.end.row-selection.start.row;return{text:opening+selected+closing,selection:[0,selection.start.column+1,rowDiff,selection.end.column+(rowDiff?0:1)]}},CstyleBehaviour=function(options){options=options||{},this.add("braces","insertion",(function(state,action,editor,session,text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("{"==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"{"!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"{","}");if(CstyleBehaviour.isSaneInsertion(editor,session))return/[\]\}\)]/.test(line[cursor.column])||editor.inMultiSelectMode||options.braces?(CstyleBehaviour.recordAutoInsert(editor,session,"}"),{text:"{}",selection:[1,1]}):(CstyleBehaviour.recordMaybeInsert(editor,session,"{"),{text:"{",selection:[1,1]})}else if("}"==text){if(initContext(editor),"}"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket("}",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==text||"\r\n"==text){initContext(editor);var closing="";if(CstyleBehaviour.isMaybeInsertedClosing(cursor,line)&&(closing=lang.stringRepeat("}",context.maybeInsertedBrackets),CstyleBehaviour.clearMaybeInsertedClosing()),"}"===line.substring(cursor.column,cursor.column+1)){var openBracePos=session.findMatchingBracket({row:cursor.row,column:cursor.column+1},"}");if(!openBracePos)return null;var next_indent=this.$getIndent(session.getLine(openBracePos.row))}else{if(!closing)return void CstyleBehaviour.clearMaybeInsertedClosing();next_indent=this.$getIndent(line)}var indent=next_indent+session.getTabString();return{text:"\n"+indent+"\n"+next_indent+closing,selection:[1,indent.length,1,indent.length]}}CstyleBehaviour.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"{"==selected){if(initContext(editor),"}"==session.doc.getLine(range.start.row).substring(range.end.column,range.end.column+1))return range.end.column++,range;context.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(state,action,editor,session,text){if("("==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"(",")");if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,")"),{text:"()",selection:[1,1]}}else if(")"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(")"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket(")",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"("==selected&&(initContext(editor),")"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)))return range.end.column++,range})),this.add("brackets","insertion",(function(state,action,editor,session,text){if("["==text){initContext(editor);var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"[","]");if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,"]"),{text:"[]",selection:[1,1]}}else if("]"==text){initContext(editor);var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("]"==line.substring(cursor.column,cursor.column+1))if(null!==session.$findOpeningBracket("]",{column:cursor.column+1,row:cursor.row})&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"["==selected&&(initContext(editor),"]"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)))return range.end.column++,range})),this.add("string_dquotes","insertion",(function(state,action,editor,session,text){var quotes=session.$mode.$quotes||defaultQuotes;if(1==text.length&&quotes[text]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(text))return;initContext(editor);var quote=text,selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(!(""===selected||1==selected.length&&quotes[selected])&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,quote,quote);if(!selected){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),leftChar=line.substring(cursor.column-1,cursor.column),rightChar=line.substring(cursor.column,cursor.column+1),token=session.getTokenAt(cursor.row,cursor.column),rightToken=session.getTokenAt(cursor.row,cursor.column+1);if("\\"==leftChar&&token&&/escape/.test(token.type))return null;var pair,stringBefore=token&&/string|escape/.test(token.type),stringAfter=!rightToken||/string|escape/.test(rightToken.type);if(rightChar==quote)(pair=stringBefore!==stringAfter)&&/string\.end/.test(rightToken.type)&&(pair=!1);else{if(stringBefore&&!stringAfter)return null;if(stringBefore&&stringAfter)return null;var wordRe=session.$mode.tokenRe;wordRe.lastIndex=0;var isWordBefore=wordRe.test(leftChar);wordRe.lastIndex=0;var isWordAfter=wordRe.test(rightChar),pairQuotesAfter=session.$mode.$pairQuotesAfter;if(!(pairQuotesAfter&&pairQuotesAfter[quote]&&pairQuotesAfter[quote].test(leftChar))&&isWordBefore||isWordAfter)return null;if(rightChar&&!/[\s;,.})\]\\]/.test(rightChar))return null;var charBefore=line[cursor.column-2];if(leftChar==quote&&(charBefore==quote||wordRe.test(charBefore)))return null;pair=!0}return{text:pair?quote+quote:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(state,action,editor,session,range){var quotes=session.$mode.$quotes||defaultQuotes,selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&quotes.hasOwnProperty(selected)&&(initContext(editor),session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)==selected))return range.end.column++,range})),!1!==options.closeDocComment&&this.add("doc comment end","insertion",(function(state,action,editor,session,text){if("doc-start"===state&&("\n"===text||"\r\n"===text)&&editor.selection.isEmpty()){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),nextLine=session.doc.getLine(cursor.row+1),indent=this.$getIndent(line);if(/\s*\*/.test(nextLine))return/^\s*\*/.test(line)?{text:text+indent+"* ",selection:[1,3+indent.length,1,3+indent.length]}:{text:text+indent+" * ",selection:[1,3+indent.length,1,3+indent.length]};if(/\/\*\*/.test(line.substring(0,cursor.column)))return{text:text+indent+" * "+text+" "+indent+"*/",selection:[1,4+indent.length,1,4+indent.length]}}}))};CstyleBehaviour.isSaneInsertion=function(editor,session){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column);if(!this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){if(/[)}\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))return!0;var iterator2=new TokenIterator(session,cursor.row,cursor.column+1);if(!this.$matchTokenType(iterator2.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return!1}return iterator.stepForward(),iterator.getCurrentTokenRow()!==cursor.row||this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)},CstyleBehaviour.$matchTokenType=function(token,types){return types.indexOf(token.type||token)>-1},CstyleBehaviour.recordAutoInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isAutoInsertedClosing(cursor,line,context.autoInsertedLineEnd[0])||(context.autoInsertedBrackets=0),context.autoInsertedRow=cursor.row,context.autoInsertedLineEnd=bracket+line.substr(cursor.column),context.autoInsertedBrackets++},CstyleBehaviour.recordMaybeInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isMaybeInsertedClosing(cursor,line)||(context.maybeInsertedBrackets=0),context.maybeInsertedRow=cursor.row,context.maybeInsertedLineStart=line.substr(0,cursor.column)+bracket,context.maybeInsertedLineEnd=line.substr(cursor.column),context.maybeInsertedBrackets++},CstyleBehaviour.isAutoInsertedClosing=function(cursor,line,bracket){return context.autoInsertedBrackets>0&&cursor.row===context.autoInsertedRow&&bracket===context.autoInsertedLineEnd[0]&&line.substr(cursor.column)===context.autoInsertedLineEnd},CstyleBehaviour.isMaybeInsertedClosing=function(cursor,line){return context.maybeInsertedBrackets>0&&cursor.row===context.maybeInsertedRow&&line.substr(cursor.column)===context.maybeInsertedLineEnd&&line.substr(0,cursor.column)==context.maybeInsertedLineStart},CstyleBehaviour.popAutoInsertedClosing=function(){context.autoInsertedLineEnd=context.autoInsertedLineEnd.substr(1),context.autoInsertedBrackets--},CstyleBehaviour.clearMaybeInsertedClosing=function(){context&&(context.maybeInsertedBrackets=0,context.maybeInsertedRow=-1)},oop.inherits(CstyleBehaviour,Behaviour),exports.CstyleBehaviour=CstyleBehaviour})),ace.define("ace/unicode",["require","exports","module"],(function(require,exports,module){"use strict";for(var wordChars=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],code=0,str=[],i=0;i<wordChars.length;i+=2)str.push(code+=wordChars[i]),wordChars[i+1]&&str.push(45,code+=wordChars[i+1]);exports.wordChars=String.fromCharCode.apply(null,str)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(require,exports,module){"use strict";var config=require("../config"),Tokenizer=require("../tokenizer").Tokenizer,TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,CstyleBehaviour=require("./behaviour/cstyle").CstyleBehaviour,unicode=require("../unicode"),lang=require("../lib/lang"),TokenIterator=require("../token_iterator").TokenIterator,Range=require("../range").Range,Mode=function(){this.HighlightRules=TextHighlightRules};(function(){this.$defaultBehaviour=new CstyleBehaviour,this.tokenRe=new RegExp("^["+unicode.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+unicode.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new Tokenizer(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(state,session,startRow,endRow){var doc=session.doc,ignoreBlankLines=!0,shouldRemove=!0,minIndent=1/0,tabSize=session.getTabSize(),insertAtTabStop=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))regexpStart=this.lineCommentStart.map(lang.escapeRegExp).join("|"),lineCommentStart=this.lineCommentStart[0];else regexpStart=lang.escapeRegExp(this.lineCommentStart),lineCommentStart=this.lineCommentStart;regexpStart=new RegExp("^(\\s*)(?:"+regexpStart+") ?"),insertAtTabStop=session.getUseSoftTabs();uncomment=function(line,i){var m=line.match(regexpStart);if(m){var start=m[1].length,end=m[0].length;shouldInsertSpace(line,start,end)||" "!=m[0][end-1]||end--,doc.removeInLine(i,start,end)}};var commentWithSpace=lineCommentStart+" ",shouldInsertSpace=(comment=function(line,i){ignoreBlankLines&&!/\S/.test(line)||(shouldInsertSpace(line,minIndent,minIndent)?doc.insertInLine({row:i,column:minIndent},commentWithSpace):doc.insertInLine({row:i,column:minIndent},lineCommentStart))},testRemove=function(line,i){return regexpStart.test(line)},function(line,before,after){for(var spaces=0;before--&&" "==line.charAt(before);)spaces++;if(spaces%tabSize!=0)return!1;for(spaces=0;" "==line.charAt(after++);)spaces++;return tabSize>2?spaces%tabSize!=tabSize-1:spaces%tabSize==0})}else{if(!this.blockComment)return!1;var lineCommentStart=this.blockComment.start,lineCommentEnd=this.blockComment.end,regexpStart=new RegExp("^(\\s*)(?:"+lang.escapeRegExp(lineCommentStart)+")"),regexpEnd=new RegExp("(?:"+lang.escapeRegExp(lineCommentEnd)+")\\s*$"),comment=function(line,i){testRemove(line,i)||ignoreBlankLines&&!/\S/.test(line)||(doc.insertInLine({row:i,column:line.length},lineCommentEnd),doc.insertInLine({row:i,column:minIndent},lineCommentStart))},uncomment=function(line,i){var m;(m=line.match(regexpEnd))&&doc.removeInLine(i,line.length-m[0].length,line.length),(m=line.match(regexpStart))&&doc.removeInLine(i,m[1].length,m[0].length)},testRemove=function(line,row){if(regexpStart.test(line))return!0;for(var tokens=session.getTokens(row),i=0;i<tokens.length;i++)if("comment"===tokens[i].type)return!0}}function iter(fun){for(var i=startRow;i<=endRow;i++)fun(doc.getLine(i),i)}var minEmptyLength=1/0;iter((function(line,i){var indent=line.search(/\S/);-1!==indent?(indent<minIndent&&(minIndent=indent),shouldRemove&&!testRemove(line,i)&&(shouldRemove=!1)):minEmptyLength>line.length&&(minEmptyLength=line.length)})),minIndent==1/0&&(minIndent=minEmptyLength,ignoreBlankLines=!1,shouldRemove=!1),insertAtTabStop&&minIndent%tabSize!=0&&(minIndent=Math.floor(minIndent/tabSize)*tabSize),iter(shouldRemove?uncomment:comment)},this.toggleBlockComment=function(state,session,range,cursor){var comment=this.blockComment;if(comment){!comment.start&&comment[0]&&(comment=comment[0]);var startRow,colDiff,token=(iterator=new TokenIterator(session,cursor.row,cursor.column)).getCurrentToken(),initialRange=(session.selection,session.selection.toOrientedRange());if(token&&/comment/.test(token.type)){for(var startRange,endRange;token&&/comment/.test(token.type);){if(-1!=(i=token.value.indexOf(comment.start))){var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;startRange=new Range(row,column,row,column+comment.start.length);break}token=iterator.stepBackward()}var iterator;for(token=(iterator=new TokenIterator(session,cursor.row,cursor.column)).getCurrentToken();token&&/comment/.test(token.type);){var i;if(-1!=(i=token.value.indexOf(comment.end))){row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;endRange=new Range(row,column,row,column+comment.end.length);break}token=iterator.stepForward()}endRange&&session.remove(endRange),startRange&&(session.remove(startRange),startRow=startRange.start.row,colDiff=-comment.start.length)}else colDiff=comment.start.length,startRow=range.start.row,session.insert(range.end,comment.end),session.insert(range.start,comment.start);initialRange.start.row==startRow&&(initialRange.start.column+=colDiff),initialRange.end.row==startRow&&(initialRange.end.column+=colDiff),session.selection.fromOrientedRange(initialRange)}},this.getNextLineIndent=function(state,line,tab){return this.$getIndent(line)},this.checkOutdent=function(state,line,input){return!1},this.autoOutdent=function(state,doc,row){},this.$getIndent=function(line){return line.match(/^\s*/)[0]},this.createWorker=function(session){return null},this.createModeDelegates=function(mapping){for(var i in this.$embeds=[],this.$modes={},mapping)if(mapping[i]){var Mode=mapping[i],id=Mode.prototype.$id,mode=config.$modes[id];mode||(config.$modes[id]=mode=new Mode),config.$modes[i]||(config.$modes[i]=mode),this.$embeds.push(i),this.$modes[i]=mode}var delegations=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(i=0;i<delegations.length;i++)!function(scope){var functionName=delegations[i],defaultHandler=scope[functionName];scope[delegations[i]]=function(){return this.$delegator(functionName,arguments,defaultHandler)}}(this)},this.$delegator=function(method,args,defaultHandler){var state=args[0]||"start";if("string"!=typeof state){if(Array.isArray(state[2])){var language=state[2][state[2].length-1];if(mode=this.$modes[language])return mode[method].apply(mode,[state[1]].concat([].slice.call(args,1)))}state=state[0]||"start"}for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var mode,split=state.split(this.$embeds[i]);if(!split[0]&&split[1])return args[0]=split[1],(mode=this.$modes[this.$embeds[i]])[method].apply(mode,args)}var ret=defaultHandler.apply(this,args);return defaultHandler?ret:void 0},this.transformAction=function(state,action,editor,session,param){if(this.$behaviour){var behaviours=this.$behaviour.getBehaviours();for(var key in behaviours)if(behaviours[key][action]){var ret=behaviours[key][action].apply(this,arguments);if(ret)return ret}}},this.getKeywords=function(append){if(!this.completionKeywords){var rules=this.$tokenizer.rules,completionKeywords=[];for(var rule in rules)for(var ruleItr=rules[rule],r=0,l=ruleItr.length;r<l;r++)if("string"==typeof ruleItr[r].token)/keyword|support|storage/.test(ruleItr[r].token)&&completionKeywords.push(ruleItr[r].regex);else if("object"==typeof ruleItr[r].token)for(var a=0,aLength=ruleItr[r].token.length;a<aLength;a++)if(/keyword|support|storage/.test(ruleItr[r].token[a])){rule=ruleItr[r].regex.match(/\(.+?\)/g)[a];completionKeywords.push(rule.substr(1,rule.length-2))}this.completionKeywords=completionKeywords}return append?completionKeywords.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(state,session,pos,prefix){return(this.$keywordList||this.$createKeywordList()).map((function(word){return{name:word,value:word,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/apply_delta",["require","exports","module"],(function(require,exports,module){"use strict";exports.applyDelta=function(docLines,delta,doNotValidate){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":if(1===delta.lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(require,exports,module){"use strict";var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,Anchor=function(){function Anchor(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),void 0===column?this.setPosition(row.row,row.column):this.setPosition(row,column)}return Anchor.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},Anchor.prototype.getDocument=function(){return this.document},Anchor.prototype.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;if($pointsInOrder(point,deltaStart,moveIfEqual))return{row:point.row,column:point.column};if($pointsInOrder(deltaEnd,point,!moveIfEqual))return{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)};return{row:deltaStart.row,column:deltaStart.column}}(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},Anchor.prototype.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row,column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old,value:pos})}},Anchor.prototype.detach=function(){this.document.off("change",this.$onChange)},Anchor.prototype.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},Anchor.prototype.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):row<0?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),column<0&&(pos.column=0),pos},Anchor}();function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}Anchor.prototype.$insertRight=!1,oop.implement(Anchor.prototype,EventEmitter),exports.Anchor=Anchor})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(require,exports,module){"use strict";var oop=require("./lib/oop"),applyDelta=require("./apply_delta").applyDelta,EventEmitter=require("./lib/event_emitter").EventEmitter,Range=require("./range").Range,Anchor=require("./anchor").Anchor,Document=function(){function Document(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)}return Document.prototype.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text||"")},Document.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},Document.prototype.createAnchor=function(row,column){return new Anchor(this,row,column)},Document.prototype.$detectNewLine=function(text){var match=text.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=match?match[1]:"\n",this._signal("changeNewLineMode")},Document.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},Document.prototype.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},Document.prototype.getNewLineMode=function(){return this.$newLineMode},Document.prototype.isNewLine=function(text){return"\r\n"==text||"\r"==text||"\n"==text},Document.prototype.getLine=function(row){return this.$lines[row]||""},Document.prototype.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},Document.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},Document.prototype.getLength=function(){return this.$lines.length},Document.prototype.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},Document.prototype.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{(lines=this.getLines(range.start.row,range.end.row))[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},Document.prototype.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},Document.prototype.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},Document.prototype.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(position,["",""])},Document.prototype.insert=function(position,text){return this.getLength()<=1&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},Document.prototype.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start,end,action:"insert",lines:[text]},!0),this.clonePos(end)},Document.prototype.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:row<0?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return null==column&&(column=line.length),{row,column:column=Math.min(Math.max(column,0),line.length)}},Document.prototype.clonePos=function(pos){return{row:pos.row,column:pos.column}},Document.prototype.pos=function(row,column){return{row,column}},Document.prototype.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},Document.prototype.insertFullLines=function(row,lines){var column=0;(row=Math.min(Math.max(row,0),this.getLength()))<this.getLength()?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row,column},lines)},Document.prototype.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start,end,action:"insert",lines}),this.clonePos(end)},Document.prototype.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start,end,action:"remove",lines:this.getLinesForRange({start,end})}),this.clonePos(start)},Document.prototype.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start,end,action:"remove",lines:this.getLinesForRange({start,end})},!0),this.clonePos(start)},Document.prototype.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1);var deleteFirstNewLine=(lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1))==this.getLength()-1&&firstRow>0,deleteLastNewLine=lastRow<this.getLength()-1,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},Document.prototype.removeNewLine=function(row){row<this.getLength()-1&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},Document.prototype.replace=function(range,text){return range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty()?range.start:text==this.getTextRange(range)?range.end:(this.remove(range),text?this.insert(range.start,text):range.start)},Document.prototype.applyDeltas=function(deltas){for(var i=0;i<deltas.length;i++)this.applyDelta(deltas[i])},Document.prototype.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},Document.prototype.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?delta.lines.length<=1&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4?this.$splitAndapplyLargeDelta(delta,2e4):(applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta)))},Document.prototype.$safeApplyDelta=function(delta){var docLength=this.$lines.length;("remove"==delta.action&&delta.start.row<docLength&&delta.end.row<docLength||"insert"==delta.action&&delta.start.row<=docLength)&&this.applyDelta(delta)},Document.prototype.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length-MAX+1,row=delta.start.row,column=delta.start.column,from=0,to=0;from<l;from=to){to+=MAX-1;var chunk=lines.slice(from,to);chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}delta.lines=lines.slice(from),delta.start.row=row+from,delta.start.column=column,this.applyDelta(delta,!0)},Document.prototype.revertDelta=function(delta){this.$safeApplyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},Document.prototype.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;i<l;i++)if((index-=lines[i].length+newlineLength)<0)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:index+lines[l-1].length+newlineLength}},Document.prototype.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;i<row;++i)index+=lines[i].length+newlineLength;return index+pos.column},Document.prototype.$split=function(text){return text.split(/\r\n|\r|\n/)},Document}();Document.prototype.$autoNewLine="",Document.prototype.$newLineMode="auto",oop.implement(Document.prototype,EventEmitter),exports.Document=Document})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(require,exports,module){"use strict";var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,BackgroundTokenizer=function(){function BackgroundTokenizer(tokenizer,editor){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=tokenizer;var self=this;this.$worker=function(){if(self.running){for(var workerStart=new Date,currentLine=self.currentLine,endLine=-1,doc=self.doc,startLine=currentLine;self.lines[currentLine];)currentLine++;var len=doc.getLength(),processedLines=0;for(self.running=!1;currentLine<len;){self.$tokenizeRow(currentLine),endLine=currentLine;do{currentLine++}while(self.lines[currentLine]);if(++processedLines%5==0&&new Date-workerStart>20){self.running=setTimeout(self.$worker,20);break}}self.currentLine=currentLine,-1==endLine&&(endLine=currentLine),startLine<=endLine&&self.fireUpdateEvent(startLine,endLine)}}}return BackgroundTokenizer.prototype.setTokenizer=function(tokenizer){this.tokenizer=tokenizer,this.lines=[],this.states=[],this.start(0)},BackgroundTokenizer.prototype.setDocument=function(doc){this.doc=doc,this.lines=[],this.states=[],this.stop()},BackgroundTokenizer.prototype.fireUpdateEvent=function(firstRow,lastRow){var data={first:firstRow,last:lastRow};this._signal("update",{data})},BackgroundTokenizer.prototype.start=function(startRow){this.currentLine=Math.min(startRow||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},BackgroundTokenizer.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},BackgroundTokenizer.prototype.$updateOnChange=function(delta){var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len)this.lines[startRow]=null;else if("remove"==delta.action)this.lines.splice(startRow,len+1,null),this.states.splice(startRow,len+1,null);else{var args=Array(len+1);args.unshift(startRow,1),this.lines.splice.apply(this.lines,args),this.states.splice.apply(this.states,args)}this.currentLine=Math.min(startRow,this.currentLine,this.doc.getLength()),this.stop()},BackgroundTokenizer.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},BackgroundTokenizer.prototype.getTokens=function(row){return this.lines[row]||this.$tokenizeRow(row)},BackgroundTokenizer.prototype.getState=function(row){return this.currentLine==row&&this.$tokenizeRow(row),this.states[row]||"start"},BackgroundTokenizer.prototype.$tokenizeRow=function(row){var line=this.doc.getLine(row),state=this.states[row-1],data=this.tokenizer.getLineTokens(line,state,row);return this.states[row]+""!=data.state+""?(this.states[row]=data.state,this.lines[row+1]=null,this.currentLine>row+1&&(this.currentLine=row+1)):this.currentLine==row&&(this.currentLine=row+1),this.lines[row]=data.tokens},BackgroundTokenizer.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},BackgroundTokenizer}();oop.implement(BackgroundTokenizer.prototype,EventEmitter),exports.BackgroundTokenizer=BackgroundTokenizer})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(require,exports,module){"use strict";var lang=require("./lib/lang"),Range=require("./range").Range,SearchHighlight=function(){function SearchHighlight(regExp,clazz,type){void 0===type&&(type="text"),this.setRegexp(regExp),this.clazz=clazz,this.type=type}return SearchHighlight.prototype.setRegexp=function(regExp){this.regExp+""!=regExp+""&&(this.regExp=regExp,this.cache=[])},SearchHighlight.prototype.update=function(html,markerLayer,session,config){if(this.regExp)for(var start=config.firstRow,end=config.lastRow,renderedMarkerRanges={},i=start;i<=end;i++){var ranges=this.cache[i];null==ranges&&((ranges=lang.getMatchOffsets(session.getLine(i),this.regExp)).length>this.MAX_RANGES&&(ranges=ranges.slice(0,this.MAX_RANGES)),ranges=ranges.map((function(match){return new Range(i,match.offset,i,match.offset+match.length)})),this.cache[i]=ranges.length?ranges:"");for(var j=ranges.length;j--;){var rangeToAddMarkerTo=ranges[j].toScreenRange(session),rangeAsString=rangeToAddMarkerTo.toString();renderedMarkerRanges[rangeAsString]||(renderedMarkerRanges[rangeAsString]=!0,markerLayer.drawSingleLineMarker(html,rangeToAddMarkerTo,this.clazz,config))}}},SearchHighlight}();SearchHighlight.prototype.MAX_RANGES=500,exports.SearchHighlight=SearchHighlight})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(require,exports,module){"use strict";var Range=require("../range").Range,FoldLine=function(){function FoldLine(foldData,folds){this.foldData=foldData,Array.isArray(folds)?this.folds=folds:folds=this.folds=[folds];var last=folds[folds.length-1];this.range=new Range(folds[0].start.row,folds[0].start.column,last.end.row,last.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(fold){fold.setFoldLine(this)}),this)}return FoldLine.prototype.shiftRow=function(shift){this.start.row+=shift,this.end.row+=shift,this.folds.forEach((function(fold){fold.start.row+=shift,fold.end.row+=shift}))},FoldLine.prototype.addFold=function(fold){if(fold.sameRow){if(fold.start.row<this.startRow||fold.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(fold),this.folds.sort((function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)})),this.range.compareEnd(fold.start.row,fold.start.column)>0?(this.end.row=fold.end.row,this.end.column=fold.end.column):this.range.compareStart(fold.end.row,fold.end.column)<0&&(this.start.row=fold.start.row,this.start.column=fold.start.column)}else if(fold.start.row==this.end.row)this.folds.push(fold),this.end.row=fold.end.row,this.end.column=fold.end.column;else{if(fold.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(fold),this.start.row=fold.start.row,this.start.column=fold.start.column}fold.foldLine=this},FoldLine.prototype.containsRow=function(row){return row>=this.start.row&&row<=this.end.row},FoldLine.prototype.walk=function(callback,endRow,endColumn){var fold,cmp,lastEnd=0,folds=this.folds,isNewRow=!0;null==endRow&&(endRow=this.end.row,endColumn=this.end.column);for(var i=0;i<folds.length;i++){if(-1==(cmp=(fold=folds[i]).range.compareStart(endRow,endColumn)))return void callback(null,endRow,endColumn,lastEnd,isNewRow);if(!callback(null,fold.start.row,fold.start.column,lastEnd,isNewRow)&&callback(fold.placeholder,fold.start.row,fold.start.column,lastEnd)||0===cmp)return;isNewRow=!fold.sameRow,lastEnd=fold.end.column}callback(null,endRow,endColumn,lastEnd,isNewRow)},FoldLine.prototype.getNextFoldTo=function(row,column){for(var fold,cmp,i=0;i<this.folds.length;i++){if(-1==(cmp=(fold=this.folds[i]).range.compareEnd(row,column)))return{fold,kind:"after"};if(0===cmp)return{fold,kind:"inside"}}return null},FoldLine.prototype.addRemoveChars=function(row,column,len){var fold,folds,ret=this.getNextFoldTo(row,column);if(ret)if(fold=ret.fold,"inside"==ret.kind&&fold.start.column!=column&&fold.start.row!=row)window.console&&window.console.log(row,column,fold);else if(fold.start.row==row){var i=(folds=this.folds).indexOf(fold);for(0===i&&(this.start.column+=len);i<folds.length;i++){if((fold=folds[i]).start.column+=len,!fold.sameRow)return;fold.end.column+=len}this.end.column+=len}},FoldLine.prototype.split=function(row,column){var pos=this.getNextFoldTo(row,column);if(!pos||"inside"==pos.kind)return null;var fold=pos.fold,folds=this.folds,foldData=this.foldData,i=folds.indexOf(fold),foldBefore=folds[i-1];this.end.row=foldBefore.end.row,this.end.column=foldBefore.end.column;var newFoldLine=new FoldLine(foldData,folds=folds.splice(i,folds.length-i));return foldData.splice(foldData.indexOf(this)+1,0,newFoldLine),newFoldLine},FoldLine.prototype.merge=function(foldLineNext){for(var folds=foldLineNext.folds,i=0;i<folds.length;i++)this.addFold(folds[i]);var foldData=this.foldData;foldData.splice(foldData.indexOf(foldLineNext),1)},FoldLine.prototype.toString=function(){var ret=[this.range.toString()+": ["];return this.folds.forEach((function(fold){ret.push("  "+fold.toString())})),ret.push("]"),ret.join("\n")},FoldLine.prototype.idxToPosition=function(idx){for(var lastFoldEndColumn=0,i=0;i<this.folds.length;i++){var fold=this.folds[i];if((idx-=fold.start.column-lastFoldEndColumn)<0)return{row:fold.start.row,column:fold.start.column+idx};if((idx-=fold.placeholder.length)<0)return fold.start;lastFoldEndColumn=fold.end.column}return{row:this.end.row,column:this.end.column+idx}},FoldLine}();exports.FoldLine=FoldLine})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(require,exports,module){"use strict";var comparePoints=require("./range").Range.comparePoints,RangeList=function(){function RangeList(){this.ranges=[],this.$bias=1}return RangeList.prototype.pointIndex=function(pos,excludeEdges,startIndex){for(var list=this.ranges,i=startIndex||0;i<list.length;i++){var range=list[i],cmpEnd=comparePoints(pos,range.end);if(!(cmpEnd>0)){var cmpStart=comparePoints(pos,range.start);return 0===cmpEnd?excludeEdges&&0!==cmpStart?-i-2:i:cmpStart>0||0===cmpStart&&!excludeEdges?i:-i-1}}return-i-1},RangeList.prototype.add=function(range){var excludeEdges=!range.isEmpty(),startIndex=this.pointIndex(range.start,excludeEdges);startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex(range.end,excludeEdges,startIndex);return endIndex<0?endIndex=-endIndex-1:endIndex++,this.ranges.splice(startIndex,endIndex-startIndex,range)},RangeList.prototype.addList=function(list){for(var removed=[],i=list.length;i--;)removed.push.apply(removed,this.add(list[i]));return removed},RangeList.prototype.substractPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges.splice(i,1)},RangeList.prototype.merge=function(){for(var range,removed=[],list=this.ranges,next=(list=list.sort((function(a,b){return comparePoints(a.start,b.start)})))[0],i=1;i<list.length;i++){range=next,next=list[i];var cmp=comparePoints(range.end,next.start);cmp<0||(0!=cmp||range.isEmpty()||next.isEmpty())&&(comparePoints(range.end,next.end)<0&&(range.end.row=next.end.row,range.end.column=next.end.column),list.splice(i,1),removed.push(next),next=range,i--)}return this.ranges=list,removed},RangeList.prototype.contains=function(row,column){return this.pointIndex({row,column})>=0},RangeList.prototype.containsPoint=function(pos){return this.pointIndex(pos)>=0},RangeList.prototype.rangeAtPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges[i]},RangeList.prototype.clipRows=function(startRow,endRow){var list=this.ranges;if(list[0].start.row>endRow||list[list.length-1].start.row<startRow)return[];var startIndex=this.pointIndex({row:startRow,column:0});startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex({row:endRow,column:0},startIndex);endIndex<0&&(endIndex=-endIndex-1);for(var clipped=[],i=startIndex;i<endIndex;i++)clipped.push(list[i]);return clipped},RangeList.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},RangeList.prototype.attach=function(session){this.session&&this.detach(),this.session=session,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},RangeList.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},RangeList.prototype.$onChange=function(delta){for(var start=delta.start,end=delta.end,startRow=start.row,endRow=end.row,ranges=this.ranges,i=0,n=ranges.length;i<n;i++){if((r=ranges[i]).end.row>=startRow)break}if("insert"==delta.action)for(var lineDif=endRow-startRow,colDiff=-start.column+end.column;i<n;i++){if((r=ranges[i]).start.row>startRow)break;if(r.start.row==startRow&&r.start.column>=start.column&&(r.start.column==start.column&&this.$bias<=0||(r.start.column+=colDiff,r.start.row+=lineDif)),r.end.row==startRow&&r.end.column>=start.column){if(r.end.column==start.column&&this.$bias<0)continue;r.end.column==start.column&&colDiff>0&&i<n-1&&r.end.column>r.start.column&&r.end.column==ranges[i+1].start.column&&(r.end.column-=colDiff),r.end.column+=colDiff,r.end.row+=lineDif}}else for(lineDif=startRow-endRow,colDiff=start.column-end.column;i<n;i++){if((r=ranges[i]).start.row>endRow)break;r.end.row<endRow&&(startRow<r.end.row||startRow==r.end.row&&start.column<r.end.column)?(r.end.row=startRow,r.end.column=start.column):r.end.row==endRow?r.end.column<=end.column?(lineDif||r.end.column>start.column)&&(r.end.column=start.column,r.end.row=start.row):(r.end.column+=colDiff,r.end.row+=lineDif):r.end.row>endRow&&(r.end.row+=lineDif),r.start.row<endRow&&(startRow<r.start.row||startRow==r.start.row&&start.column<r.start.column)?(r.start.row=startRow,r.start.column=start.column):r.start.row==endRow?r.start.column<=end.column?(lineDif||r.start.column>start.column)&&(r.start.column=start.column,r.start.row=start.row):(r.start.column+=colDiff,r.start.row+=lineDif):r.start.row>endRow&&(r.start.row+=lineDif)}if(0!=lineDif&&i<n)for(;i<n;i++){var r;(r=ranges[i]).start.row+=lineDif,r.end.row+=lineDif}},RangeList}();RangeList.prototype.comparePoints=comparePoints,exports.RangeList=RangeList})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(require,exports,module){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),Fold=function(_super){function Fold(range,placeholder){var _this=_super.call(this)||this;return _this.foldLine=null,_this.placeholder=placeholder,_this.range=range,_this.start=range.start,_this.end=range.end,_this.sameRow=range.start.row==range.end.row,_this.subFolds=_this.ranges=[],_this}return __extends(Fold,_super),Fold.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},Fold.prototype.setFoldLine=function(foldLine){this.foldLine=foldLine,this.subFolds.forEach((function(fold){fold.setFoldLine(foldLine)}))},Fold.prototype.clone=function(){var fold=new Fold(this.range.clone(),this.placeholder);return this.subFolds.forEach((function(subFold){fold.subFolds.push(subFold.clone())})),fold.collapseChildren=this.collapseChildren,fold},Fold.prototype.addSubFold=function(fold){if(!this.range.isEqual(fold)){!function consumeRange(range,anchor){consumePoint(range.start,anchor),consumePoint(range.end,anchor)}(fold,this.start);for(var row=fold.start.row,column=fold.start.column,i=0,cmp=-1;i<this.subFolds.length&&1==(cmp=this.subFolds[i].range.compare(row,column));i++);var afterStart=this.subFolds[i],firstConsumed=0;if(0==cmp){if(afterStart.range.containsRange(fold))return afterStart.addSubFold(fold);firstConsumed=1}row=fold.range.end.row,column=fold.range.end.column;var j=i;for(cmp=-1;j<this.subFolds.length&&1==(cmp=this.subFolds[j].range.compare(row,column));j++);0==cmp&&j++;for(var consumedFolds=this.subFolds.splice(i,j-i,fold),last=0==cmp?consumedFolds.length-1:consumedFolds.length,k=firstConsumed;k<last;k++)fold.addSubFold(consumedFolds[k]);return fold.setFoldLine(this.foldLine),fold}},Fold.prototype.restoreRange=function(range){return function restoreRange(range,anchor){restorePoint(range.start,anchor),restorePoint(range.end,anchor)}(range,this.start)},Fold}(require("../range_list").RangeList);function consumePoint(point,anchor){point.row-=anchor.row,0==point.row&&(point.column-=anchor.column)}function restorePoint(point,anchor){0==point.row&&(point.column+=anchor.column),point.row+=anchor.row}exports.Fold=Fold})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(require,exports,module){"use strict";var Range=require("../range").Range,FoldLine=require("./fold_line").FoldLine,Fold=require("./fold").Fold,TokenIterator=require("../token_iterator").TokenIterator,MouseEvent=require("../mouse/mouse_event").MouseEvent;exports.Folding=function Folding(){this.getFoldAt=function(row,column,side){var foldLine=this.getFoldLine(row);if(!foldLine)return null;for(var folds=foldLine.folds,i=0;i<folds.length;i++){var range=folds[i].range;if(range.contains(row,column)){if(1==side&&range.isEnd(row,column)&&!range.isEmpty())continue;if(-1==side&&range.isStart(row,column)&&!range.isEmpty())continue;return folds[i]}}},this.getFoldsInRange=function(range){var start=range.start,end=range.end,foldLines=this.$foldData,foundFolds=[];start.column+=1,end.column-=1;for(var i=0;i<foldLines.length;i++){var cmp=foldLines[i].range.compareRange(range);if(2!=cmp){if(-2==cmp)break;for(var folds=foldLines[i].folds,j=0;j<folds.length;j++){var fold=folds[j];if(-2==(cmp=fold.range.compareRange(range)))break;if(2!=cmp){if(42==cmp)break;foundFolds.push(fold)}}}}return start.column-=1,end.column+=1,foundFolds},this.getFoldsInRangeList=function(ranges){if(Array.isArray(ranges)){var folds=[];ranges.forEach((function(range){folds=folds.concat(this.getFoldsInRange(range))}),this)}else folds=this.getFoldsInRange(ranges);return folds},this.getAllFolds=function(){for(var folds=[],foldLines=this.$foldData,i=0;i<foldLines.length;i++)for(var j=0;j<foldLines[i].folds.length;j++)folds.push(foldLines[i].folds[j]);return folds},this.getFoldStringAt=function(row,column,trim,foldLine){if(!(foldLine=foldLine||this.getFoldLine(row)))return null;for(var str,fold,lastFold={end:{column:0}},i=0;i<foldLine.folds.length;i++){var cmp=(fold=foldLine.folds[i]).range.compareEnd(row,column);if(-1==cmp){str=this.getLine(fold.start.row).substring(lastFold.end.column,fold.start.column);break}if(0===cmp)return null;lastFold=fold}return str||(str=this.getLine(fold.start.row).substring(lastFold.end.column)),-1==trim?str.substring(0,column-lastFold.end.column):1==trim?str.substring(column-lastFold.end.column):str},this.getFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0);i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.start.row<=docRow&&foldLine.end.row>=docRow)return foldLine;if(foldLine.end.row>docRow)return null}return null},this.getNextFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0);i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.end.row>=docRow)return foldLine}return null},this.getFoldedRowCount=function(first,last){for(var foldData=this.$foldData,rowCount=last-first+1,i=0;i<foldData.length;i++){var foldLine=foldData[i],end=foldLine.end.row,start=foldLine.start.row;if(end>=last){start<last&&(start>=first?rowCount-=last-start:rowCount=0);break}end>=first&&(rowCount-=start>=first?end-start:end-first+1)}return rowCount},this.$addFoldLine=function(foldLine){return this.$foldData.push(foldLine),this.$foldData.sort((function(a,b){return a.start.row-b.start.row})),foldLine},this.addFold=function(placeholder,range){var fold,foldData=this.$foldData,added=!1;placeholder instanceof Fold?fold=placeholder:(fold=new Fold(range,placeholder)).collapseChildren=range.collapseChildren,this.$clipRangeToDocument(fold.range);var startRow=fold.start.row,startColumn=fold.start.column,endRow=fold.end.row,endColumn=fold.end.column,startFold=this.getFoldAt(startRow,startColumn,1),endFold=this.getFoldAt(endRow,endColumn,-1);if(startFold&&endFold==startFold)return startFold.addSubFold(fold);startFold&&!startFold.range.isStart(startRow,startColumn)&&this.removeFold(startFold),endFold&&!endFold.range.isEnd(endRow,endColumn)&&this.removeFold(endFold);var folds=this.getFoldsInRange(fold.range);folds.length>0&&(this.removeFolds(folds),fold.collapseChildren||folds.forEach((function(subFold){fold.addSubFold(subFold)})));for(var i=0;i<foldData.length;i++){var foldLine=foldData[i];if(endRow==foldLine.start.row){foldLine.addFold(fold),added=!0;break}if(startRow==foldLine.end.row){if(foldLine.addFold(fold),added=!0,!fold.sameRow){var foldLineNext=foldData[i+1];if(foldLineNext&&foldLineNext.start.row==endRow){foldLine.merge(foldLineNext);break}}break}if(endRow<=foldLine.start.row)break}return added||(foldLine=this.$addFoldLine(new FoldLine(this.$foldData,fold))),this.$useWrapMode?this.$updateWrapData(foldLine.start.row,foldLine.start.row):this.$updateRowLengthCache(foldLine.start.row,foldLine.start.row),this.$modified=!0,this._signal("changeFold",{data:fold,action:"add"}),fold},this.addFolds=function(folds){folds.forEach((function(fold){this.addFold(fold)}),this)},this.removeFold=function(fold){var foldLine=fold.foldLine,startRow=foldLine.start.row,endRow=foldLine.end.row,foldLines=this.$foldData,folds=foldLine.folds;if(1==folds.length)foldLines.splice(foldLines.indexOf(foldLine),1);else if(foldLine.range.isEnd(fold.end.row,fold.end.column))folds.pop(),foldLine.end.row=folds[folds.length-1].end.row,foldLine.end.column=folds[folds.length-1].end.column;else if(foldLine.range.isStart(fold.start.row,fold.start.column))folds.shift(),foldLine.start.row=folds[0].start.row,foldLine.start.column=folds[0].start.column;else if(fold.sameRow)folds.splice(folds.indexOf(fold),1);else{var newFoldLine=foldLine.split(fold.start.row,fold.start.column);(folds=newFoldLine.folds).shift(),newFoldLine.start.row=folds[0].start.row,newFoldLine.start.column=folds[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(startRow,endRow):this.$updateRowLengthCache(startRow,endRow)),this.$modified=!0,this._signal("changeFold",{data:fold,action:"remove"})},this.removeFolds=function(folds){for(var cloneFolds=[],i=0;i<folds.length;i++)cloneFolds.push(folds[i]);cloneFolds.forEach((function(fold){this.removeFold(fold)}),this),this.$modified=!0},this.expandFold=function(fold){this.removeFold(fold),fold.subFolds.forEach((function(subFold){fold.restoreRange(subFold),this.addFold(subFold)}),this),fold.collapseChildren>0&&this.foldAll(fold.start.row+1,fold.end.row,fold.collapseChildren-1),fold.subFolds=[]},this.expandFolds=function(folds){folds.forEach((function(fold){this.expandFold(fold)}),this)},this.unfold=function(location,expandInner){var range,folds;if(null==location)range=new Range(0,0,this.getLength(),0),null==expandInner&&(expandInner=!0);else if("number"==typeof location)range=new Range(location,0,location,this.getLine(location).length);else if("row"in location)range=Range.fromPoints(location,location);else{if(Array.isArray(location))return folds=[],location.forEach((function(range){folds=folds.concat(this.unfold(range))}),this),folds;range=location}for(var outermostFolds=folds=this.getFoldsInRangeList(range);1==folds.length&&Range.comparePoints(folds[0].start,range.start)<0&&Range.comparePoints(folds[0].end,range.end)>0;)this.expandFolds(folds),folds=this.getFoldsInRangeList(range);if(0!=expandInner?this.removeFolds(folds):this.expandFolds(folds),outermostFolds.length)return outermostFolds},this.isRowFolded=function(docRow,startFoldRow){return!!this.getFoldLine(docRow,startFoldRow)},this.getRowFoldEnd=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.end.row:docRow},this.getRowFoldStart=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.start.row:docRow},this.getFoldDisplayLine=function(foldLine,endRow,endColumn,startRow,startColumn){null==startRow&&(startRow=foldLine.start.row),null==startColumn&&(startColumn=0),null==endRow&&(endRow=foldLine.end.row),null==endColumn&&(endColumn=this.getLine(endRow).length);var doc=this.doc,textLine="";return foldLine.walk((function(placeholder,row,column,lastColumn){if(!(row<startRow)){if(row==startRow){if(column<startColumn)return;lastColumn=Math.max(startColumn,lastColumn)}textLine+=null!=placeholder?placeholder:doc.getLine(row).substring(lastColumn,column)}}),endRow,endColumn),textLine},this.getDisplayLine=function(row,endColumn,startRow,startColumn){var line,foldLine=this.getFoldLine(row);return foldLine?this.getFoldDisplayLine(foldLine,row,endColumn,startRow,startColumn):(line=this.doc.getLine(row)).substring(startColumn||0,endColumn||line.length)},this.$cloneFoldData=function(){var fd=[];return fd=this.$foldData.map((function(foldLine){var folds=foldLine.folds.map((function(fold){return fold.clone()}));return new FoldLine(fd,folds)}))},this.toggleFold=function(tryToUnfold){var fold,bracketPos,range=this.selection.getRange();if(range.isEmpty()){var cursor=range.start;if(fold=this.getFoldAt(cursor.row,cursor.column))return void this.expandFold(fold);(bracketPos=this.findMatchingBracket(cursor))?1==range.comparePoint(bracketPos)?range.end=bracketPos:(range.start=bracketPos,range.start.column++,range.end.column--):(bracketPos=this.findMatchingBracket({row:cursor.row,column:cursor.column+1}))?(1==range.comparePoint(bracketPos)?range.end=bracketPos:range.start=bracketPos,range.start.column++):range=this.getCommentFoldRange(cursor.row,cursor.column)||range}else{var folds=this.getFoldsInRange(range);if(tryToUnfold&&folds.length)return void this.expandFolds(folds);1==folds.length&&(fold=folds[0])}if(fold||(fold=this.getFoldAt(range.start.row,range.start.column)),fold&&fold.range.toString()==range.toString())this.expandFold(fold);else{var placeholder="...";if(!range.isMultiLine()){if((placeholder=this.getTextRange(range)).length<4)return;placeholder=placeholder.trim().substring(0,2)+".."}this.addFold(placeholder,range)}},this.getCommentFoldRange=function(row,column,dir){var iterator=new TokenIterator(this,row,column),token=iterator.getCurrentToken(),type=token&&token.type;if(token&&/^comment|string/.test(type)){"comment"==(type=type.match(/comment|string/)[0])&&(type+="|doc-start|\\.doc");var re=new RegExp(type),range=new Range;if(1!=dir){do{token=iterator.stepBackward()}while(token&&re.test(token.type)&&!/^comment.end/.test(token.type));token=iterator.stepForward()}if(range.start.row=iterator.getCurrentTokenRow(),range.start.column=iterator.getCurrentTokenColumn()+(/^comment.start/.test(token.type)?token.value.length:2),iterator=new TokenIterator(this,row,column),-1!=dir){var lastRow=-1;do{if(token=iterator.stepForward(),-1==lastRow){var state=this.getState(iterator.$row);re.test(state)||(lastRow=iterator.$row)}else if(iterator.$row>lastRow)break}while(token&&re.test(token.type)&&!/^comment.start/.test(token.type));token=iterator.stepBackward()}else token=iterator.getCurrentToken();return range.end.row=iterator.getCurrentTokenRow(),range.end.column=iterator.getCurrentTokenColumn(),/^comment.end/.test(token.type)||(range.end.column+=token.value.length-2),range}},this.foldAll=function(startRow,endRow,depth,test){null==depth&&(depth=1e5);var foldWidgets=this.foldWidgets;if(foldWidgets){endRow=endRow||this.getLength();for(var row=startRow=startRow||0;row<endRow;row++)if(null==foldWidgets[row]&&(foldWidgets[row]=this.getFoldWidget(row)),"start"==foldWidgets[row]&&(!test||test(row))){var range=this.getFoldWidgetRange(row);range&&range.isMultiLine()&&range.end.row<=endRow&&range.start.row>=startRow&&(row=range.end.row,range.collapseChildren=depth,this.addFold("...",range))}}},this.foldToLevel=function(level){for(this.foldAll();level-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var session=this;this.foldAll(null,null,null,(function(row){for(var tokens=session.getTokens(row),i=0;i<tokens.length;i++){var token=tokens[i];if("text"!=token.type||!/^\s+$/.test(token.value))return!!/comment/.test(token.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(style){if(!this.$foldStyles[style])throw new Error("invalid fold style: "+style+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=style){this.$foldStyle=style,"manual"==style&&this.unfold();var mode=this.$foldMode;this.$setFolding(null),this.$setFolding(mode)}},this.$setFolding=function(foldMode){this.$foldMode!=foldMode&&(this.$foldMode=foldMode,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),foldMode&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=foldMode.getFoldWidget.bind(foldMode,this,this.$foldStyle),this.getFoldWidgetRange=foldMode.getFoldWidgetRange.bind(foldMode,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(row,ignoreCurrent){var fw=this.foldWidgets;if(!fw||ignoreCurrent&&fw[row])return{};for(var firstRange,i=row-1;i>=0;){var c=fw[i];if(null==c&&(c=fw[i]=this.getFoldWidget(i)),"start"==c){var range=this.getFoldWidgetRange(i);if(firstRange||(firstRange=range),range&&range.end.row>=row)break}i--}return{range:-1!==i&&range,firstRange}},this.onFoldWidgetClick=function(row,e){e instanceof MouseEvent&&(e=e.domEvent);var options={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(row,options)){var el=e.target||e.srcElement;el&&/ace_fold-widget/.test(el.className)&&(el.className+=" ace_invalid")}},this.$toggleFoldWidget=function(row,options){if(this.getFoldWidget){var type=this.getFoldWidget(row),line=this.getLine(row),dir="end"===type?-1:1,fold=this.getFoldAt(row,-1===dir?0:line.length,dir);if(fold)return options.children||options.all?this.removeFold(fold):this.expandFold(fold),fold;var range=this.getFoldWidgetRange(row,!0);if(range&&!range.isMultiLine()&&(fold=this.getFoldAt(range.start.row,range.start.column,1))&&range.isEqual(fold.range))return this.removeFold(fold),fold;if(options.siblings){var data=this.getParentFoldRangeData(row);if(data.range)var startRow=data.range.start.row+1,endRow=data.range.end.row;this.foldAll(startRow,endRow,options.all?1e4:0)}else options.children?(endRow=range?range.end.row:this.getLength(),this.foldAll(row+1,endRow,options.all?1e4:0)):range&&(options.all&&(range.collapseChildren=1e4),this.addFold("...",range));return range}},this.toggleFoldWidget=function(toggleParent){var row=this.selection.getCursor().row;row=this.getRowFoldStart(row);var range=this.$toggleFoldWidget(row,{});if(!range){var data=this.getParentFoldRangeData(row,!0);if(range=data.range||data.firstRange){row=range.start.row;var fold=this.getFoldAt(row,this.getLine(row).length,1);fold?this.removeFold(fold):this.addFold("...",range)}}},this.updateFoldWidgets=function(delta){var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len)this.foldWidgets[firstRow]=null;else if("remove"==delta.action)this.foldWidgets.splice(firstRow,len+1,null);else{var args=Array(len+1);args.unshift(firstRow,1),this.foldWidgets.splice.apply(this.foldWidgets,args)}},this.tokenizerUpdateFoldWidgets=function(e){var rows=e.data;rows.first!=rows.last&&this.foldWidgets.length>rows.first&&this.foldWidgets.splice(rows.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(require,exports,module){"use strict";var TokenIterator=require("../token_iterator").TokenIterator,Range=require("../range").Range;exports.BracketMatch=function BracketMatch(){this.findMatchingBracket=function(position,chr){if(0==position.column)return null;var charBeforeCursor=chr||this.getLine(position.row).charAt(position.column-1);if(""==charBeforeCursor)return null;var match=charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);return match?match[1]?this.$findClosingBracket(match[1],position):this.$findOpeningBracket(match[2],position):null},this.getBracketRange=function(pos){var range,line=this.getLine(pos.row),before=!0,chr=line.charAt(pos.column-1),match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);if(match||(chr=line.charAt(pos.column),pos={row:pos.row,column:pos.column+1},match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/),before=!1),!match)return null;if(match[1]){if(!(bracketPos=this.$findClosingBracket(match[1],pos)))return null;range=Range.fromPoints(pos,bracketPos),before||(range.end.column++,range.start.column--),range.cursor=range.end}else{var bracketPos;if(!(bracketPos=this.$findOpeningBracket(match[2],pos)))return null;range=Range.fromPoints(bracketPos,pos),before||(range.start.column++,range.end.column--),range.cursor=range.start}return range},this.getMatchingBracketRanges=function(pos,isBackwards){var line=this.getLine(pos.row),bracketsRegExp=/([\(\[\{])|([\)\]\}])/,chr=!isBackwards&&line.charAt(pos.column-1),match=chr&&chr.match(bracketsRegExp);if(match||(chr=(void 0===isBackwards||isBackwards)&&line.charAt(pos.column),pos={row:pos.row,column:pos.column+1},match=chr&&chr.match(bracketsRegExp)),!match)return null;var startRange=new Range(pos.row,pos.column-1,pos.row,pos.column),bracketPos=match[1]?this.$findClosingBracket(match[1],pos):this.$findOpeningBracket(match[2],pos);return bracketPos?[startRange,new Range(bracketPos.row,bracketPos.column,bracketPos.row,bracketPos.column+1)]:[startRange]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(bracket,position,typeRe){var openBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn()-2,value=token.value;;){for(;valueIndex>=0;){var chr=value.charAt(valueIndex);if(chr==openBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex-=1}do{token=iterator.stepBackward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=(value=token.value).length-1}return null}},this.$findClosingBracket=function(bracket,position,typeRe){var closingBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn();;){for(var value=token.value,valueLength=value.length;valueIndex<valueLength;){var chr=value.charAt(valueIndex);if(chr==closingBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex+=1}do{token=iterator.stepForward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=0}return null}},this.getMatchingTags=function(pos){var iterator=new TokenIterator(this,pos.row,pos.column),token=this.$findTagName(iterator);if(token)return"<"===iterator.stepBackward().value?this.$findClosingTag(iterator,token):this.$findOpeningTag(iterator,token)},this.$findTagName=function(iterator){var token=iterator.getCurrentToken(),found=!1,backward=!1;if(token&&-1===token.type.indexOf("tag-name"))do{(token=backward?iterator.stepBackward():iterator.stepForward())&&("/>"===token.value?backward=!0:-1!==token.type.indexOf("tag-name")&&(found=!0))}while(token&&!found);return token},this.$findClosingTag=function(iterator,token){var prevToken,currentTag=token.value,tag=token.value,depth=0,openTagStart=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1);token=iterator.stepForward();var openTagName=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+token.value.length),foundOpenTagEnd=!1;do{if(prevToken=token,token=iterator.stepForward()){if(">"===token.value&&!foundOpenTagEnd){var openTagEnd=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1);foundOpenTagEnd=!0}if(-1!==token.type.indexOf("tag-name")){if(tag===(currentTag=token.value))if("<"===prevToken.value)depth++;else if("</"===prevToken.value&&--depth<0){iterator.stepBackward();var closeTagStart=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+2);token=iterator.stepForward();var closeTagName=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+token.value.length);if(!(token=iterator.stepForward())||">"!==token.value)return;var closeTagEnd=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1)}}else if(tag===currentTag&&"/>"===token.value&&--depth<0)closeTagEnd=closeTagName=closeTagStart=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+2),openTagEnd=new Range(openTagName.end.row,openTagName.end.column,openTagName.end.row,openTagName.end.column+1)}}while(token&&depth>=0);if(openTagStart&&openTagEnd&&closeTagStart&&closeTagEnd&&openTagName&&closeTagName)return{openTag:new Range(openTagStart.start.row,openTagStart.start.column,openTagEnd.end.row,openTagEnd.end.column),closeTag:new Range(closeTagStart.start.row,closeTagStart.start.column,closeTagEnd.end.row,closeTagEnd.end.column),openTagName,closeTagName}},this.$findOpeningTag=function(iterator,token){var prevToken=iterator.getCurrentToken(),tag=token.value,depth=0,startRow=iterator.getCurrentTokenRow(),startColumn=iterator.getCurrentTokenColumn(),endColumn=startColumn+2,closeTagStart=new Range(startRow,startColumn,startRow,endColumn);iterator.stepForward();var closeTagName=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+token.value.length);if((token=iterator.stepForward())&&">"===token.value){var closeTagEnd=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1);iterator.stepBackward(),iterator.stepBackward();do{if(token=prevToken,startRow=iterator.getCurrentTokenRow(),endColumn=(startColumn=iterator.getCurrentTokenColumn())+token.value.length,prevToken=iterator.stepBackward(),token)if(-1!==token.type.indexOf("tag-name")){if(tag===token.value)if("<"===prevToken.value){if(++depth>0){var openTagName=new Range(startRow,startColumn,startRow,endColumn),openTagStart=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1);do{token=iterator.stepForward()}while(token&&">"!==token.value);var openTagEnd=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn(),iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1)}}else"</"===prevToken.value&&depth--}else if("/>"===token.value){for(var stepCount=0,tmpToken=prevToken;tmpToken;){if(-1!==tmpToken.type.indexOf("tag-name")&&tmpToken.value===tag){depth--;break}if("<"===tmpToken.value)break;tmpToken=iterator.stepBackward(),stepCount++}for(var i=0;i<stepCount;i++)iterator.stepForward()}}while(prevToken&&depth<=0);return openTagStart&&openTagEnd&&closeTagStart&&closeTagEnd&&openTagName&&closeTagName?{openTag:new Range(openTagStart.start.row,openTagStart.start.column,openTagEnd.end.row,openTagEnd.end.column),closeTag:new Range(closeTagStart.start.row,closeTagStart.start.column,closeTagEnd.end.row,closeTagEnd.end.column),openTagName,closeTagName}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(require,exports,module){"use strict";var oop=require("./lib/oop"),lang=require("./lib/lang"),BidiHandler=require("./bidihandler").BidiHandler,config=require("./config"),EventEmitter=require("./lib/event_emitter").EventEmitter,Selection=require("./selection").Selection,TextMode=require("./mode/text").Mode,Range=require("./range").Range,Document=require("./document").Document,BackgroundTokenizer=require("./background_tokenizer").BackgroundTokenizer,SearchHighlight=require("./search_highlight").SearchHighlight,EditSession=function(){function EditSession(text,mode){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++EditSession.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new BackgroundTokenizer((new TextMode).getTokenizer(),this);var _self=this;this.bgTokenizer.on("update",(function(e){_self._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof text&&text.getLine||(text=new Document(text)),this.setDocument(text),this.selection=new Selection(this),this.$bidiHandler=new BidiHandler(this),config.resetOptions(this),this.setMode(mode),config._signal("session",this),this.destroyed=!1}return EditSession.prototype.setDocument=function(doc){this.doc&&this.doc.off("change",this.$onChange),this.doc=doc,doc.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},EditSession.prototype.getDocument=function(){return this.doc},EditSession.prototype.$resetRowCache=function(docRow){if(!docRow)return this.$docRowCache=[],void(this.$screenRowCache=[]);var l=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,docRow)+1;l>i&&(this.$docRowCache.splice(i,l),this.$screenRowCache.splice(i,l))},EditSession.prototype.$getRowCacheIndex=function(cacheArray,val){for(var low=0,hi=cacheArray.length-1;low<=hi;){var mid=low+hi>>1,c=cacheArray[mid];if(val>c)low=mid+1;else{if(!(val<c))return mid;hi=mid-1}}return low-1},EditSession.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},EditSession.prototype.onChangeFold=function(e){var fold=e.data;this.$resetRowCache(fold.start.row)},EditSession.prototype.onChange=function(delta){this.$modified=!0,this.$bidiHandler.onChange(delta),this.$resetRowCache(delta.start.row);var removedFolds=this.$updateInternalDataOnChange(delta);!this.$fromUndo&&this.$undoManager&&(removedFolds&&removedFolds.length&&(this.$undoManager.add({action:"removeFolds",folds:removedFolds},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(delta,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(delta),this._signal("change",delta)},EditSession.prototype.setValue=function(text){this.doc.setValue(text),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},EditSession.prototype.toString=function(){return this.doc.getValue()},EditSession.prototype.getSelection=function(){return this.selection},EditSession.prototype.getState=function(row){return this.bgTokenizer.getState(row)},EditSession.prototype.getTokens=function(row){return this.bgTokenizer.getTokens(row)},EditSession.prototype.getTokenAt=function(row,column){var token,tokens=this.bgTokenizer.getTokens(row),c=0;if(null==column){var i=tokens.length-1;c=this.getLine(row).length}else for(i=0;i<tokens.length&&!((c+=tokens[i].value.length)>=column);i++);return(token=tokens[i])?(token.index=i,token.start=c-token.value.length,token):null},EditSession.prototype.setUndoManager=function(undoManager){if(this.$undoManager=undoManager,this.$informUndoManager&&this.$informUndoManager.cancel(),undoManager){var self=this;undoManager.addSession(this),this.$syncInformUndoManager=function(){self.$informUndoManager.cancel(),self.mergeUndoDeltas=!1},this.$informUndoManager=lang.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},EditSession.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},EditSession.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},EditSession.prototype.getTabString=function(){return this.getUseSoftTabs()?lang.stringRepeat(" ",this.getTabSize()):"\t"},EditSession.prototype.setUseSoftTabs=function(val){this.setOption("useSoftTabs",val)},EditSession.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},EditSession.prototype.setTabSize=function(tabSize){this.setOption("tabSize",tabSize)},EditSession.prototype.getTabSize=function(){return this.$tabSize},EditSession.prototype.isTabStop=function(position){return this.$useSoftTabs&&position.column%this.$tabSize==0},EditSession.prototype.setNavigateWithinSoftTabs=function(navigateWithinSoftTabs){this.setOption("navigateWithinSoftTabs",navigateWithinSoftTabs)},EditSession.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},EditSession.prototype.setOverwrite=function(overwrite){this.setOption("overwrite",overwrite)},EditSession.prototype.getOverwrite=function(){return this.$overwrite},EditSession.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},EditSession.prototype.addGutterDecoration=function(row,className){this.$decorations[row]||(this.$decorations[row]=""),this.$decorations[row]+=" "+className,this._signal("changeBreakpoint",{})},EditSession.prototype.removeGutterDecoration=function(row,className){this.$decorations[row]=(this.$decorations[row]||"").replace(" "+className,""),this._signal("changeBreakpoint",{})},EditSession.prototype.getBreakpoints=function(){return this.$breakpoints},EditSession.prototype.setBreakpoints=function(rows){this.$breakpoints=[];for(var i=0;i<rows.length;i++)this.$breakpoints[rows[i]]="ace_breakpoint";this._signal("changeBreakpoint",{})},EditSession.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},EditSession.prototype.setBreakpoint=function(row,className){void 0===className&&(className="ace_breakpoint"),className?this.$breakpoints[row]=className:delete this.$breakpoints[row],this._signal("changeBreakpoint",{})},EditSession.prototype.clearBreakpoint=function(row){delete this.$breakpoints[row],this._signal("changeBreakpoint",{})},EditSession.prototype.addMarker=function(range,clazz,type,inFront){var id=this.$markerId++,marker={range,type:type||"line",renderer:"function"==typeof type?type:null,clazz,inFront:!!inFront,id};return inFront?(this.$frontMarkers[id]=marker,this._signal("changeFrontMarker")):(this.$backMarkers[id]=marker,this._signal("changeBackMarker")),id},EditSession.prototype.addDynamicMarker=function(marker,inFront){if(marker.update){var id=this.$markerId++;return marker.id=id,marker.inFront=!!inFront,inFront?(this.$frontMarkers[id]=marker,this._signal("changeFrontMarker")):(this.$backMarkers[id]=marker,this._signal("changeBackMarker")),marker}},EditSession.prototype.removeMarker=function(markerId){var marker=this.$frontMarkers[markerId]||this.$backMarkers[markerId];marker&&(delete(marker.inFront?this.$frontMarkers:this.$backMarkers)[markerId],this._signal(marker.inFront?"changeFrontMarker":"changeBackMarker"))},EditSession.prototype.getMarkers=function(inFront){return inFront?this.$frontMarkers:this.$backMarkers},EditSession.prototype.highlight=function(re){if(!this.$searchHighlight){var highlight=new SearchHighlight(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(highlight)}this.$searchHighlight.setRegexp(re)},EditSession.prototype.highlightLines=function(startRow,endRow,clazz,inFront){"number"!=typeof endRow&&(clazz=endRow,endRow=startRow),clazz||(clazz="ace_step");var range=new Range(startRow,0,endRow,1/0);return range.id=this.addMarker(range,clazz,"fullLine",inFront),range},EditSession.prototype.setAnnotations=function(annotations){this.$annotations=annotations,this._signal("changeAnnotation",{})},EditSession.prototype.getAnnotations=function(){return this.$annotations||[]},EditSession.prototype.clearAnnotations=function(){this.setAnnotations([])},EditSession.prototype.$detectNewLine=function(text){var match=text.match(/^.*?(\r?\n)/m);this.$autoNewLine=match?match[1]:"\n"},EditSession.prototype.getWordRange=function(row,column){var line=this.getLine(row),inToken=!1;if(column>0&&(inToken=!!line.charAt(column-1).match(this.tokenRe)),inToken||(inToken=!!line.charAt(column).match(this.tokenRe)),inToken)var re=this.tokenRe;else if(/^\s+$/.test(line.slice(column-1,column+1)))re=/\s/;else re=this.nonTokenRe;var start=column;if(start>0){do{start--}while(start>=0&&line.charAt(start).match(re));start++}for(var end=column;end<line.length&&line.charAt(end).match(re);)end++;return new Range(row,start,row,end)},EditSession.prototype.getAWordRange=function(row,column){for(var wordRange=this.getWordRange(row,column),line=this.getLine(wordRange.end.row);line.charAt(wordRange.end.column).match(/[ \t]/);)wordRange.end.column+=1;return wordRange},EditSession.prototype.setNewLineMode=function(newLineMode){this.doc.setNewLineMode(newLineMode)},EditSession.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},EditSession.prototype.setUseWorker=function(useWorker){this.setOption("useWorker",useWorker)},EditSession.prototype.getUseWorker=function(){return this.$useWorker},EditSession.prototype.onReloadTokenizer=function(e){var rows=e.data;this.bgTokenizer.start(rows.first),this._signal("tokenizerUpdate",e)},EditSession.prototype.setMode=function(mode,cb){if(mode&&"object"==typeof mode){if(mode.getTokenizer)return this.$onChangeMode(mode);var options=mode,path=options.path}else path=mode||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new TextMode),this.$modes[path]&&!options)return this.$onChangeMode(this.$modes[path]),void(cb&&cb());this.$modeId=path,config.loadModule(["mode",path],function(m){if(this.$modeId!==path)return cb&&cb();this.$modes[path]&&!options?this.$onChangeMode(this.$modes[path]):m&&m.Mode&&(m=new m.Mode(options),options||(this.$modes[path]=m,m.$id=path),this.$onChangeMode(m)),cb&&cb()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},EditSession.prototype.$onChangeMode=function(mode,$isPlaceholder){if($isPlaceholder||(this.$modeId=mode.$id),this.$mode!==mode){var oldMode=this.$mode;this.$mode=mode,this.$stopWorker(),this.$useWorker&&this.$startWorker();var tokenizer=mode.getTokenizer();if(void 0!==tokenizer.on){var onReloadTokenizer=this.onReloadTokenizer.bind(this);tokenizer.on("update",onReloadTokenizer)}this.bgTokenizer.setTokenizer(tokenizer),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=mode.tokenRe,this.nonTokenRe=mode.nonTokenRe,$isPlaceholder||(mode.attachToSession&&mode.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(mode.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode,mode}))}},EditSession.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},EditSession.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){config.warn("Could not load worker",e),this.$worker=null}},EditSession.prototype.getMode=function(){return this.$mode},EditSession.prototype.setScrollTop=function(scrollTop){this.$scrollTop===scrollTop||isNaN(scrollTop)||(this.$scrollTop=scrollTop,this._signal("changeScrollTop",scrollTop))},EditSession.prototype.getScrollTop=function(){return this.$scrollTop},EditSession.prototype.setScrollLeft=function(scrollLeft){this.$scrollLeft===scrollLeft||isNaN(scrollLeft)||(this.$scrollLeft=scrollLeft,this._signal("changeScrollLeft",scrollLeft))},EditSession.prototype.getScrollLeft=function(){return this.$scrollLeft},EditSession.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},EditSession.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var width=0;return this.lineWidgets.forEach((function(w){w&&w.screenWidth>width&&(width=w.screenWidth)})),this.lineWidgetWidth=width},EditSession.prototype.$computeWidth=function(force){if(this.$modified||force){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var lines=this.doc.getAllLines(),cache=this.$rowLengthCache,longestScreenLine=0,foldIndex=0,foldLine=this.$foldData[foldIndex],foldStart=foldLine?foldLine.start.row:1/0,len=lines.length,i=0;i<len;i++){if(i>foldStart){if((i=foldLine.end.row+1)>=len)break;foldStart=(foldLine=this.$foldData[foldIndex++])?foldLine.start.row:1/0}null==cache[i]&&(cache[i]=this.$getStringScreenWidth(lines[i])[0]),cache[i]>longestScreenLine&&(longestScreenLine=cache[i])}this.screenWidth=longestScreenLine}},EditSession.prototype.getLine=function(row){return this.doc.getLine(row)},EditSession.prototype.getLines=function(firstRow,lastRow){return this.doc.getLines(firstRow,lastRow)},EditSession.prototype.getLength=function(){return this.doc.getLength()},EditSession.prototype.getTextRange=function(range){return this.doc.getTextRange(range||this.selection.getRange())},EditSession.prototype.insert=function(position,text){return this.doc.insert(position,text)},EditSession.prototype.remove=function(range){return this.doc.remove(range)},EditSession.prototype.removeFullLines=function(firstRow,lastRow){return this.doc.removeFullLines(firstRow,lastRow)},EditSession.prototype.undoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var i=deltas.length-1;-1!=i;i--){var delta=deltas[i];"insert"==delta.action||"remove"==delta.action?this.doc.revertDelta(delta):delta.folds&&this.addFolds(delta.folds)}!dontSelect&&this.$undoSelect&&(deltas.selectionBefore?this.selection.fromJSON(deltas.selectionBefore):this.selection.setRange(this.$getUndoSelection(deltas,!0))),this.$fromUndo=!1}},EditSession.prototype.redoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var i=0;i<deltas.length;i++){var delta=deltas[i];"insert"!=delta.action&&"remove"!=delta.action||this.doc.$safeApplyDelta(delta)}!dontSelect&&this.$undoSelect&&(deltas.selectionAfter?this.selection.fromJSON(deltas.selectionAfter):this.selection.setRange(this.$getUndoSelection(deltas,!1))),this.$fromUndo=!1}},EditSession.prototype.setUndoSelect=function(enable){this.$undoSelect=enable},EditSession.prototype.$getUndoSelection=function(deltas,isUndo){function isInsert(delta){return isUndo?"insert"!==delta.action:"insert"===delta.action}for(var range,point,i=0;i<deltas.length;i++){var delta=deltas[i];delta.start&&(range?isInsert(delta)?(point=delta.start,-1==range.compare(point.row,point.column)&&range.setStart(point),point=delta.end,1==range.compare(point.row,point.column)&&range.setEnd(point)):(point=delta.start,-1==range.compare(point.row,point.column)&&(range=Range.fromPoints(delta.start,delta.start))):range=isInsert(delta)?Range.fromPoints(delta.start,delta.end):Range.fromPoints(delta.start,delta.start))}return range},EditSession.prototype.replace=function(range,text){return this.doc.replace(range,text)},EditSession.prototype.moveText=function(fromRange,toPosition,copy){var text=this.getTextRange(fromRange),folds=this.getFoldsInRange(fromRange),toRange=Range.fromPoints(toPosition,toPosition);if(!copy){this.remove(fromRange);var rowDiff=fromRange.start.row-fromRange.end.row;(collDiff=rowDiff?-fromRange.end.column:fromRange.start.column-fromRange.end.column)&&(toRange.start.row==fromRange.end.row&&toRange.start.column>fromRange.end.column&&(toRange.start.column+=collDiff),toRange.end.row==fromRange.end.row&&toRange.end.column>fromRange.end.column&&(toRange.end.column+=collDiff)),rowDiff&&toRange.start.row>=fromRange.end.row&&(toRange.start.row+=rowDiff,toRange.end.row+=rowDiff)}if(toRange.end=this.insert(toRange.start,text),folds.length){var oldStart=fromRange.start,newStart=toRange.start,collDiff=(rowDiff=newStart.row-oldStart.row,newStart.column-oldStart.column);this.addFolds(folds.map((function(x){return(x=x.clone()).start.row==oldStart.row&&(x.start.column+=collDiff),x.end.row==oldStart.row&&(x.end.column+=collDiff),x.start.row+=rowDiff,x.end.row+=rowDiff,x})))}return toRange},EditSession.prototype.indentRows=function(startRow,endRow,indentString){indentString=indentString.replace(/\t/g,this.getTabString());for(var row=startRow;row<=endRow;row++)this.doc.insertInLine({row,column:0},indentString)},EditSession.prototype.outdentRows=function(range){for(var rowRange=range.collapseRows(),deleteRange=new Range(0,0,0,0),size=this.getTabSize(),i=rowRange.start.row;i<=rowRange.end.row;++i){var line=this.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i;for(var j=0;j<size&&" "==line.charAt(j);++j);j<size&&"\t"==line.charAt(j)?(deleteRange.start.column=j,deleteRange.end.column=j+1):(deleteRange.start.column=0,deleteRange.end.column=j),this.remove(deleteRange)}},EditSession.prototype.$moveLines=function(firstRow,lastRow,dir){if(firstRow=this.getRowFoldStart(firstRow),lastRow=this.getRowFoldEnd(lastRow),dir<0){if((row=this.getRowFoldStart(firstRow+dir))<0)return 0;var diff=row-firstRow}else if(dir>0){var row;if((row=this.getRowFoldEnd(lastRow+dir))>this.doc.getLength()-1)return 0;diff=row-lastRow}else{firstRow=this.$clipRowToDocument(firstRow);diff=(lastRow=this.$clipRowToDocument(lastRow))-firstRow+1}var range=new Range(firstRow,0,lastRow,Number.MAX_VALUE),folds=this.getFoldsInRange(range).map((function(x){return(x=x.clone()).start.row+=diff,x.end.row+=diff,x})),lines=0==dir?this.doc.getLines(firstRow,lastRow):this.doc.removeFullLines(firstRow,lastRow);return this.doc.insertFullLines(firstRow+diff,lines),folds.length&&this.addFolds(folds),diff},EditSession.prototype.moveLinesUp=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,-1)},EditSession.prototype.moveLinesDown=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,1)},EditSession.prototype.duplicateLines=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,0)},EditSession.prototype.$clipRowToDocument=function(row){return Math.max(0,Math.min(row,this.doc.getLength()-1))},EditSession.prototype.$clipColumnToRow=function(row,column){return column<0?0:Math.min(this.doc.getLine(row).length,column)},EditSession.prototype.$clipPositionToDocument=function(row,column){if(column=Math.max(0,column),row<0)row=0,column=0;else{var len=this.doc.getLength();row>=len?(row=len-1,column=this.doc.getLine(len-1).length):column=Math.min(this.doc.getLine(row).length,column)}return{row,column}},EditSession.prototype.$clipRangeToDocument=function(range){range.start.row<0?(range.start.row=0,range.start.column=0):range.start.column=this.$clipColumnToRow(range.start.row,range.start.column);var len=this.doc.getLength()-1;return range.end.row>len?(range.end.row=len,range.end.column=this.doc.getLine(len).length):range.end.column=this.$clipColumnToRow(range.end.row,range.end.column),range},EditSession.prototype.setUseWrapMode=function(useWrapMode){if(useWrapMode!=this.$useWrapMode){if(this.$useWrapMode=useWrapMode,this.$modified=!0,this.$resetRowCache(0),useWrapMode){var len=this.getLength();this.$wrapData=Array(len),this.$updateWrapData(0,len-1)}this._signal("changeWrapMode")}},EditSession.prototype.getUseWrapMode=function(){return this.$useWrapMode},EditSession.prototype.setWrapLimitRange=function(min,max){this.$wrapLimitRange.min===min&&this.$wrapLimitRange.max===max||(this.$wrapLimitRange={min,max},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},EditSession.prototype.adjustWrapLimit=function(desiredLimit,$printMargin){var limits=this.$wrapLimitRange;limits.max<0&&(limits={min:$printMargin,max:$printMargin});var wrapLimit=this.$constrainWrapLimit(desiredLimit,limits.min,limits.max);return wrapLimit!=this.$wrapLimit&&wrapLimit>1&&(this.$wrapLimit=wrapLimit,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},EditSession.prototype.$constrainWrapLimit=function(wrapLimit,min,max){return min&&(wrapLimit=Math.max(min,wrapLimit)),max&&(wrapLimit=Math.min(max,wrapLimit)),wrapLimit},EditSession.prototype.getWrapLimit=function(){return this.$wrapLimit},EditSession.prototype.setWrapLimit=function(limit){this.setWrapLimitRange(limit,limit)},EditSession.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},EditSession.prototype.$updateInternalDataOnChange=function(delta){var useWrapMode=this.$useWrapMode,action=delta.action,start=delta.start,end=delta.end,firstRow=start.row,lastRow=end.row,len=lastRow-firstRow,removedFolds=null;if(this.$updating=!0,0!=len)if("remove"===action){this[useWrapMode?"$wrapData":"$rowLengthCache"].splice(firstRow,len);var foldLines=this.$foldData;removedFolds=this.getFoldsInRange(delta),this.removeFolds(removedFolds);var idx=0;if(foldLine=this.getFoldLine(end.row)){foldLine.addRemoveChars(end.row,end.column,start.column-end.column),foldLine.shiftRow(-len);var foldLineBefore=this.getFoldLine(firstRow);foldLineBefore&&foldLineBefore!==foldLine&&(foldLineBefore.merge(foldLine),foldLine=foldLineBefore),idx=foldLines.indexOf(foldLine)+1}for(;idx<foldLines.length;idx++){(foldLine=foldLines[idx]).start.row>=end.row&&foldLine.shiftRow(-len)}lastRow=firstRow}else{var args=Array(len);args.unshift(firstRow,0);var arr=useWrapMode?this.$wrapData:this.$rowLengthCache;arr.splice.apply(arr,args);foldLines=this.$foldData,idx=0;if(foldLine=this.getFoldLine(firstRow)){var cmp=foldLine.range.compareInside(start.row,start.column);0==cmp?(foldLine=foldLine.split(start.row,start.column))&&(foldLine.shiftRow(len),foldLine.addRemoveChars(lastRow,0,end.column-start.column)):-1==cmp&&(foldLine.addRemoveChars(firstRow,0,end.column-start.column),foldLine.shiftRow(len)),idx=foldLines.indexOf(foldLine)+1}for(;idx<foldLines.length;idx++){var foldLine;(foldLine=foldLines[idx]).start.row>=firstRow&&foldLine.shiftRow(len)}}else len=Math.abs(delta.start.column-delta.end.column),"remove"===action&&(removedFolds=this.getFoldsInRange(delta),this.removeFolds(removedFolds),len=-len),(foldLine=this.getFoldLine(firstRow))&&foldLine.addRemoveChars(firstRow,start.column,len);return useWrapMode&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,useWrapMode?this.$updateWrapData(firstRow,lastRow):this.$updateRowLengthCache(firstRow,lastRow),removedFolds},EditSession.prototype.$updateRowLengthCache=function(firstRow,lastRow,b){this.$rowLengthCache[firstRow]=null,this.$rowLengthCache[lastRow]=null},EditSession.prototype.$updateWrapData=function(firstRow,lastRow){var tokens,foldLine,lines=this.doc.getAllLines(),tabSize=this.getTabSize(),wrapData=this.$wrapData,wrapLimit=this.$wrapLimit,row=firstRow;for(lastRow=Math.min(lastRow,lines.length-1);row<=lastRow;)(foldLine=this.getFoldLine(row,foldLine))?(tokens=[],foldLine.walk(function(placeholder,row,column,lastColumn){var walkTokens;if(null!=placeholder){(walkTokens=this.$getDisplayTokens(placeholder,tokens.length))[0]=PLACEHOLDER_START;for(var i=1;i<walkTokens.length;i++)walkTokens[i]=PLACEHOLDER_BODY}else walkTokens=this.$getDisplayTokens(lines[row].substring(lastColumn,column),tokens.length);tokens=tokens.concat(walkTokens)}.bind(this),foldLine.end.row,lines[foldLine.end.row].length+1),wrapData[foldLine.start.row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row=foldLine.end.row+1):(tokens=this.$getDisplayTokens(lines[row]),wrapData[row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row++)},EditSession.prototype.$computeWrapSplits=function(tokens,wrapLimit,tabSize){if(0==tokens.length)return[];var splits=[],displayLength=tokens.length,lastSplit=0,lastDocSplit=0,isCode=this.$wrapAsCode,indentedSoftWrap=this.$indentedSoftWrap,maxIndent=wrapLimit<=Math.max(2*tabSize,8)||!1===indentedSoftWrap?0:Math.floor(wrapLimit/2);function addSplit(screenPos){for(var len=screenPos-lastSplit,i=lastSplit;i<screenPos;i++){var ch=tokens[i];12!==ch&&2!==ch||(len-=1)}splits.length||(indent=function getWrapIndent(){var indentation=0;if(0===maxIndent)return indentation;if(indentedSoftWrap)for(var i=0;i<tokens.length;i++){var token=tokens[i];if(token==SPACE)indentation+=1;else{if(token!=TAB){if(token==TAB_SPACE)continue;break}indentation+=tabSize}}return isCode&&!1!==indentedSoftWrap&&(indentation+=tabSize),Math.min(indentation,maxIndent)}(),splits.indent=indent),lastDocSplit+=len,splits.push(lastDocSplit),lastSplit=screenPos}for(var indent=0;displayLength-lastSplit>wrapLimit-indent;){var split=lastSplit+wrapLimit-indent;if(tokens[split-1]>=SPACE&&tokens[split]>=SPACE)addSplit(split);else if(tokens[split]!=PLACEHOLDER_START&&tokens[split]!=PLACEHOLDER_BODY){for(var minSplit=Math.max(split-(wrapLimit-(wrapLimit>>2)),lastSplit-1);split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;if(isCode){for(;split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;for(;split>minSplit&&tokens[split]==PUNCTUATION;)split--}else for(;split>minSplit&&tokens[split]<SPACE;)split--;split>minSplit?addSplit(++split):(tokens[split=lastSplit+wrapLimit]==CHAR_EXT&&split--,addSplit(split-indent))}else{for(;split!=lastSplit-1&&tokens[split]!=PLACEHOLDER_START;split--);if(split>lastSplit){addSplit(split);continue}for(split=lastSplit+wrapLimit;split<tokens.length&&tokens[split]==PLACEHOLDER_BODY;split++);if(split==tokens.length)break;addSplit(split)}}return splits},EditSession.prototype.$getDisplayTokens=function(str,offset){var tabSize,arr=[];offset=offset||0;for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(9==c){tabSize=this.getScreenTabSize(arr.length+offset),arr.push(TAB);for(var n=1;n<tabSize;n++)arr.push(TAB_SPACE)}else 32==c?arr.push(SPACE):c>39&&c<48||c>57&&c<64?arr.push(PUNCTUATION):c>=4352&&isFullWidth(c)?arr.push(CHAR,CHAR_EXT):arr.push(CHAR)}return arr},EditSession.prototype.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0==maxScreenColumn)return[0,0];var c,column;for(null==maxScreenColumn&&(maxScreenColumn=1/0),screenColumn=screenColumn||0,column=0;column<str.length&&(9==(c=str.charCodeAt(column))?screenColumn+=this.getScreenTabSize(screenColumn):c>=4352&&isFullWidth(c)?screenColumn+=2:screenColumn+=1,!(screenColumn>maxScreenColumn));column++);return[screenColumn,column]},EditSession.prototype.getRowLength=function(row){var h=1;return this.lineWidgets&&(h+=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0),this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+h:h},EditSession.prototype.getRowLineCount=function(row){return this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1:1},EditSession.prototype.getRowWrapIndent=function(screenRow){if(this.$useWrapMode){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE),splits=this.$wrapData[pos.row];return splits.length&&splits[0]<pos.column?splits.indent:0}return 0},EditSession.prototype.getScreenLastRowColumn=function(screenRow){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE);return this.documentToScreenColumn(pos.row,pos.column)},EditSession.prototype.getDocumentLastRowColumn=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.getScreenLastRowColumn(screenRow)},EditSession.prototype.getDocumentLastRowColumnPosition=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.screenToDocumentPosition(screenRow,Number.MAX_VALUE/10)},EditSession.prototype.getRowSplitData=function(row){return this.$useWrapMode?this.$wrapData[row]:void 0},EditSession.prototype.getScreenTabSize=function(screenColumn){return this.$tabSize-(screenColumn%this.$tabSize|0)},EditSession.prototype.screenToDocumentRow=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).row},EditSession.prototype.screenToDocumentColumn=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).column},EditSession.prototype.screenToDocumentPosition=function(screenRow,screenColumn,offsetX){if(screenRow<0)return{row:0,column:0};var line,column,docRow=0,docColumn=0,row=0,rowLength=0,rowCache=this.$screenRowCache,i=this.$getRowCacheIndex(rowCache,screenRow),l=rowCache.length;if(l&&i>=0){row=rowCache[i],docRow=this.$docRowCache[i];var doCache=screenRow>rowCache[l-1]}else doCache=!l;for(var maxRow=this.getLength()-1,foldLine=this.getNextFoldLine(docRow),foldStart=foldLine?foldLine.start.row:1/0;row<=screenRow&&!(row+(rowLength=this.getRowLength(docRow))>screenRow||docRow>=maxRow);)row+=rowLength,++docRow>foldStart&&(docRow=foldLine.end.row+1,foldStart=(foldLine=this.getNextFoldLine(docRow,foldLine))?foldLine.start.row:1/0),doCache&&(this.$docRowCache.push(docRow),this.$screenRowCache.push(row));if(foldLine&&foldLine.start.row<=docRow)line=this.getFoldDisplayLine(foldLine),docRow=foldLine.start.row;else{if(row+rowLength<=screenRow||docRow>maxRow)return{row:maxRow,column:this.getLine(maxRow).length};line=this.getLine(docRow),foldLine=null}var wrapIndent=0,splitIndex=Math.floor(screenRow-row);if(this.$useWrapMode){var splits=this.$wrapData[docRow];splits&&(column=splits[splitIndex],splitIndex>0&&splits.length&&(wrapIndent=splits.indent,docColumn=splits[splitIndex-1]||splits[splits.length-1],line=line.substring(docColumn)))}return void 0!==offsetX&&this.$bidiHandler.isBidiRow(row+splitIndex,docRow,splitIndex)&&(screenColumn=this.$bidiHandler.offsetToCol(offsetX)),docColumn+=this.$getStringScreenWidth(line,screenColumn-wrapIndent)[1],this.$useWrapMode&&docColumn>=column&&(docColumn=column-1),foldLine?foldLine.idxToPosition(docColumn):{row:docRow,column:docColumn}},EditSession.prototype.documentToScreenPosition=function(docRow,docColumn){if(void 0===docColumn)var pos=this.$clipPositionToDocument(docRow.row,docRow.column);else pos=this.$clipPositionToDocument(docRow,docColumn);docRow=pos.row,docColumn=pos.column;var fold,screenRow=0,foldStartRow=null;(fold=this.getFoldAt(docRow,docColumn,1))&&(docRow=fold.start.row,docColumn=fold.start.column);var rowEnd,row=0,rowCache=this.$docRowCache,i=this.$getRowCacheIndex(rowCache,docRow),l=rowCache.length;if(l&&i>=0){row=rowCache[i],screenRow=this.$screenRowCache[i];var doCache=docRow>rowCache[l-1]}else doCache=!l;for(var foldLine=this.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row<docRow;){if(row>=foldStart){if((rowEnd=foldLine.end.row+1)>docRow)break;foldStart=(foldLine=this.getNextFoldLine(rowEnd,foldLine))?foldLine.start.row:1/0}else rowEnd=row+1;screenRow+=this.getRowLength(row),row=rowEnd,doCache&&(this.$docRowCache.push(row),this.$screenRowCache.push(screenRow))}var textLine="";foldLine&&row>=foldStart?(textLine=this.getFoldDisplayLine(foldLine,docRow,docColumn),foldStartRow=foldLine.start.row):(textLine=this.getLine(docRow).substring(0,docColumn),foldStartRow=docRow);var wrapIndent=0;if(this.$useWrapMode){var wrapRow=this.$wrapData[foldStartRow];if(wrapRow){for(var screenRowOffset=0;textLine.length>=wrapRow[screenRowOffset];)screenRow++,screenRowOffset++;textLine=textLine.substring(wrapRow[screenRowOffset-1]||0,textLine.length),wrapIndent=screenRowOffset>0?wrapRow.indent:0}}return this.lineWidgets&&this.lineWidgets[row]&&this.lineWidgets[row].rowsAbove&&(screenRow+=this.lineWidgets[row].rowsAbove),{row:screenRow,column:wrapIndent+this.$getStringScreenWidth(textLine)[0]}},EditSession.prototype.documentToScreenColumn=function(row,docColumn){return this.documentToScreenPosition(row,docColumn).column},EditSession.prototype.documentToScreenRow=function(docRow,docColumn){return this.documentToScreenPosition(docRow,docColumn).row},EditSession.prototype.getScreenLength=function(){var screenRows=0,fold=null;if(this.$useWrapMode)for(var lastRow=this.$wrapData.length,row=0,foldStart=(i=0,(fold=this.$foldData[i++])?fold.start.row:1/0);row<lastRow;){var splits=this.$wrapData[row];screenRows+=splits?splits.length+1:1,++row>foldStart&&(row=fold.end.row+1,foldStart=(fold=this.$foldData[i++])?fold.start.row:1/0)}else{screenRows=this.getLength();for(var foldData=this.$foldData,i=0;i<foldData.length;i++)screenRows-=(fold=foldData[i]).end.row-fold.start.row}return this.lineWidgets&&(screenRows+=this.$getWidgetScreenLength()),screenRows},EditSession.prototype.$setFontMetrics=function(fm){this.$enableVarChar&&(this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0===maxScreenColumn)return[0,0];var c,column;for(maxScreenColumn||(maxScreenColumn=1/0),screenColumn=screenColumn||0,column=0;column<str.length&&!((screenColumn+="\t"===(c=str.charAt(column))?this.getScreenTabSize(screenColumn):fm.getCharacterWidth(c))>maxScreenColumn);column++);return[screenColumn,column]})},EditSession.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},EditSession}();EditSession.$uid=0,EditSession.prototype.$modes=config.$modes,EditSession.prototype.getValue=EditSession.prototype.toString,EditSession.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},EditSession.prototype.$overwrite=!1,EditSession.prototype.$mode=null,EditSession.prototype.$modeId=null,EditSession.prototype.$scrollTop=0,EditSession.prototype.$scrollLeft=0,EditSession.prototype.$wrapLimit=80,EditSession.prototype.$useWrapMode=!1,EditSession.prototype.$wrapLimitRange={min:null,max:null},EditSession.prototype.lineWidgets=null,EditSession.prototype.isFullWidth=isFullWidth,oop.implement(EditSession.prototype,EventEmitter);var CHAR=1,CHAR_EXT=2,PLACEHOLDER_START=3,PLACEHOLDER_BODY=4,PUNCTUATION=9,SPACE=10,TAB=11,TAB_SPACE=12;function isFullWidth(c){return!(c<4352)&&(c>=4352&&c<=4447||c>=4515&&c<=4519||c>=4602&&c<=4607||c>=9001&&c<=9002||c>=11904&&c<=11929||c>=11931&&c<=12019||c>=12032&&c<=12245||c>=12272&&c<=12283||c>=12288&&c<=12350||c>=12353&&c<=12438||c>=12441&&c<=12543||c>=12549&&c<=12589||c>=12593&&c<=12686||c>=12688&&c<=12730||c>=12736&&c<=12771||c>=12784&&c<=12830||c>=12832&&c<=12871||c>=12880&&c<=13054||c>=13056&&c<=19903||c>=19968&&c<=42124||c>=42128&&c<=42182||c>=43360&&c<=43388||c>=44032&&c<=55203||c>=55216&&c<=55238||c>=55243&&c<=55291||c>=63744&&c<=64255||c>=65040&&c<=65049||c>=65072&&c<=65106||c>=65108&&c<=65126||c>=65128&&c<=65131||c>=65281&&c<=65376||c>=65504&&c<=65510)}require("./edit_session/folding").Folding.call(EditSession.prototype),require("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype),config.defineOptions(EditSession.prototype,"session",{wrap:{set:function(value){if(value&&"off"!=value?"free"==value?value=!0:"printMargin"==value?value=-1:"string"==typeof value&&(value=parseInt(value,10)||!1):value=!1,this.$wrap!=value)if(this.$wrap=value,value){var col="number"==typeof value?value:null;this.setWrapLimitRange(col,col),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(val){(val="auto"==val?"text"!=this.$mode.type:"text"!=val)!=this.$wrapAsCode&&(this.$wrapAsCode=val,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(useWorker){this.$useWorker=useWorker,this.$stopWorker(),useWorker&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(tabSize){(tabSize=parseInt(tabSize))>0&&this.$tabSize!==tabSize&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=tabSize,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(val){this.setFoldStyle(val)},handlesSet:!0},overwrite:{set:function(val){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(val){this.doc.setNewLineMode(val)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(val){this.setMode(val)},get:function(){return this.$modeId},handlesSet:!0}}),exports.EditSession=EditSession})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(require,exports,module){"use strict";var lang=require("./lib/lang"),oop=require("./lib/oop"),Range=require("./range").Range,Search=function(){function Search(){this.$options={}}return Search.prototype.set=function(options){return oop.mixin(this.$options,options),this},Search.prototype.getOptions=function(){return lang.copyObject(this.$options)},Search.prototype.setOptions=function(options){this.$options=options},Search.prototype.find=function(session){var options=this.$options,iterator=this.$matchIterator(session,options);if(!iterator)return!1;var firstRange=null;return iterator.forEach((function(sr,sc,er,ec){return firstRange=new Range(sr,sc,er,ec),!(sc==ec&&options.start&&options.start.start&&0!=options.skipCurrent&&firstRange.isEqual(options.start))||(firstRange=null,!1)})),firstRange},Search.prototype.findAll=function(session){var options=this.$options;if(!options.needle)return[];this.$assembleRegExp(options);var range=options.range,lines=range?session.getLines(range.start.row,range.end.row):session.doc.getAllLines(),ranges=[],re=options.re;if(options.$isMultiLine){var prevRange,len=re.length,maxRow=lines.length-len;outer:for(var row=re.offset||0;row<=maxRow;row++){for(var j=0;j<len;j++)if(-1==lines[row+j].search(re[j]))continue outer;var startLine=lines[row],line=lines[row+len-1],startIndex=startLine.length-startLine.match(re[0])[0].length,endIndex=line.match(re[len-1])[0].length;prevRange&&prevRange.end.row===row&&prevRange.end.column>startIndex||(ranges.push(prevRange=new Range(row,startIndex,row+len-1,endIndex)),len>2&&(row=row+len-2))}}else for(var i=0;i<lines.length;i++){var matches=lang.getMatchOffsets(lines[i],re);for(j=0;j<matches.length;j++){var match=matches[j];ranges.push(new Range(i,match.offset,i,match.offset+match.length))}}if(range){var startColumn=range.start.column,endColumn=range.end.column;for(i=0,j=ranges.length-1;i<j&&ranges[i].start.column<startColumn&&0==ranges[i].start.row;)i++;for(var endRow=range.end.row-range.start.row;i<j&&ranges[j].end.column>endColumn&&ranges[j].end.row==endRow;)j--;for(ranges=ranges.slice(i,j+1),i=0,j=ranges.length;i<j;i++)ranges[i].start.row+=range.start.row,ranges[i].end.row+=range.start.row}return ranges},Search.prototype.replace=function(input,replacement){var options=this.$options,re=this.$assembleRegExp(options);if(options.$isMultiLine)return replacement;if(re){var match=re.exec(input);if(!match||match[0].length!=input.length)return null;if(replacement=input.replace(re,replacement),options.preserveCase){replacement=replacement.split("");for(var i=Math.min(input.length,input.length);i--;){var ch=input[i];ch&&ch.toLowerCase()!=ch?replacement[i]=replacement[i].toUpperCase():replacement[i]=replacement[i].toLowerCase()}replacement=replacement.join("")}return replacement}},Search.prototype.$assembleRegExp=function(options,$disableFakeMultiline){if(options.needle instanceof RegExp)return options.re=options.needle;var needle=options.needle;if(!options.needle)return options.re=!1;options.regExp||(needle=lang.escapeRegExp(needle)),options.wholeWord&&(needle=function addWordBoundary(needle,options){function wordBoundary(c){return/\w/.test(c)||options.regExp?"\\b":""}return wordBoundary(needle[0])+needle+wordBoundary(needle[needle.length-1])}(needle,options));var modifier=options.caseSensitive?"gm":"gmi";if(options.$isMultiLine=!$disableFakeMultiline&&/[\n\r]/.test(needle),options.$isMultiLine)return options.re=this.$assembleMultilineRegExp(needle,modifier);try{var re=new RegExp(needle,modifier)}catch(e){re=!1}return options.re=re},Search.prototype.$assembleMultilineRegExp=function(needle,modifier){for(var parts=needle.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),re=[],i=0;i<parts.length;i++)try{re.push(new RegExp(parts[i],modifier))}catch(e){return!1}return re},Search.prototype.$matchIterator=function(session,options){var re=this.$assembleRegExp(options);if(!re)return!1;var backwards=1==options.backwards,skipCurrent=0!=options.skipCurrent,range=options.range,start=options.start;start||(start=range?range[backwards?"end":"start"]:session.selection.getRange()),start.start&&(start=start[skipCurrent!=backwards?"end":"start"]);var firstRow=range?range.start.row:0,lastRow=range?range.end.row:session.getLength()-1;if(backwards)var forEach=function(callback){var row=start.row;if(!forEachInLine(row,start.column,callback)){for(row--;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return;if(0!=options.wrap)for(row=lastRow,firstRow=start.row;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return}};else forEach=function(callback){var row=start.row;if(!forEachInLine(row,start.column,callback)){for(row+=1;row<=lastRow;row++)if(forEachInLine(row,0,callback))return;if(0!=options.wrap)for(row=firstRow,lastRow=start.row;row<=lastRow;row++)if(forEachInLine(row,0,callback))return}};if(options.$isMultiLine)var len=re.length,forEachInLine=function(row,offset,callback){var startRow=backwards?row-len+1:row;if(!(startRow<0||startRow+len>session.getLength())){var line=session.getLine(startRow),startIndex=line.search(re[0]);if(!(!backwards&&startIndex<offset||-1===startIndex)){for(var i=1;i<len;i++)if(-1==(line=session.getLine(startRow+i)).search(re[i]))return;var endIndex=line.match(re[len-1])[0].length;if(!(backwards&&endIndex>offset))return!!callback(startRow,startIndex,startRow+len-1,endIndex)||void 0}}};else if(backwards)forEachInLine=function(row,endIndex,callback){var m,line=session.getLine(row),matches=[],last=0;for(re.lastIndex=0;m=re.exec(line);){var length=m[0].length;if(last=m.index,!length){if(last>=line.length)break;re.lastIndex=last+=1}if(m.index+length>endIndex)break;matches.push(m.index,length)}for(var i=matches.length-1;i>=0;i-=2){var column=matches[i-1];if(callback(row,column,row,column+(length=matches[i])))return!0}};else forEachInLine=function(row,startIndex,callback){var last,m,line=session.getLine(row);for(re.lastIndex=startIndex;m=re.exec(line);){var length=m[0].length;if(callback(row,last=m.index,row,last+length))return!0;if(!length&&(re.lastIndex=last+=1,last>=line.length))return!1}};return{forEach}},Search}();exports.Search=Search})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(require,exports,module){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),keyUtil=require("../lib/keys"),useragent=require("../lib/useragent"),KEY_MODS=keyUtil.KEY_MODS,MultiHashHandler=function(){function MultiHashHandler(config,platform){this.$init(config,platform,!1)}return MultiHashHandler.prototype.$init=function(config,platform,$singleCommand){this.platform=platform||(useragent.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(config),this.$singleCommand=$singleCommand},MultiHashHandler.prototype.addCommand=function(command){this.commands[command.name]&&this.removeCommand(command),this.commands[command.name]=command,command.bindKey&&this._buildKeyHash(command)},MultiHashHandler.prototype.removeCommand=function(command,keepCommand){var name=command&&("string"==typeof command?command:command.name);command=this.commands[name],keepCommand||delete this.commands[name];var ckb=this.commandKeyBinding;for(var keyId in ckb){var cmdGroup=ckb[keyId];if(cmdGroup==command)delete ckb[keyId];else if(Array.isArray(cmdGroup)){var i=cmdGroup.indexOf(command);-1!=i&&(cmdGroup.splice(i,1),1==cmdGroup.length&&(ckb[keyId]=cmdGroup[0]))}}},MultiHashHandler.prototype.bindKey=function(key,command,position){if("object"==typeof key&&key&&(null==position&&(position=key.position),key=key[this.platform]),key)return"function"==typeof command?this.addCommand({exec:command,bindKey:key,name:command.name||key}):void key.split("|").forEach((function(keyPart){var chain="";if(-1!=keyPart.indexOf(" ")){var parts=keyPart.split(/\s+/);keyPart=parts.pop(),parts.forEach((function(keyPart){var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;chain+=(chain?" ":"")+id,this._addCommandToBinding(chain,"chainKeys")}),this),chain+=" "}var binding=this.parseKeys(keyPart),id=KEY_MODS[binding.hashId]+binding.key;this._addCommandToBinding(chain+id,command,position)}),this)},MultiHashHandler.prototype._addCommandToBinding=function(keyId,command,position){var i,ckb=this.commandKeyBinding;if(command)if(!ckb[keyId]||this.$singleCommand)ckb[keyId]=command;else{Array.isArray(ckb[keyId])?-1!=(i=ckb[keyId].indexOf(command))&&ckb[keyId].splice(i,1):ckb[keyId]=[ckb[keyId]],"number"!=typeof position&&(position=getPosition(command));var commands=ckb[keyId];for(i=0;i<commands.length;i++){if(getPosition(commands[i])>position)break}commands.splice(i,0,command)}else delete ckb[keyId]},MultiHashHandler.prototype.addCommands=function(commands){commands&&Object.keys(commands).forEach((function(name){var command=commands[name];if(command){if("string"==typeof command)return this.bindKey(command,name);"function"==typeof command&&(command={exec:command}),"object"==typeof command&&(command.name||(command.name=name),this.addCommand(command))}}),this)},MultiHashHandler.prototype.removeCommands=function(commands){Object.keys(commands).forEach((function(name){this.removeCommand(commands[name])}),this)},MultiHashHandler.prototype.bindKeys=function(keyList){Object.keys(keyList).forEach((function(key){this.bindKey(key,keyList[key])}),this)},MultiHashHandler.prototype._buildKeyHash=function(command){this.bindKey(command.bindKey,command)},MultiHashHandler.prototype.parseKeys=function(keys){var parts=keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(x){return x})),key=parts.pop(),keyCode=keyUtil[key];if(keyUtil.FUNCTION_KEYS[keyCode])key=keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else{if(!parts.length)return{key,hashId:-1};if(1==parts.length&&"shift"==parts[0])return{key:key.toUpperCase(),hashId:-1}}for(var hashId=0,i=parts.length;i--;){var modifier=keyUtil.KEY_MODS[parts[i]];if(null==modifier)return"undefined"!=typeof console&&console.error("invalid modifier "+parts[i]+" in "+keys),!1;hashId|=modifier}return{key,hashId}},MultiHashHandler.prototype.findKeyCommand=function(hashId,keyString){var key=KEY_MODS[hashId]+keyString;return this.commandKeyBinding[key]},MultiHashHandler.prototype.handleKeyboard=function(data,hashId,keyString,keyCode){if(!(keyCode<0)){var key=KEY_MODS[hashId]+keyString,command=this.commandKeyBinding[key];return data.$keyChain&&(data.$keyChain+=" "+key,command=this.commandKeyBinding[data.$keyChain]||command),!command||"chainKeys"!=command&&"chainKeys"!=command[command.length-1]?(data.$keyChain&&(hashId&&4!=hashId||1!=keyString.length?(-1==hashId||keyCode>0)&&(data.$keyChain=""):data.$keyChain=data.$keyChain.slice(0,-key.length-1)),{command}):(data.$keyChain=data.$keyChain||key,{command:"null"})}},MultiHashHandler.prototype.getStatusText=function(editor,data){return data.$keyChain||""},MultiHashHandler}();function getPosition(command){return"object"==typeof command&&command.bindKey&&command.bindKey.position||(command.isDefault?-100:0)}var HashHandler=function(_super){function HashHandler(config,platform){var _this=_super.call(this,config,platform)||this;return _this.$singleCommand=!0,_this}return __extends(HashHandler,_super),HashHandler}(MultiHashHandler);HashHandler.call=function(thisArg,config,platform){MultiHashHandler.prototype.$init.call(thisArg,config,platform,!0)},MultiHashHandler.call=function(thisArg,config,platform){MultiHashHandler.prototype.$init.call(thisArg,config,platform,!1)},exports.HashHandler=HashHandler,exports.MultiHashHandler=MultiHashHandler})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(require,exports,module){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),oop=require("../lib/oop"),MultiHashHandler=require("../keyboard/hash_handler").MultiHashHandler,EventEmitter=require("../lib/event_emitter").EventEmitter,CommandManager=function(_super){function CommandManager(platform,commands){var _this=_super.call(this,commands,platform)||this;return _this.byName=_this.commands,_this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)})),_this}return __extends(CommandManager,_super),CommandManager.prototype.exec=function(command,editor,args){if(Array.isArray(command)){for(var i=command.length;i--;)if(this.exec(command[i],editor,args))return!0;return!1}if("string"==typeof command&&(command=this.commands[command]),!command)return!1;if(editor&&editor.$readOnly&&!command.readOnly)return!1;if(0!=this.$checkCommandState&&command.isAvailable&&!command.isAvailable(editor))return!1;var e={editor,command,args};return e.returnValue=this._emit("exec",e),this._signal("afterExec",e),!1!==e.returnValue},CommandManager.prototype.toggleRecording=function(editor){if(!this.$inReplay)return editor&&editor._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},CommandManager.prototype.replay=function(editor){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(editor);try{this.$inReplay=!0,this.macro.forEach((function(x){"string"==typeof x?this.exec(x,editor):this.exec(x[0],editor,x[1])}),this)}finally{this.$inReplay=!1}}},CommandManager.prototype.trimMacro=function(m){return m.map((function(x){return"string"!=typeof x[0]&&(x[0]=x[0].name),x[1]||(x=x[0]),x}))},CommandManager}(MultiHashHandler);oop.implement(CommandManager.prototype,EventEmitter),exports.CommandManager=CommandManager})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(require,exports,module){"use strict";var lang=require("../lib/lang"),config=require("../config"),Range=require("../range").Range;function bindKey(win,mac){return{win,mac}}exports.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:bindKey("Ctrl-,","Command-,"),exec:function(editor){config.loadModule("ace/ext/settings_menu",(function(module){module.init(editor),editor.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:bindKey("Alt-E","F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",(function(module){module.showErrorMarker(editor,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:bindKey("Alt-Shift-E","Shift-F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",(function(module){module.showErrorMarker(editor,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:bindKey("Ctrl-A","Command-A"),exec:function(editor){editor.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:bindKey(null,"Ctrl-L"),exec:function(editor){editor.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:bindKey("Ctrl-L","Command-L"),exec:function(editor,line){"number"!=typeof line||isNaN(line)||editor.gotoLine(line),editor.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:bindKey("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(editor){editor.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:bindKey("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(editor){editor.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:bindKey("F2","F2"),exec:function(editor){editor.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:bindKey("Alt-F2","Alt-F2"),exec:function(editor){editor.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:bindKey(null,"Ctrl-Command-Option-0"),exec:function(editor){editor.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:bindKey(null,"Ctrl-Command-Option-0"),exec:function(editor){editor.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:bindKey("Alt-0","Command-Option-0"),exec:function(editor){editor.session.foldAll(),editor.session.unfold(editor.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:bindKey("Alt-Shift-0","Command-Option-Shift-0"),exec:function(editor){editor.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:bindKey("Ctrl-K","Command-G"),exec:function(editor){editor.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:bindKey("Ctrl-Shift-K","Command-Shift-G"),exec:function(editor){editor.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:bindKey("Alt-K","Ctrl-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:bindKey("Alt-Shift-K","Ctrl-Shift-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:bindKey("Ctrl-F","Command-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",(function(e){e.Search(editor)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(editor){editor.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:bindKey("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(editor){editor.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:bindKey("Ctrl-Home","Command-Home|Command-Up"),exec:function(editor){editor.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:bindKey("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(editor){editor.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:bindKey("Up","Up|Ctrl-P"),exec:function(editor,args){editor.navigateUp(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:bindKey("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(editor){editor.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:bindKey("Ctrl-End","Command-End|Command-Down"),exec:function(editor){editor.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:bindKey("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(editor){editor.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:bindKey("Down","Down|Ctrl-N"),exec:function(editor,args){editor.navigateDown(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:bindKey("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(editor){editor.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:bindKey("Ctrl-Left","Option-Left"),exec:function(editor){editor.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:bindKey("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:bindKey("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(editor){editor.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:bindKey("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(editor){editor.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:bindKey("Left","Left|Ctrl-B"),exec:function(editor,args){editor.navigateLeft(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:bindKey("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(editor){editor.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:bindKey("Ctrl-Right","Option-Right"),exec:function(editor){editor.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:bindKey("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:bindKey("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(editor){editor.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:bindKey("Shift-Right","Shift-Right"),exec:function(editor){editor.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:bindKey("Right","Right|Ctrl-F"),exec:function(editor,args){editor.navigateRight(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(editor){editor.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:bindKey(null,"Option-PageDown"),exec:function(editor){editor.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:bindKey("PageDown","PageDown|Ctrl-V"),exec:function(editor){editor.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(editor){editor.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:bindKey(null,"Option-PageUp"),exec:function(editor){editor.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(editor){editor.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:bindKey("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:bindKey("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:bindKey("Ctrl-Alt-E","Command-Option-E"),exec:function(editor){editor.commands.toggleRecording(editor)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:bindKey("Ctrl-Shift-E","Command-Shift-E"),exec:function(editor){editor.commands.replay(editor)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:bindKey("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(editor){editor.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:bindKey("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(editor){editor.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:bindKey("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(editor){editor.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:bindKey(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(editor){},readOnly:!0},{name:"cut",description:"Cut",exec:function(editor){var range=editor.$copyWithEmptySelection&&editor.selection.isEmpty()?editor.selection.getLineRange():editor.selection.getRange();editor._emit("cut",range),range.isEmpty()||editor.session.remove(range),editor.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(editor,args){editor.$handlePaste(args)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:bindKey("Ctrl-D","Command-D"),exec:function(editor){editor.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:bindKey("Ctrl-Shift-D","Command-Shift-D"),exec:function(editor){editor.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:bindKey("Ctrl-Alt-S","Command-Alt-S"),exec:function(editor){editor.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:bindKey("Ctrl-/","Command-/"),exec:function(editor){editor.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:bindKey("Ctrl-Shift-/","Command-Shift-/"),exec:function(editor){editor.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:bindKey("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(editor){editor.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:bindKey("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(editor){editor.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:bindKey("Ctrl-H","Command-Option-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",(function(e){e.Search(editor,!0)}))}},{name:"undo",description:"Undo",bindKey:bindKey("Ctrl-Z","Command-Z"),exec:function(editor){editor.undo()}},{name:"redo",description:"Redo",bindKey:bindKey("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(editor){editor.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:bindKey("Alt-Shift-Up","Command-Option-Up"),exec:function(editor){editor.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:bindKey("Alt-Up","Option-Up"),exec:function(editor){editor.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:bindKey("Alt-Shift-Down","Command-Option-Down"),exec:function(editor){editor.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:bindKey("Alt-Down","Option-Down"),exec:function(editor){editor.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:bindKey("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(editor){editor.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:bindKey("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(editor){editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:bindKey("Shift-Delete",null),exec:function(editor){if(!editor.selection.isEmpty())return!1;editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:bindKey("Alt-Backspace","Command-Backspace"),exec:function(editor){editor.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:bindKey("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(editor){editor.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:bindKey("Ctrl-Shift-Backspace",null),exec:function(editor){var range=editor.selection.getRange();range.start.column=0,editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:bindKey("Ctrl-Shift-Delete",null),exec:function(editor){var range=editor.selection.getRange();range.end.column=Number.MAX_VALUE,editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:bindKey("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(editor){editor.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:bindKey("Ctrl-Delete","Alt-Delete"),exec:function(editor){editor.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:bindKey("Shift-Tab","Shift-Tab"),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:bindKey("Tab","Tab"),exec:function(editor){editor.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:bindKey("Ctrl-[","Ctrl-["),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:bindKey("Ctrl-]","Ctrl-]"),exec:function(editor){editor.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(editor,str){editor.insert(str)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(editor,args){editor.insert(lang.stringRepeat(args.text||"",args.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:bindKey(null,"Ctrl-O"),exec:function(editor){editor.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:bindKey("Alt-Shift-X","Ctrl-T"),exec:function(editor){editor.transposeLetters()},multiSelectAction:function(editor){editor.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:bindKey("Ctrl-U","Ctrl-U"),exec:function(editor){editor.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:bindKey("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(editor){editor.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:bindKey(null,null),exec:function(editor){editor.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:bindKey("Ctrl-Shift-L","Command-Shift-L"),exec:function(editor){var range=editor.selection.getRange();range.start.column=range.end.column=0,range.end.row++,editor.selection.setRange(range,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:bindKey("Ctrl+F3","F3"),exec:function(editor){editor.openLink()}},{name:"joinlines",description:"Join lines",bindKey:bindKey(null,null),exec:function(editor){for(var isBackwards=editor.selection.isBackwards(),selectionStart=isBackwards?editor.selection.getSelectionLead():editor.selection.getSelectionAnchor(),selectionEnd=isBackwards?editor.selection.getSelectionAnchor():editor.selection.getSelectionLead(),firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length,selectedCount=editor.session.doc.getTextRange(editor.selection.getRange()).replace(/\n\s*/," ").length,insertLine=editor.session.doc.getLine(selectionStart.row),i=selectionStart.row+1;i<=selectionEnd.row+1;i++){var curLine=lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));0!==curLine.length&&(curLine=" "+curLine),insertLine+=curLine}selectionEnd.row+1<editor.session.doc.getLength()-1&&(insertLine+=editor.session.doc.getNewLineCharacter()),editor.clearSelection(),editor.session.doc.replace(new Range(selectionStart.row,0,selectionEnd.row+2,0),insertLine),selectedCount>0?(editor.selection.moveCursorTo(selectionStart.row,selectionStart.column),editor.selection.selectTo(selectionStart.row,selectionStart.column+selectedCount)):(firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length>firstLineEndCol?firstLineEndCol+1:firstLineEndCol,editor.selection.moveCursorTo(selectionStart.row,firstLineEndCol))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:bindKey(null,null),exec:function(editor){var endRow=editor.session.doc.getLength()-1,endCol=editor.session.doc.getLine(endRow).length,ranges=editor.selection.rangeList.ranges,newRanges=[];ranges.length<1&&(ranges=[editor.selection.getRange()]);for(var i=0;i<ranges.length;i++)i==ranges.length-1&&(ranges[i].end.row===endRow&&ranges[i].end.column===endCol||newRanges.push(new Range(ranges[i].end.row,ranges[i].end.column,endRow,endCol))),0===i?0===ranges[i].start.row&&0===ranges[i].start.column||newRanges.push(new Range(0,0,ranges[i].start.row,ranges[i].start.column)):newRanges.push(new Range(ranges[i-1].end.row,ranges[i-1].end.column,ranges[i].start.row,ranges[i].start.column));editor.exitMultiSelectMode(),editor.clearSelection();for(i=0;i<newRanges.length;i++)editor.selection.addRange(newRanges[i],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(editor){editor.selection.clearSelection(),editor.navigateLineEnd(),editor.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(editor){editor.selection.clearSelection();var cursor=editor.getCursorPosition();editor.selection.moveTo(cursor.row-1,Number.MAX_VALUE),editor.insert("\n"),0===cursor.row&&editor.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:bindKey("F1","F1"),exec:function(editor){editor.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:bindKey(null,null),exec:function(editor){editor.prompt({$type:"modes"})},readOnly:!0}];for(var i=1;i<9;i++)exports.commands.push({name:"foldToLevel"+i,description:"Fold To Level "+i,level:i,exec:function(editor){editor.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(require,exports,module){"use strict";var dom=require("./lib/dom"),LineWidgets=function(){function LineWidgets(session){this.session=session,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return LineWidgets.prototype.getRowLength=function(row){var h;return h=this.lineWidgets&&this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0,this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1+h:1+h},LineWidgets.prototype.$getWidgetScreenLength=function(){var screenRows=0;return this.lineWidgets.forEach((function(w){w&&w.rowCount&&!w.hidden&&(screenRows+=w.rowCount)})),screenRows},LineWidgets.prototype.$onChangeEditor=function(e){this.attach(e.editor)},LineWidgets.prototype.attach=function(editor){editor&&editor.widgetManager&&editor.widgetManager!=this&&editor.widgetManager.detach(),this.editor!=editor&&(this.detach(),this.editor=editor,editor&&(editor.widgetManager=this,editor.renderer.on("beforeRender",this.measureWidgets),editor.renderer.on("afterRender",this.renderWidgets)))},LineWidgets.prototype.detach=function(e){var editor=this.editor;if(editor){this.editor=null,editor.widgetManager=null,editor.renderer.off("beforeRender",this.measureWidgets),editor.renderer.off("afterRender",this.renderWidgets);var lineWidgets=this.session.lineWidgets;lineWidgets&&lineWidgets.forEach((function(w){w&&w.el&&w.el.parentNode&&(w._inDocument=!1,w.el.parentNode.removeChild(w.el))}))}},LineWidgets.prototype.updateOnFold=function(e,session){var lineWidgets=session.lineWidgets;if(lineWidgets&&e.action){for(var fold=e.data,start=fold.start.row,end=fold.end.row,hide="add"==e.action,i=start+1;i<end;i++)lineWidgets[i]&&(lineWidgets[i].hidden=hide);lineWidgets[end]&&(hide?lineWidgets[start]?lineWidgets[end].hidden=hide:lineWidgets[start]=lineWidgets[end]:(lineWidgets[start]==lineWidgets[end]&&(lineWidgets[start]=void 0),lineWidgets[end].hidden=hide))}},LineWidgets.prototype.updateOnChange=function(delta){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var startRow=delta.start.row,len=delta.end.row-startRow;if(0===len);else if("remove"==delta.action){var removed=lineWidgets.splice(startRow+1,len);!lineWidgets[startRow]&&removed[removed.length-1]&&(lineWidgets[startRow]=removed.pop()),removed.forEach((function(w){w&&this.removeLineWidget(w)}),this),this.$updateRows()}else{var args=new Array(len);lineWidgets[startRow]&&null!=lineWidgets[startRow].column&&delta.start.column>lineWidgets[startRow].column&&startRow++,args.unshift(startRow,0),lineWidgets.splice.apply(lineWidgets,args),this.$updateRows()}}},LineWidgets.prototype.$updateRows=function(){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var noWidgets=!0;lineWidgets.forEach((function(w,i){if(w)for(noWidgets=!1,w.row=i;w.$oldWidget;)w.$oldWidget.row=i,w=w.$oldWidget})),noWidgets&&(this.session.lineWidgets=null)}},LineWidgets.prototype.$registerLineWidget=function(w){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var old=this.session.lineWidgets[w.row];return old&&(w.$oldWidget=old,old.el&&old.el.parentNode&&(old.el.parentNode.removeChild(old.el),old._inDocument=!1)),this.session.lineWidgets[w.row]=w,w},LineWidgets.prototype.addLineWidget=function(w){if(this.$registerLineWidget(w),w.session=this.session,!this.editor)return w;var renderer=this.editor.renderer;w.html&&!w.el&&(w.el=dom.createElement("div"),w.el.innerHTML=w.html),w.text&&!w.el&&(w.el=dom.createElement("div"),w.el.textContent=w.text),w.el&&(dom.addCssClass(w.el,"ace_lineWidgetContainer"),w.className&&dom.addCssClass(w.el,w.className),w.el.style.position="absolute",w.el.style.zIndex=5,renderer.container.appendChild(w.el),w._inDocument=!0,w.coverGutter||(w.el.style.zIndex=3),null==w.pixelHeight&&(w.pixelHeight=w.el.offsetHeight)),null==w.rowCount&&(w.rowCount=w.pixelHeight/renderer.layerConfig.lineHeight);var fold=this.session.getFoldAt(w.row,0);if(w.$fold=fold,fold){var lineWidgets=this.session.lineWidgets;w.row!=fold.end.row||lineWidgets[fold.start.row]?w.hidden=!0:lineWidgets[fold.start.row]=w}return this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows(),this.renderWidgets(null,renderer),this.onWidgetChanged(w),w},LineWidgets.prototype.removeLineWidget=function(w){if(w._inDocument=!1,w.session=null,w.el&&w.el.parentNode&&w.el.parentNode.removeChild(w.el),w.editor&&w.editor.destroy)try{w.editor.destroy()}catch(e){}if(this.session.lineWidgets){var w1=this.session.lineWidgets[w.row];if(w1==w)this.session.lineWidgets[w.row]=w.$oldWidget,w.$oldWidget&&this.onWidgetChanged(w.$oldWidget);else for(;w1;){if(w1.$oldWidget==w){w1.$oldWidget=w.$oldWidget;break}w1=w1.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows()},LineWidgets.prototype.getWidgetsAtRow=function(row){for(var lineWidgets=this.session.lineWidgets,w=lineWidgets&&lineWidgets[row],list=[];w;)list.push(w),w=w.$oldWidget;return list},LineWidgets.prototype.onWidgetChanged=function(w){this.session._changedWidgets.push(w),this.editor&&this.editor.renderer.updateFull()},LineWidgets.prototype.measureWidgets=function(e,renderer){var changedWidgets=this.session._changedWidgets,config=renderer.layerConfig;if(changedWidgets&&changedWidgets.length){for(var min=1/0,i=0;i<changedWidgets.length;i++){var w=changedWidgets[i];if(w&&w.el&&w.session==this.session){if(!w._inDocument){if(this.session.lineWidgets[w.row]!=w)continue;w._inDocument=!0,renderer.container.appendChild(w.el)}w.h=w.el.offsetHeight,w.fixedWidth||(w.w=w.el.offsetWidth,w.screenWidth=Math.ceil(w.w/config.characterWidth));var rowCount=w.h/config.lineHeight;w.coverLine&&(rowCount-=this.session.getRowLineCount(w.row))<0&&(rowCount=0),w.rowCount!=rowCount&&(w.rowCount=rowCount,w.row<min&&(min=w.row))}}min!=1/0&&(this.session._emit("changeFold",{data:{start:{row:min}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},LineWidgets.prototype.renderWidgets=function(e,renderer){var config=renderer.layerConfig,lineWidgets=this.session.lineWidgets;if(lineWidgets){for(var first=Math.min(this.firstRow,config.firstRow),last=Math.max(this.lastRow,config.lastRow,lineWidgets.length);first>0&&!lineWidgets[first];)first--;this.firstRow=config.firstRow,this.lastRow=config.lastRow,renderer.$cursorLayer.config=config;for(var i=first;i<=last;i++){var w=lineWidgets[i];if(w&&w.el)if(w.hidden)w.el.style.top=-100-(w.pixelHeight||0)+"px";else{w._inDocument||(w._inDocument=!0,renderer.container.appendChild(w.el));var top=renderer.$cursorLayer.getPixelPosition({row:i,column:0},!0).top;w.coverLine||(top+=config.lineHeight*this.session.getRowLineCount(w.row)),w.el.style.top=top-config.offset+"px";var left=w.coverGutter?0:renderer.gutterWidth;w.fixedWidth||(left-=renderer.scrollLeft),w.el.style.left=left+"px",w.fullWidth&&w.screenWidth&&(w.el.style.minWidth=config.width+2*config.padding+"px"),w.fixedWidth?w.el.style.right=renderer.scrollBar.getWidth()+"px":w.el.style.right=""}}}},LineWidgets}();exports.LineWidgets=LineWidgets})),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(require,exports,module){"use strict";var keys=require("../lib/keys"),GutterTooltip=require("../mouse/default_gutter_handler").GutterTooltip,GutterKeyboardHandler=function(){function GutterKeyboardHandler(editor){this.editor=editor,this.gutterLayer=editor.renderer.$gutterLayer,this.element=editor.renderer.$gutter,this.lines=editor.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new GutterTooltip(this.editor)}return GutterKeyboardHandler.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},GutterKeyboardHandler.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},GutterKeyboardHandler.prototype.$onGutterKeyDown=function(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===keys.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=keys.enter)return;e.preventDefault();var row=this.editor.getCursorPosition().row;return this.editor.isRowVisible(row)||this.editor.scrollToLine(row,!0,!0),void setTimeout(function(){var index=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),nearestFoldIndex=this.$findNearestFoldWidget(index),nearestAnnotationIndex=this.$findNearestAnnotation(index);if(null!==nearestFoldIndex||null!==nearestAnnotationIndex)return null===nearestFoldIndex&&null!==nearestAnnotationIndex?(this.activeRowIndex=nearestAnnotationIndex,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==nearestFoldIndex&&null===nearestAnnotationIndex?(this.activeRowIndex=nearestFoldIndex,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(nearestAnnotationIndex-index)<Math.abs(nearestFoldIndex-index)?(this.activeRowIndex=nearestAnnotationIndex,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=nearestFoldIndex,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new GutterKeyboardEvent(e,this))}.bind(this),10)},GutterKeyboardHandler.prototype.$handleGutterKeyboardInteraction=function(e){if(e.keyCode!==keys.tab){if(e.keyCode===keys.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==keys.up)if(e.keyCode!==keys.down){if(e.keyCode===keys.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===keys.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==keys.enter&&e.keyCode!==keys.space);else switch(e.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var rowFoldingWidget=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==rowFoldingWidget&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(rowFoldingWidget),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var rect=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),style=this.annotationTooltip.getElement().style;style.left=rect.right+"px",style.top=rect.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()},GutterKeyboardHandler.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},GutterKeyboardHandler.prototype.$isFoldWidgetVisible=function(index){var isRowFullyVisible=this.editor.isRowFullyVisible(this.$rowIndexToRow(index)),isIconVisible="none"!==this.$getFoldWidget(index).style.display;return isRowFullyVisible&&isIconVisible},GutterKeyboardHandler.prototype.$isAnnotationVisible=function(index){var isRowFullyVisible=this.editor.isRowFullyVisible(this.$rowIndexToRow(index)),isIconVisible="none"!==this.$getAnnotation(index).style.display;return isRowFullyVisible&&isIconVisible},GutterKeyboardHandler.prototype.$getFoldWidget=function(index){return this.lines.get(index).element.childNodes[1]},GutterKeyboardHandler.prototype.$getAnnotation=function(index){return this.lines.get(index).element.childNodes[2]},GutterKeyboardHandler.prototype.$findNearestFoldWidget=function(index){if(this.$isFoldWidgetVisible(index))return index;for(var i=0;index-i>0||index+i<this.lines.getLength()-1;){if(index-++i>=0&&this.$isFoldWidgetVisible(index-i))return index-i;if(index+i<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(index+i))return index+i}return null},GutterKeyboardHandler.prototype.$findNearestAnnotation=function(index){if(this.$isAnnotationVisible(index))return index;for(var i=0;index-i>0||index+i<this.lines.getLength()-1;){if(index-++i>=0&&this.$isAnnotationVisible(index-i))return index-i;if(index+i<=this.lines.getLength()-1&&this.$isAnnotationVisible(index+i))return index+i}return null},GutterKeyboardHandler.prototype.$focusFoldWidget=function(index){if(null!=index){var foldWidget=this.$getFoldWidget(index);foldWidget.classList.add(this.editor.renderer.keyboardFocusClassName),foldWidget.focus()}},GutterKeyboardHandler.prototype.$focusAnnotation=function(index){if(null!=index){var annotation=this.$getAnnotation(index);annotation.classList.add(this.editor.renderer.keyboardFocusClassName),annotation.focus()}},GutterKeyboardHandler.prototype.$blurFoldWidget=function(index){var foldWidget=this.$getFoldWidget(index);foldWidget.classList.remove(this.editor.renderer.keyboardFocusClassName),foldWidget.blur()},GutterKeyboardHandler.prototype.$blurAnnotation=function(index){var annotation=this.$getAnnotation(index);annotation.classList.remove(this.editor.renderer.keyboardFocusClassName),annotation.blur()},GutterKeyboardHandler.prototype.$moveFoldWidgetUp=function(){for(var index=this.activeRowIndex;index>0;)if(index--,this.$isFoldWidgetVisible(index))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=index,void this.$focusFoldWidget(this.activeRowIndex)},GutterKeyboardHandler.prototype.$moveFoldWidgetDown=function(){for(var index=this.activeRowIndex;index<this.lines.getLength()-1;)if(index++,this.$isFoldWidgetVisible(index))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=index,void this.$focusFoldWidget(this.activeRowIndex)},GutterKeyboardHandler.prototype.$moveAnnotationUp=function(){for(var index=this.activeRowIndex;index>0;)if(index--,this.$isAnnotationVisible(index))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=index,void this.$focusAnnotation(this.activeRowIndex)},GutterKeyboardHandler.prototype.$moveAnnotationDown=function(){for(var index=this.activeRowIndex;index<this.lines.getLength()-1;)if(index++,this.$isAnnotationVisible(index))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=index,void this.$focusAnnotation(this.activeRowIndex)},GutterKeyboardHandler.prototype.$switchLane=function(desinationLane){switch(desinationLane){case"annotation":if("annotation"===this.activeLane)break;var annotationIndex=this.$findNearestAnnotation(this.activeRowIndex);if(null==annotationIndex)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=annotationIndex,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var foldWidgetIndex=this.$findNearestFoldWidget(this.activeRowIndex);if(null==foldWidgetIndex)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=foldWidgetIndex,this.$focusFoldWidget(this.activeRowIndex)}},GutterKeyboardHandler.prototype.$rowIndexToRow=function(index){var cell=this.lines.get(index);return cell?cell.row:null},GutterKeyboardHandler.prototype.$rowToRowIndex=function(row){for(var i=0;i<this.lines.getLength();i++){if(this.lines.get(i).row==row)return i}return null},GutterKeyboardHandler}();exports.GutterKeyboardHandler=GutterKeyboardHandler;var GutterKeyboardEvent=function(){function GutterKeyboardEvent(domEvent,gutterKeyboardHandler){this.gutterKeyboardHandler=gutterKeyboardHandler,this.domEvent=domEvent}return GutterKeyboardEvent.prototype.getKey=function(){return keys.keyCodeToString(this.domEvent.keyCode)},GutterKeyboardEvent.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},GutterKeyboardEvent.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},GutterKeyboardEvent.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},GutterKeyboardEvent}();exports.GutterKeyboardEvent=GutterKeyboardEvent})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],(function(require,exports,module){"use strict";var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},oop=require("./lib/oop"),dom=require("./lib/dom"),lang=require("./lib/lang"),useragent=require("./lib/useragent"),TextInput=require("./keyboard/textinput").TextInput,MouseHandler=require("./mouse/mouse_handler").MouseHandler,FoldHandler=require("./mouse/fold_handler").FoldHandler,KeyBinding=require("./keyboard/keybinding").KeyBinding,EditSession=require("./edit_session").EditSession,Search=require("./search").Search,Range=require("./range").Range,EventEmitter=require("./lib/event_emitter").EventEmitter,CommandManager=require("./commands/command_manager").CommandManager,defaultCommands=require("./commands/default_commands").commands,config=require("./config"),TokenIterator=require("./token_iterator").TokenIterator,LineWidgets=require("./line_widgets").LineWidgets,GutterKeyboardHandler=require("./keyboard/gutter_handler").GutterKeyboardHandler,nls=require("./config").nls,clipboard=require("./clipboard"),keys=require("./lib/keys"),Editor=function(){function Editor(renderer,session,options){this.$toDestroy=[];var container=renderer.getContainerElement();this.container=container,this.renderer=renderer,this.id="editor"+ ++Editor.$uid,this.commands=new CommandManager(useragent.isMac?"mac":"win",defaultCommands),"object"==typeof document&&(this.textInput=new TextInput(renderer.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new MouseHandler(this),new FoldHandler(this)),this.keyBinding=new KeyBinding(this),this.$search=(new Search).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=lang.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(_,_self){_self._$emitInputEvent.schedule(31)})),this.setSession(session||options&&options.session||new EditSession("")),config.resetOptions(this),options&&this.setOptions(options),config._signal("editor",this)}return Editor.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=lang.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},Editor.prototype.startOperation=function(commandEvent){if(this.curOp){if(!commandEvent||this.curOp.command)return;this.prevOp=this.curOp}commandEvent||(this.previousCommand=null,commandEvent={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:commandEvent.command||{},args:commandEvent.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},Editor.prototype.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var command=this.curOp.command,scrollIntoView=command&&command.scrollIntoView;if(scrollIntoView){switch(scrollIntoView){case"center-animate":scrollIntoView="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var range=this.selection.getRange(),config=this.renderer.layerConfig;(range.start.row>=config.lastRow||range.end.row<=config.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}var sel=this.selection.toJSON();this.curOp.selectionAfter=sel,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(sel),this.prevOp=this.curOp,this.curOp=null}},Editor.prototype.$historyTracker=function(e){if(this.$mergeUndoDeltas){var prev=this.prevOp,mergeableCommands=this.$mergeableCommands,shouldMerge=prev.command&&e.command.name==prev.command.name;if("insertstring"==e.command.name){var text=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),shouldMerge=shouldMerge&&this.mergeNextCommand&&(!/\s/.test(text)||/\s/.test(prev.args)),this.mergeNextCommand=!0}else shouldMerge=shouldMerge&&-1!==mergeableCommands.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(shouldMerge=!1),shouldMerge?this.session.mergeUndoDeltas=!0:-1!==mergeableCommands.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},Editor.prototype.setKeyboardHandler=function(keyboardHandler,cb){if(keyboardHandler&&"string"==typeof keyboardHandler&&"ace"!=keyboardHandler){this.$keybindingId=keyboardHandler;var _self=this;config.loadModule(["keybinding",keyboardHandler],(function(module){_self.$keybindingId==keyboardHandler&&_self.keyBinding.setKeyboardHandler(module&&module.handler),cb&&cb()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(keyboardHandler),cb&&cb()},Editor.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},Editor.prototype.setSession=function(session){if(this.session!=session){this.curOp&&this.endOperation(),this.curOp={};var oldSession=this.session;if(oldSession){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var selection=this.session.getSelection();selection.off("changeCursor",this.$onCursorChange),selection.off("changeSelection",this.$onSelectionChange)}this.session=session,session?(this.$onDocumentChange=this.onDocumentChange.bind(this),session.on("change",this.$onDocumentChange),this.renderer.setSession(session),this.$onChangeMode=this.onChangeMode.bind(this),session.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),session.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),session.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),session.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),session.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),session.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=session.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(session)),this._signal("changeSession",{session,oldSession}),this.curOp=null,oldSession&&oldSession._signal("changeEditor",{oldEditor:this}),session&&session._signal("changeEditor",{editor:this}),session&&!session.destroyed&&session.bgTokenizer.scheduleStart()}},Editor.prototype.getSession=function(){return this.session},Editor.prototype.setValue=function(val,cursorPos){return this.session.doc.setValue(val),cursorPos?1==cursorPos?this.navigateFileEnd():-1==cursorPos&&this.navigateFileStart():this.selectAll(),val},Editor.prototype.getValue=function(){return this.session.getValue()},Editor.prototype.getSelection=function(){return this.selection},Editor.prototype.resize=function(force){this.renderer.onResize(force)},Editor.prototype.setTheme=function(theme,cb){this.renderer.setTheme(theme,cb)},Editor.prototype.getTheme=function(){return this.renderer.getTheme()},Editor.prototype.setStyle=function(style){this.renderer.setStyle(style)},Editor.prototype.unsetStyle=function(style){this.renderer.unsetStyle(style)},Editor.prototype.getFontSize=function(){return this.getOption("fontSize")||dom.computedStyle(this.container).fontSize},Editor.prototype.setFontSize=function(size){this.setOption("fontSize",size)},Editor.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var self=this;this.$highlightPending=!0,setTimeout((function(){self.$highlightPending=!1;var session=self.session;if(session&&!session.destroyed){session.$bracketHighlight&&(session.$bracketHighlight.markerIds.forEach((function(id){session.removeMarker(id)})),session.$bracketHighlight=null);var pos=self.getCursorPosition(),handler=self.getKeyboardHandler(),isBackwards=handler&&handler.$getDirectionForHighlight&&handler.$getDirectionForHighlight(self),ranges=session.getMatchingBracketRanges(pos,isBackwards);if(!ranges){var token=new TokenIterator(session,pos.row,pos.column).getCurrentToken();if(token&&/\b(?:tag-open|tag-name)/.test(token.type)){var tagNamesRanges=session.getMatchingTags(pos);tagNamesRanges&&(ranges=[tagNamesRanges.openTagName,tagNamesRanges.closeTagName])}}if(!ranges&&session.$mode.getMatching&&(ranges=session.$mode.getMatching(self.session)),ranges){var markerType="ace_bracket";Array.isArray(ranges)?1==ranges.length&&(markerType="ace_error_bracket"):ranges=[ranges],2==ranges.length&&(0==Range.comparePoints(ranges[0].end,ranges[1].start)?ranges=[Range.fromPoints(ranges[0].start,ranges[1].end)]:0==Range.comparePoints(ranges[0].start,ranges[1].end)&&(ranges=[Range.fromPoints(ranges[1].start,ranges[0].end)])),session.$bracketHighlight={ranges,markerIds:ranges.map((function(range){return session.addMarker(range,markerType,"text")}))},self.getHighlightIndentGuides()&&self.renderer.$textLayer.$highlightIndentGuide()}else self.getHighlightIndentGuides()&&self.renderer.$textLayer.$highlightIndentGuide()}}),50)}},Editor.prototype.focus=function(){this.textInput.focus()},Editor.prototype.isFocused=function(){return this.textInput.isFocused()},Editor.prototype.blur=function(){this.textInput.blur()},Editor.prototype.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},Editor.prototype.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},Editor.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},Editor.prototype.onDocumentChange=function(delta){var wrap=this.session.$useWrapMode,lastRow=delta.start.row==delta.end.row?delta.end.row:1/0;this.renderer.updateLines(delta.start.row,lastRow,wrap),this._signal("change",delta),this.$cursorChange()},Editor.prototype.onTokenizerUpdate=function(e){var rows=e.data;this.renderer.updateLines(rows.first,rows.last)},Editor.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},Editor.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},Editor.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},Editor.prototype.$updateHighlightActiveLine=function(){var highlight,session=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(highlight=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(highlight=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(highlight=!1)),session.$highlightLineMarker&&!highlight)session.removeMarker(session.$highlightLineMarker.id),session.$highlightLineMarker=null;else if(!session.$highlightLineMarker&&highlight){var range=new Range(highlight.row,highlight.column,highlight.row,1/0);range.id=session.addMarker(range,"ace_active-line","screenLine"),session.$highlightLineMarker=range}else highlight&&(session.$highlightLineMarker.start.row=highlight.row,session.$highlightLineMarker.end.row=highlight.row,session.$highlightLineMarker.start.column=highlight.column,session._signal("changeBackMarker"))},Editor.prototype.onSelectionChange=function(e){var session=this.session;if(session.$selectionMarker&&session.removeMarker(session.$selectionMarker),session.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var range=this.selection.getRange(),style=this.getSelectionStyle();session.$selectionMarker=session.addMarker(range,"ace_selection",style)}var re=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(re),this._signal("changeSelection")},Editor.prototype.$getSelectionHighLightRegexp=function(){var session=this.session,selection=this.getSelectionRange();if(!selection.isEmpty()&&!selection.isMultiLine()){var startColumn=selection.start.column,endColumn=selection.end.column,line=session.getLine(selection.start.row),needle=line.substring(startColumn,endColumn);if(!(needle.length>5e3)&&/[\w\d]/.test(needle)){var re=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle}),wordWithBoundary=line.substring(startColumn-1,endColumn+1);if(re.test(wordWithBoundary))return re}}},Editor.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},Editor.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},Editor.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},Editor.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},Editor.prototype.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},Editor.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},Editor.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},Editor.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},Editor.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},Editor.prototype.getCopyText=function(){var text=this.getSelectedText(),nl=this.session.doc.getNewLineCharacter(),copyLine=!1;if(!text&&this.$copyWithEmptySelection){copyLine=!0;for(var ranges=this.selection.getAllRanges(),i=0;i<ranges.length;i++){var range=ranges[i];i&&ranges[i-1].start.row==range.start.row||(text+=this.session.getLine(range.start.row)+nl)}}var e={text};return this._signal("copy",e),clipboard.lineMode=!!copyLine&&e.text,e.text},Editor.prototype.onCopy=function(){this.commands.exec("copy",this)},Editor.prototype.onCut=function(){this.commands.exec("cut",this)},Editor.prototype.onPaste=function(text,event){var e={text,event};this.commands.exec("paste",this,e)},Editor.prototype.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var text=e.text,lineMode=text===clipboard.lineMode,session=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)lineMode?session.insert({row:this.selection.lead.row,column:0},text):this.insert(text);else if(lineMode)this.selection.rangeList.ranges.forEach((function(range){session.insert({row:range.start.row,column:0},text)}));else{var lines=text.split(/\r\n|\r|\n/),ranges=this.selection.rangeList.ranges,isFullLine=!(2!=lines.length||lines[0]&&lines[1]);if(lines.length!=ranges.length||isFullLine)return this.commands.exec("insertstring",this,text);for(var i=ranges.length;i--;){var range=ranges[i];range.isEmpty()||session.remove(range),session.insert(range.start,lines[i])}}},Editor.prototype.execCommand=function(command,args){return this.commands.exec(command,this,args)},Editor.prototype.insert=function(text,pasted){var session=this.session,mode=session.getMode(),cursor=this.getCursorPosition();if(this.getBehavioursEnabled()&&!pasted){var transform=mode.transformAction(session.getState(cursor.row),"insertion",this,session,text);transform&&(text!==transform.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),text=transform.text)}if("\t"==text&&(text=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==text.indexOf("\n")){(range=new Range.fromPoints(cursor,cursor)).end.column+=text.length,this.session.remove(range)}}else{var range=this.getSelectionRange();cursor=this.session.remove(range),this.clearSelection()}if("\n"==text||"\r\n"==text){var line=session.getLine(cursor.row);if(cursor.column>line.search(/\S|$/)){var d=line.substr(cursor.column).search(/\S|$/);session.doc.removeInLine(cursor.row,cursor.column,cursor.column+d)}}this.clearSelection();var start=cursor.column,lineState=session.getState(cursor.row),shouldOutdent=(line=session.getLine(cursor.row),mode.checkOutdent(lineState,line,text));if(session.insert(cursor,text),transform&&transform.selection&&(2==transform.selection.length?this.selection.setSelectionRange(new Range(cursor.row,start+transform.selection[0],cursor.row,start+transform.selection[1])):this.selection.setSelectionRange(new Range(cursor.row+transform.selection[0],transform.selection[1],cursor.row+transform.selection[2],transform.selection[3]))),this.$enableAutoIndent){if(session.getDocument().isNewLine(text)){var lineIndent=mode.getNextLineIndent(lineState,line.slice(0,cursor.column),session.getTabString());session.insert({row:cursor.row+1,column:0},lineIndent)}shouldOutdent&&mode.autoOutdent(lineState,session,cursor.row)}},Editor.prototype.autoIndent=function(){var startRow,endRow,session=this.session,mode=session.getMode();if(this.selection.isEmpty())startRow=0,endRow=session.doc.getLength()-1;else{var selectedRange=this.getSelectionRange();startRow=selectedRange.start.row,endRow=selectedRange.end.row}for(var line,currIndent,range,prevLineState="",prevLine="",lineIndent="",tab=session.getTabString(),row=startRow;row<=endRow;row++)row>0&&(prevLineState=session.getState(row-1),prevLine=session.getLine(row-1),lineIndent=mode.getNextLineIndent(prevLineState,prevLine,tab)),line=session.getLine(row),lineIndent!==(currIndent=mode.$getIndent(line))&&(currIndent.length>0&&(range=new Range(row,0,row,currIndent.length),session.remove(range)),lineIndent.length>0&&session.insert({row,column:0},lineIndent)),mode.autoOutdent(prevLineState,session,row)},Editor.prototype.onTextInput=function(text,composition){if(!composition)return this.keyBinding.onTextInput(text);this.startOperation({command:{name:"insertstring"}});var applyComposition=this.applyComposition.bind(this,text,composition);this.selection.rangeCount?this.forEachSelection(applyComposition):applyComposition(),this.endOperation()},Editor.prototype.applyComposition=function(text,composition){var r;(composition.extendLeft||composition.extendRight)&&((r=this.selection.getRange()).start.column-=composition.extendLeft,r.end.column+=composition.extendRight,r.start.column<0&&(r.start.row--,r.start.column+=this.session.getLine(r.start.row).length+1),this.selection.setRange(r),text||r.isEmpty()||this.remove());(!text&&this.selection.isEmpty()||this.insert(text,!0),composition.restoreStart||composition.restoreEnd)&&((r=this.selection.getRange()).start.column-=composition.restoreStart,r.end.column-=composition.restoreEnd,this.selection.setRange(r))},Editor.prototype.onCommandKey=function(e,hashId,keyCode){return this.keyBinding.onCommandKey(e,hashId,keyCode)},Editor.prototype.setOverwrite=function(overwrite){this.session.setOverwrite(overwrite)},Editor.prototype.getOverwrite=function(){return this.session.getOverwrite()},Editor.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},Editor.prototype.setScrollSpeed=function(speed){this.setOption("scrollSpeed",speed)},Editor.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},Editor.prototype.setDragDelay=function(dragDelay){this.setOption("dragDelay",dragDelay)},Editor.prototype.getDragDelay=function(){return this.getOption("dragDelay")},Editor.prototype.setSelectionStyle=function(val){this.setOption("selectionStyle",val)},Editor.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},Editor.prototype.setHighlightActiveLine=function(shouldHighlight){this.setOption("highlightActiveLine",shouldHighlight)},Editor.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},Editor.prototype.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},Editor.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},Editor.prototype.setHighlightSelectedWord=function(shouldHighlight){this.setOption("highlightSelectedWord",shouldHighlight)},Editor.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},Editor.prototype.setAnimatedScroll=function(shouldAnimate){this.renderer.setAnimatedScroll(shouldAnimate)},Editor.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},Editor.prototype.setShowInvisibles=function(showInvisibles){this.renderer.setShowInvisibles(showInvisibles)},Editor.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},Editor.prototype.setDisplayIndentGuides=function(display){this.renderer.setDisplayIndentGuides(display)},Editor.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},Editor.prototype.setHighlightIndentGuides=function(highlight){this.renderer.setHighlightIndentGuides(highlight)},Editor.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},Editor.prototype.setShowPrintMargin=function(showPrintMargin){this.renderer.setShowPrintMargin(showPrintMargin)},Editor.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},Editor.prototype.setPrintMarginColumn=function(showPrintMargin){this.renderer.setPrintMarginColumn(showPrintMargin)},Editor.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},Editor.prototype.setReadOnly=function(readOnly){this.setOption("readOnly",readOnly)},Editor.prototype.getReadOnly=function(){return this.getOption("readOnly")},Editor.prototype.setBehavioursEnabled=function(enabled){this.setOption("behavioursEnabled",enabled)},Editor.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},Editor.prototype.setWrapBehavioursEnabled=function(enabled){this.setOption("wrapBehavioursEnabled",enabled)},Editor.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},Editor.prototype.setShowFoldWidgets=function(show){this.setOption("showFoldWidgets",show)},Editor.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},Editor.prototype.setFadeFoldWidgets=function(fade){this.setOption("fadeFoldWidgets",fade)},Editor.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},Editor.prototype.remove=function(dir){this.selection.isEmpty()&&("left"==dir?this.selection.selectLeft():this.selection.selectRight());var range=this.getSelectionRange();if(this.getBehavioursEnabled()){var session=this.session,state=session.getState(range.start.row),new_range=session.getMode().transformAction(state,"deletion",this,session,range);if(0===range.end.column){var text=session.getTextRange(range);if("\n"==text[text.length-1]){var line=session.getLine(range.end.row);/^\s+$/.test(line)&&(range.end.column=line.length)}}new_range&&(range=new_range)}this.session.remove(range),this.clearSelection()},Editor.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},Editor.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},Editor.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},Editor.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var range=this.getSelectionRange();range.start.column==range.end.column&&range.start.row==range.end.row&&(range.end.column=0,range.end.row++),this.session.remove(range),this.clearSelection()},Editor.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var cursor=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(cursor)},Editor.prototype.setGhostText=function(text,position){this.session.widgetManager||(this.session.widgetManager=new LineWidgets(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(text,position)},Editor.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},Editor.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var cursor=this.getCursorPosition(),column=cursor.column;if(0!==column){var swap,range,line=this.session.getLine(cursor.row);column<line.length?(swap=line.charAt(column)+line.charAt(column-1),range=new Range(cursor.row,column-1,cursor.row,column+1)):(swap=line.charAt(column-1)+line.charAt(column-2),range=new Range(cursor.row,column-2,cursor.row,column)),this.session.replace(range,swap),this.session.selection.moveToPosition(range.end)}}},Editor.prototype.toLowerCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toLowerCase()),this.selection.setSelectionRange(originalRange)},Editor.prototype.toUpperCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toUpperCase()),this.selection.setSelectionRange(originalRange)},Editor.prototype.indent=function(){var session=this.session,range=this.getSelectionRange();if(!(range.start.row<range.end.row)){if(range.start.column<range.end.column){var text=session.getTextRange(range);if(!/^\s+$/.test(text)){rows=this.$getSelectedRows();return void session.indentRows(rows.first,rows.last,"\t")}}var line=session.getLine(range.start.row),position=range.start,size=session.getTabSize(),column=session.documentToScreenColumn(position.row,position.column);if(this.session.getUseSoftTabs())var count=size-column%size,indentString=lang.stringRepeat(" ",count);else{for(count=column%size;" "==line[range.start.column-1]&&count;)range.start.column--,count--;this.selection.setSelectionRange(range),indentString="\t"}return this.insert(indentString)}var rows=this.$getSelectedRows();session.indentRows(rows.first,rows.last,"\t")},Editor.prototype.blockIndent=function(){var rows=this.$getSelectedRows();this.session.indentRows(rows.first,rows.last,"\t")},Editor.prototype.blockOutdent=function(){var selection=this.session.getSelection();this.session.outdentRows(selection.getRange())},Editor.prototype.sortLines=function(){for(var rows=this.$getSelectedRows(),session=this.session,lines=[],i=rows.first;i<=rows.last;i++)lines.push(session.getLine(i));lines.sort((function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0}));var deleteRange=new Range(0,0,0,0);for(i=rows.first;i<=rows.last;i++){var line=session.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i,deleteRange.end.column=line.length,session.replace(deleteRange,lines[i-rows.first])}},Editor.prototype.toggleCommentLines=function(){var state=this.session.getState(this.getCursorPosition().row),rows=this.$getSelectedRows();this.session.getMode().toggleCommentLines(state,this.session,rows.first,rows.last)},Editor.prototype.toggleBlockComment=function(){var cursor=this.getCursorPosition(),state=this.session.getState(cursor.row),range=this.getSelectionRange();this.session.getMode().toggleBlockComment(state,this.session,range,cursor)},Editor.prototype.getNumberAt=function(row,column){var _numberRx=/[\-]?[0-9]+(?:\.[0-9]+)?/g;_numberRx.lastIndex=0;for(var s=this.session.getLine(row);_numberRx.lastIndex<column;){var m=_numberRx.exec(s);if(m.index<=column&&m.index+m[0].length>=column)return{value:m[0],start:m.index,end:m.index+m[0].length}}return null},Editor.prototype.modifyNumber=function(amount){var row=this.selection.getCursor().row,column=this.selection.getCursor().column,charRange=new Range(row,column-1,row,column),c=this.session.getTextRange(charRange);if(!isNaN(parseFloat(c))&&isFinite(c)){var nr=this.getNumberAt(row,column);if(nr){var fp=nr.value.indexOf(".")>=0?nr.start+nr.value.indexOf(".")+1:nr.end,decimals=nr.start+nr.value.length-fp,t=parseFloat(nr.value);t*=Math.pow(10,decimals),fp!==nr.end&&column<fp?amount*=Math.pow(10,nr.end-column-1):amount*=Math.pow(10,nr.end-column),t+=amount;var nnr=(t/=Math.pow(10,decimals)).toFixed(decimals),replaceRange=new Range(row,nr.start,row,nr.end);this.session.replace(replaceRange,nnr),this.moveCursorTo(row,Math.max(nr.start+1,column+nnr.length-nr.value.length))}}else this.toggleWord()},Editor.prototype.toggleWord=function(){var row=this.selection.getCursor().row,column=this.selection.getCursor().column;this.selection.selectWord();var currentState=this.getSelectedText(),currWordStart=this.selection.getWordRange().start.column,wordParts=currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),delta=column-currWordStart-1;delta<0&&(delta=0);var curLength=0,itLength=0,that=this;currentState.match(/[A-Za-z0-9_]+/)&&wordParts.forEach((function(item,i){itLength=curLength+item.length,delta>=curLength&&delta<=itLength&&(currentState=item,that.selection.clearSelection(),that.moveCursorTo(row,curLength+currWordStart),that.selection.selectTo(row,itLength+currWordStart)),curLength=itLength}));for(var reg,wordPairs=this.$toggleWordPairs,i=0;i<wordPairs.length;i++)for(var item=wordPairs[i],j=0;j<=1;j++){var negate=+!j,firstCondition=currentState.match(new RegExp("^\\s?_?("+lang.escapeRegExp(item[j])+")\\s?$","i"));if(firstCondition)currentState.match(new RegExp("([_]|^|\\s)("+lang.escapeRegExp(firstCondition[1])+")($|\\s)","g"))&&(reg=currentState.replace(new RegExp(lang.escapeRegExp(item[j]),"i"),(function(result){var res=item[negate];return result.toUpperCase()==result?res=res.toUpperCase():result.charAt(0).toUpperCase()==result.charAt(0)&&(res=res.substr(0,0)+item[negate].charAt(0).toUpperCase()+res.substr(1)),res})),this.insert(reg),reg="")}},Editor.prototype.findLinkAt=function(row,column){var e_1,_a,wordParts=this.session.getLine(row).split(/((?:https?|ftp):\/\/[\S]+)/),columnPosition=column;columnPosition<0&&(columnPosition=0);var match,previousPosition=0,currentPosition=0;try{for(var wordParts_1=__values(wordParts),wordParts_1_1=wordParts_1.next();!wordParts_1_1.done;wordParts_1_1=wordParts_1.next()){var item=wordParts_1_1.value;if(currentPosition=previousPosition+item.length,columnPosition>=previousPosition&&columnPosition<=currentPosition&&item.match(/((?:https?|ftp):\/\/[\S]+)/)){match=item.replace(/[\s:.,'";}\]]+$/,"");break}previousPosition=currentPosition}}catch(e_1_1){e_1={error:e_1_1}}finally{try{wordParts_1_1&&!wordParts_1_1.done&&(_a=wordParts_1.return)&&_a.call(wordParts_1)}finally{if(e_1)throw e_1.error}}return match},Editor.prototype.openLink=function(){var cursor=this.selection.getCursor(),url=this.findLinkAt(cursor.row,cursor.column);return url&&window.open(url,"_blank"),null!=url},Editor.prototype.removeLines=function(){var rows=this.$getSelectedRows();this.session.removeFullLines(rows.first,rows.last),this.clearSelection()},Editor.prototype.duplicateSelection=function(){var sel=this.selection,doc=this.session,range=sel.getRange(),reverse=sel.isBackwards();if(range.isEmpty()){var row=range.start.row;doc.duplicateLines(row,row)}else{var point=reverse?range.start:range.end,endPoint=doc.insert(point,doc.getTextRange(range),!1);range.start=point,range.end=endPoint,sel.setSelectionRange(range,reverse)}},Editor.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},Editor.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},Editor.prototype.moveText=function(range,toPosition,copy){return this.session.moveText(range,toPosition,copy)},Editor.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},Editor.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},Editor.prototype.$moveLines=function(dir,copy){var rows,moved,selection=this.selection;if(!selection.inMultiSelectMode||this.inVirtualSelectionMode){var range=selection.toOrientedRange();rows=this.$getSelectedRows(range),moved=this.session.$moveLines(rows.first,rows.last,copy?0:dir),copy&&-1==dir&&(moved=0),range.moveBy(moved,0),selection.fromOrientedRange(range)}else{var ranges=selection.rangeList.ranges;selection.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var diff=0,totalDiff=0,l=ranges.length,i=0;i<l;i++){var rangeIndex=i;ranges[i].moveBy(diff,0);for(var first=(rows=this.$getSelectedRows(ranges[i])).first,last=rows.last;++i<l;){totalDiff&&ranges[i].moveBy(totalDiff,0);var subRows=this.$getSelectedRows(ranges[i]);if(copy&&subRows.first!=last)break;if(!copy&&subRows.first>last+1)break;last=subRows.last}for(i--,diff=this.session.$moveLines(first,last,copy?0:dir),copy&&-1==dir&&(rangeIndex=i+1);rangeIndex<=i;)ranges[rangeIndex].moveBy(diff,0),rangeIndex++;copy||(diff=0),totalDiff+=diff}selection.fromOrientedRange(selection.ranges[0]),selection.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},Editor.prototype.$getSelectedRows=function(range){return range=(range||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(range.start.row),last:this.session.getRowFoldEnd(range.end.row)}},Editor.prototype.onCompositionStart=function(compositionState){this.renderer.showComposition(compositionState)},Editor.prototype.onCompositionUpdate=function(text){this.renderer.setCompositionText(text)},Editor.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},Editor.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},Editor.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},Editor.prototype.isRowVisible=function(row){return row>=this.getFirstVisibleRow()&&row<=this.getLastVisibleRow()},Editor.prototype.isRowFullyVisible=function(row){return row>=this.renderer.getFirstFullyVisibleRow()&&row<=this.renderer.getLastFullyVisibleRow()},Editor.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},Editor.prototype.$moveByPage=function(dir,select){var renderer=this.renderer,config=this.renderer.layerConfig,rows=dir*Math.floor(config.height/config.lineHeight);!0===select?this.selection.$moveSelection((function(){this.moveCursorBy(rows,0)})):!1===select&&(this.selection.moveCursorBy(rows,0),this.selection.clearSelection());var scrollTop=renderer.scrollTop;renderer.scrollBy(0,rows*config.lineHeight),null!=select&&renderer.scrollCursorIntoView(null,.5),renderer.animateScrolling(scrollTop)},Editor.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},Editor.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},Editor.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},Editor.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},Editor.prototype.scrollPageDown=function(){this.$moveByPage(1)},Editor.prototype.scrollPageUp=function(){this.$moveByPage(-1)},Editor.prototype.scrollToRow=function(row){this.renderer.scrollToRow(row)},Editor.prototype.scrollToLine=function(line,center,animate,callback){this.renderer.scrollToLine(line,center,animate,callback)},Editor.prototype.centerSelection=function(){var range=this.getSelectionRange(),pos={row:Math.floor(range.start.row+(range.end.row-range.start.row)/2),column:Math.floor(range.start.column+(range.end.column-range.start.column)/2)};this.renderer.alignCursor(pos,.5)},Editor.prototype.getCursorPosition=function(){return this.selection.getCursor()},Editor.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},Editor.prototype.getSelectionRange=function(){return this.selection.getRange()},Editor.prototype.selectAll=function(){this.selection.selectAll()},Editor.prototype.clearSelection=function(){this.selection.clearSelection()},Editor.prototype.moveCursorTo=function(row,column){this.selection.moveCursorTo(row,column)},Editor.prototype.moveCursorToPosition=function(pos){this.selection.moveCursorToPosition(pos)},Editor.prototype.jumpToMatching=function(select,expand){var cursor=this.getCursorPosition(),iterator=new TokenIterator(this.session,cursor.row,cursor.column),prevToken=iterator.getCurrentToken(),tokenCount=0;prevToken&&-1!==prevToken.type.indexOf("tag-name")&&(prevToken=iterator.stepBackward());var token=prevToken||iterator.stepForward();if(token){var matchType,bracketType,found=!1,depth={},i=cursor.column-token.start,brackets={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(token.value.match(/[{}()\[\]]/g)){for(;i<token.value.length&&!found;i++)if(brackets[token.value[i]])switch(bracketType=brackets[token.value[i]]+"."+token.type.replace("rparen","lparen"),isNaN(depth[bracketType])&&(depth[bracketType]=0),token.value[i]){case"(":case"[":case"{":depth[bracketType]++;break;case")":case"]":case"}":depth[bracketType]--,-1===depth[bracketType]&&(matchType="bracket",found=!0)}}else-1!==token.type.indexOf("tag-name")&&(isNaN(depth[token.value])&&(depth[token.value]=0),"<"===prevToken.value&&tokenCount>1?depth[token.value]++:"</"===prevToken.value&&depth[token.value]--,-1===depth[token.value]&&(matchType="tag",found=!0));found||(prevToken=token,tokenCount++,token=iterator.stepForward(),i=0)}while(token&&!found);if(matchType){var range,pos;if("bracket"===matchType)(range=this.session.getBracketRange(cursor))||(pos=(range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1)).start,(expand||pos.row===cursor.row&&Math.abs(pos.column-cursor.column)<2)&&(range=this.session.getBracketRange(pos)));else if("tag"===matchType){if(!token||-1===token.type.indexOf("tag-name"))return;if(0===(range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2)).compare(cursor.row,cursor.column)){var tagsRanges=this.session.getMatchingTags(cursor);tagsRanges&&(tagsRanges.openTag.contains(cursor.row,cursor.column)?pos=(range=tagsRanges.closeTag).start:(range=tagsRanges.openTag,pos=tagsRanges.closeTag.start.row===cursor.row&&tagsRanges.closeTag.start.column===cursor.column?range.end:range.start))}pos=pos||range.start}(pos=range&&range.cursor||pos)&&(select?range&&expand?this.selection.setRange(range):range&&range.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(pos.row,pos.column):this.selection.moveTo(pos.row,pos.column))}}},Editor.prototype.gotoLine=function(lineNumber,column,animate){this.selection.clearSelection(),this.session.unfold({row:lineNumber-1,column:column||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(lineNumber-1,column||0),this.isRowFullyVisible(lineNumber-1)||this.scrollToLine(lineNumber-1,!0,animate)},Editor.prototype.navigateTo=function(row,column){this.selection.moveTo(row,column)},Editor.prototype.navigateUp=function(times){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var selectionStart=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionStart)}this.selection.clearSelection(),this.selection.moveCursorBy(-times||-1,0)},Editor.prototype.navigateDown=function(times){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var selectionEnd=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionEnd)}this.selection.clearSelection(),this.selection.moveCursorBy(times||1,0)},Editor.prototype.navigateLeft=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorLeft();else{var selectionStart=this.getSelectionRange().start;this.moveCursorToPosition(selectionStart)}this.clearSelection()},Editor.prototype.navigateRight=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorRight();else{var selectionEnd=this.getSelectionRange().end;this.moveCursorToPosition(selectionEnd)}this.clearSelection()},Editor.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},Editor.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},Editor.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},Editor.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},Editor.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},Editor.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},Editor.prototype.replace=function(replacement,options){options&&this.$search.set(options);var range=this.$search.find(this.session),replaced=0;return range?(this.$tryReplace(range,replacement)&&(replaced=1),this.selection.setSelectionRange(range),this.renderer.scrollSelectionIntoView(range.start,range.end),replaced):replaced},Editor.prototype.replaceAll=function(replacement,options){options&&this.$search.set(options);var ranges=this.$search.findAll(this.session),replaced=0;if(!ranges.length)return replaced;var selection=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=ranges.length-1;i>=0;--i)this.$tryReplace(ranges[i],replacement)&&replaced++;return this.selection.setSelectionRange(selection),replaced},Editor.prototype.$tryReplace=function(range,replacement){var input=this.session.getTextRange(range);return null!==(replacement=this.$search.replace(input,replacement))?(range.end=this.session.replace(range,replacement),range):null},Editor.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},Editor.prototype.find=function(needle,options,animate){options||(options={}),"string"==typeof needle||needle instanceof RegExp?options.needle=needle:"object"==typeof needle&&oop.mixin(options,needle);var range=this.selection.getRange();null==options.needle&&((needle=this.session.getTextRange(range)||this.$search.$options.needle)||(range=this.session.getWordRange(range.start.row,range.start.column),needle=this.session.getTextRange(range)),this.$search.set({needle})),this.$search.set(options),options.start||this.$search.set({start:range});var newRange=this.$search.find(this.session);return options.preventScroll?newRange:newRange?(this.revealRange(newRange,animate),newRange):(options.backwards?range.start=range.end:range.end=range.start,void this.selection.setRange(range))},Editor.prototype.findNext=function(options,animate){this.find({skipCurrent:!0,backwards:!1},options,animate)},Editor.prototype.findPrevious=function(options,animate){this.find(options,{skipCurrent:!0,backwards:!0},animate)},Editor.prototype.revealRange=function(range,animate){this.session.unfold(range),this.selection.setSelectionRange(range);var scrollTop=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(range.start,range.end,.5),!1!==animate&&this.renderer.animateScrolling(scrollTop)},Editor.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},Editor.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},Editor.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(el){el.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},Editor.prototype.setAutoScrollEditorIntoView=function(enable){if(enable){var rect,self=this,shouldScroll=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var scrollAnchor=this.$scrollAnchor;scrollAnchor.style.cssText="position:absolute",this.container.insertBefore(scrollAnchor,this.container.firstChild);var onChangeSelection=this.on("changeSelection",(function(){shouldScroll=!0})),onBeforeRender=this.renderer.on("beforeRender",(function(){shouldScroll&&(rect=self.renderer.container.getBoundingClientRect())})),onAfterRender=this.renderer.on("afterRender",(function(){if(shouldScroll&&rect&&(self.isFocused()||self.searchBox&&self.searchBox.isFocused())){var renderer=self.renderer,pos=renderer.$cursorLayer.$pixelPos,config=renderer.layerConfig,top=pos.top-config.offset;null!=(shouldScroll=pos.top>=0&&top+rect.top<0||!(pos.top<config.height&&pos.top+rect.top+config.lineHeight>window.innerHeight)&&null)&&(scrollAnchor.style.top=top+"px",scrollAnchor.style.left=pos.left+"px",scrollAnchor.style.height=config.lineHeight+"px",scrollAnchor.scrollIntoView(shouldScroll)),shouldScroll=rect=null}}));this.setAutoScrollEditorIntoView=function(enable){enable||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",onChangeSelection),this.renderer.off("afterRender",onAfterRender),this.renderer.off("beforeRender",onBeforeRender))}}},Editor.prototype.$resetCursorStyle=function(){var style=this.$cursorStyle||"ace",cursorLayer=this.renderer.$cursorLayer;cursorLayer&&(cursorLayer.setSmoothBlinking(/smooth/.test(style)),cursorLayer.isBlinking=!this.$readOnly&&"wide"!=style,dom.setCssClass(cursorLayer.element,"ace_slim-cursors",/slim/.test(style)))},Editor.prototype.prompt=function(message,options,callback){var editor=this;config.loadModule("ace/ext/prompt",(function(module){module.prompt(editor,message,options,callback)}))},Editor}();Editor.$uid=0,Editor.prototype.curOp=null,Editor.prototype.prevOp={},Editor.prototype.$mergeableCommands=["backspace","del","insertstring"],Editor.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],oop.implement(Editor.prototype,EventEmitter),config.defineOptions(Editor.prototype,"editor",{selectionStyle:{set:function(style){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:style})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(shouldHighlight){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(readOnly){this.textInput.setReadOnly(readOnly),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(value){this.textInput.setCopyWithEmptySelection(value)},initialValue:!1},cursorStyle:{set:function(val){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(val){this.setAutoScrollEditorIntoView(val)}},keyboardHandler:{set:function(val){this.setKeyboardHandler(val)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(val){this.session.setValue(val)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(val){this.setSession(val)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(show){this.renderer.$gutterLayer.setShowLineNumbers(show),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),show&&this.$relativeLineNumbers?relativeNumberRenderer.attach(this):relativeNumberRenderer.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(value){this.$showLineNumbers&&value?relativeNumberRenderer.attach(this):relativeNumberRenderer.detach(this)}},placeholder:{set:function(message){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var hasValue=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(hasValue&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),dom.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(hasValue||this.renderer.placeholderNode)!hasValue&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),dom.addCssClass(this.container,"ace_hasPlaceholder");var el=dom.createElement("div");el.className="ace_placeholder",el.textContent=this.$placeholder||"",this.renderer.placeholderNode=el,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(value){var gutterKeyboardHandler,blurCommand={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(editor){editor.blur(),editor.renderer.scroller.focus()},readOnly:!0},focusOnEnterKeyup=function(e){if(e.target==this.renderer.scroller&&e.keyCode===keys.enter){e.preventDefault();var row=this.getCursorPosition().row;this.isRowVisible(row)||this.scrollToLine(row,!0,!0),this.focus()}};value?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",nls("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",nls("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",focusOnEnterKeyup.bind(this)),this.commands.addCommand(blurCommand),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",nls("editor")),this.renderer.$gutter.setAttribute("aria-label",nls("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),gutterKeyboardHandler||(gutterKeyboardHandler=new GutterKeyboardHandler(this)),gutterKeyboardHandler.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",focusOnEnterKeyup.bind(this)),this.commands.removeCommand(blurCommand),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),gutterKeyboardHandler&&gutterKeyboardHandler.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var relativeNumberRenderer={getText:function(session,row){return(Math.abs(session.selection.lead.row-row)||row+1+(row<9?"":""))+""},getWidth:function(session,lastLineNumber,config){return Math.max(lastLineNumber.toString().length,(config.lastRow+1).toString().length,2)*config.characterWidth},update:function(e,editor){editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER)},attach:function(editor){editor.renderer.$gutterLayer.$renderer=this,editor.on("changeSelection",this.update),this.update(null,editor)},detach:function(editor){editor.renderer.$gutterLayer.$renderer==this&&(editor.renderer.$gutterLayer.$renderer=null),editor.off("changeSelection",this.update),this.update(null,editor)}};exports.Editor=Editor})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(require,exports,module){"use strict";var UndoManager=function(){function UndoManager(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return UndoManager.prototype.addSession=function(session){this.$session=session},UndoManager.prototype.add=function(delta,allowMerge,session){if(!this.$fromUndo&&delta!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===allowMerge||!this.lastDeltas){this.lastDeltas=[];var undoStackLength=this.$undoStack.length;undoStackLength>this.$undoDepth-1&&this.$undoStack.splice(0,undoStackLength-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),delta.id=this.$rev=++this.$maxRev}"remove"!=delta.action&&"insert"!=delta.action||(this.$lastDelta=delta),this.lastDeltas.push(delta)}},UndoManager.prototype.addSelection=function(selection,rev){this.selections.push({value:selection,rev:rev||this.$rev})},UndoManager.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},UndoManager.prototype.markIgnored=function(from,to){null==to&&(to=this.$rev+1);for(var stack=this.$undoStack,i=stack.length;i--;){var delta=stack[i][0];if(delta.id<=from)break;delta.id<to&&(delta.ignore=!0)}this.lastDeltas=null},UndoManager.prototype.getSelection=function(rev,after){for(var stack=this.selections,i=stack.length;i--;){var selection=stack[i];if(selection.rev<rev)return after&&(selection=stack[i+1]),selection}},UndoManager.prototype.getRevision=function(){return this.$rev},UndoManager.prototype.getDeltas=function(from,to){null==to&&(to=this.$rev+1);for(var stack=this.$undoStack,end=null,start=0,i=stack.length;i--;){var delta=stack[i][0];if(delta.id<to&&!end&&(end=i+1),delta.id<=from){start=i+1;break}}return stack.slice(start,end)},UndoManager.prototype.getChangedRanges=function(from,to){null==to&&(to=this.$rev+1)},UndoManager.prototype.getChangedLines=function(from,to){null==to&&(to=this.$rev+1)},UndoManager.prototype.undo=function(session,dontSelect){this.lastDeltas=null;var stack=this.$undoStack;if(function rearrangeUndoStack(stack,pos){for(var i=pos;i--;){var deltaSet=stack[i];if(deltaSet&&!deltaSet[0].ignore){for(;i<pos-1;){var swapped=swapGroups(stack[i],stack[i+1]);stack[i]=swapped[0],stack[i+1]=swapped[1],i++}return!0}}}(stack,stack.length)){session||(session=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var deltaSet=stack.pop(),undoSelectionRange=null;return deltaSet&&(undoSelectionRange=session.undoChanges(deltaSet,dontSelect),this.$redoStack.push(deltaSet),this.$syncRev()),this.$fromUndo=!1,undoSelectionRange}},UndoManager.prototype.redo=function(session,dontSelect){if(this.lastDeltas=null,session||(session=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var diff=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function rebaseRedoStack(redoStack,deltaSets){for(var i=0;i<deltaSets.length;i++)for(var deltas=deltaSets[i],j=0;j<deltas.length;j++)moveDeltasByOne(redoStack,deltas[j])}(this.$redoStack,diff),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(x){x[0].id=++this.$maxRev}),this)}var deltaSet=this.$redoStack.pop(),redoSelectionRange=null;return deltaSet&&(redoSelectionRange=session.redoChanges(deltaSet,dontSelect),this.$undoStack.push(deltaSet),this.$syncRev()),this.$fromUndo=!1,redoSelectionRange},UndoManager.prototype.$syncRev=function(){var stack=this.$undoStack,nextDelta=stack[stack.length-1],id=nextDelta&&nextDelta[0].id||0;this.$redoStackBaseRev=id,this.$rev=id},UndoManager.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},UndoManager.prototype.canUndo=function(){return this.$undoStack.length>0},UndoManager.prototype.canRedo=function(){return this.$redoStack.length>0},UndoManager.prototype.bookmark=function(rev){null==rev&&(rev=this.$rev),this.mark=rev},UndoManager.prototype.isAtBookmark=function(){return this.$rev===this.mark},UndoManager.prototype.toJSON=function(){},UndoManager.prototype.fromJSON=function(){},UndoManager.prototype.$prettyPrint=function(delta){return delta?stringifyDelta(delta):stringifyDelta(this.$undoStack)+"\n---\n"+stringifyDelta(this.$redoStack)},UndoManager}();UndoManager.prototype.hasUndo=UndoManager.prototype.canUndo,UndoManager.prototype.hasRedo=UndoManager.prototype.canRedo,UndoManager.prototype.isClean=UndoManager.prototype.isAtBookmark,UndoManager.prototype.markClean=UndoManager.prototype.bookmark;var Range=require("./range").Range,cmp=Range.comparePoints;Range.comparePoints;function clonePos(pos){return{row:pos.row,column:pos.column}}function stringifyDelta(d){if(d=d||this,Array.isArray(d))return d.map(stringifyDelta).join("\n");var type="";return d.action?(type="insert"==d.action?"+":"-",type+="["+d.lines+"]"):d.value&&(type=Array.isArray(d.value)?d.value.map(stringifyRange).join("\n"):stringifyRange(d.value)),d.start&&(type+=stringifyRange(d)),(d.id||d.rev)&&(type+="\t("+(d.id||d.rev)+")"),type}function stringifyRange(r){return r.start.row+":"+r.start.column+"=>"+r.end.row+":"+r.end.column}function swap(d1,d2){var i1="insert"==d1.action,i2="insert"==d2.action;if(i1&&i2)if(cmp(d2.start,d1.end)>=0)shift(d2,d1,-1);else{if(!(cmp(d2.start,d1.start)<=0))return null;shift(d1,d2,1)}else if(i1&&!i2)if(cmp(d2.start,d1.end)>=0)shift(d2,d1,-1);else{if(!(cmp(d2.end,d1.start)<=0))return null;shift(d1,d2,-1)}else if(!i1&&i2)if(cmp(d2.start,d1.start)>=0)shift(d2,d1,1);else{if(!(cmp(d2.start,d1.start)<=0))return null;shift(d1,d2,1)}else if(!i1&&!i2)if(cmp(d2.start,d1.start)>=0)shift(d2,d1,1);else{if(!(cmp(d2.end,d1.start)<=0))return null;shift(d1,d2,-1)}return[d2,d1]}function swapGroups(ds1,ds2){for(var i=ds1.length;i--;)for(var j=0;j<ds2.length;j++)if(!swap(ds1[i],ds2[j])){for(;i<ds1.length;){for(;j--;)swap(ds2[j],ds1[i]);j=ds2.length,i++}return[ds1,ds2]}return ds1.selectionBefore=ds2.selectionBefore=ds1.selectionAfter=ds2.selectionAfter=null,[ds2,ds1]}function xform(d1,c1){var i1="insert"==d1.action,i2="insert"==c1.action;if(i1&&i2)cmp(d1.start,c1.start)<0?shift(c1,d1,1):shift(d1,c1,1);else if(i1&&!i2)cmp(d1.start,c1.end)>=0?shift(d1,c1,-1):(cmp(d1.start,c1.start)<=0||shift(d1,Range.fromPoints(c1.start,d1.start),-1),shift(c1,d1,1));else if(!i1&&i2)cmp(c1.start,d1.end)>=0?shift(c1,d1,-1):(cmp(c1.start,d1.start)<=0||shift(c1,Range.fromPoints(d1.start,c1.start),-1),shift(d1,c1,1));else if(!i1&&!i2)if(cmp(c1.start,d1.end)>=0)shift(c1,d1,-1);else{var before,after;if(!(cmp(c1.end,d1.start)<=0))return cmp(d1.start,c1.start)<0&&(before=d1,d1=splitDelta(d1,c1.start)),cmp(d1.end,c1.end)>0&&(after=splitDelta(d1,c1.end)),shiftPos(c1.end,d1.start,d1.end,-1),after&&!before&&(d1.lines=after.lines,d1.start=after.start,d1.end=after.end,after=d1),[c1,before,after].filter(Boolean);shift(d1,c1,-1)}return[c1,d1]}function shift(d1,d2,dir){shiftPos(d1.start,d2.start,d2.end,dir),shiftPos(d1.end,d2.start,d2.end,dir)}function shiftPos(pos,start,end,dir){pos.row==(1==dir?start:end).row&&(pos.column+=dir*(end.column-start.column)),pos.row+=dir*(end.row-start.row)}function splitDelta(c,pos){var lines=c.lines,end=c.end;c.end=clonePos(pos);var rowsBefore=c.end.row-c.start.row,otherLines=lines.splice(rowsBefore,lines.length),col=rowsBefore?pos.column:pos.column-c.start.column;return lines.push(otherLines[0].substring(0,col)),otherLines[0]=otherLines[0].substr(col),{start:clonePos(pos),end,lines:otherLines,action:c.action}}function moveDeltasByOne(redoStack,d){d=function cloneDelta(d){return{start:clonePos(d.start),end:clonePos(d.end),action:d.action,lines:d.lines.slice()}}(d);for(var j=redoStack.length;j--;){for(var deltaSet=redoStack[j],i=0;i<deltaSet.length;i++){var xformed=xform(deltaSet[i],d);d=xformed[0],2!=xformed.length&&(xformed[2]?(deltaSet.splice(i+1,1,xformed[1],xformed[2]),i++):xformed[1]||(deltaSet.splice(i,1),i--))}deltaSet.length||redoStack.splice(j,1)}return redoStack}exports.UndoManager=UndoManager})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(require,exports,module){"use strict";var dom=require("../lib/dom"),Lines=function(){function Lines(element,canvasHeight){this.element=element,this.canvasHeight=canvasHeight||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return Lines.prototype.moveContainer=function(config){dom.translate(this.element,0,-config.firstRowScreen*config.lineHeight%this.canvasHeight-config.offset*this.$offsetCoefficient)},Lines.prototype.pageChanged=function(oldConfig,newConfig){return Math.floor(oldConfig.firstRowScreen*oldConfig.lineHeight/this.canvasHeight)!==Math.floor(newConfig.firstRowScreen*newConfig.lineHeight/this.canvasHeight)},Lines.prototype.computeLineTop=function(row,config,session){var screenTop=config.firstRowScreen*config.lineHeight,screenPage=Math.floor(screenTop/this.canvasHeight);return session.documentToScreenRow(row,0)*config.lineHeight-screenPage*this.canvasHeight},Lines.prototype.computeLineHeight=function(row,config,session){return config.lineHeight*session.getRowLineCount(row)},Lines.prototype.getLength=function(){return this.cells.length},Lines.prototype.get=function(index){return this.cells[index]},Lines.prototype.shift=function(){this.$cacheCell(this.cells.shift())},Lines.prototype.pop=function(){this.$cacheCell(this.cells.pop())},Lines.prototype.push=function(cell){if(Array.isArray(cell)){this.cells.push.apply(this.cells,cell);for(var fragment=dom.createFragment(this.element),i=0;i<cell.length;i++)fragment.appendChild(cell[i].element);this.element.appendChild(fragment)}else this.cells.push(cell),this.element.appendChild(cell.element)},Lines.prototype.unshift=function(cell){if(Array.isArray(cell)){this.cells.unshift.apply(this.cells,cell);for(var fragment=dom.createFragment(this.element),i=0;i<cell.length;i++)fragment.appendChild(cell[i].element);this.element.firstChild?this.element.insertBefore(fragment,this.element.firstChild):this.element.appendChild(fragment)}else this.cells.unshift(cell),this.element.insertAdjacentElement("afterbegin",cell.element)},Lines.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},Lines.prototype.$cacheCell=function(cell){cell&&(cell.element.remove(),this.cellCache.push(cell))},Lines.prototype.createCell=function(row,config,session,initElement){var cell=this.cellCache.pop();if(!cell){var element=dom.createElement("div");initElement&&initElement(element),this.element.appendChild(element),cell={element,text:"",row}}return cell.row=row,cell},Lines}();exports.Lines=Lines})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(require,exports,module){"use strict";var dom=require("../lib/dom"),oop=require("../lib/oop"),lang=require("../lib/lang"),EventEmitter=require("../lib/event_emitter").EventEmitter,Lines=require("./lines").Lines,nls=require("../config").nls,Gutter=function(){function Gutter(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_gutter-layer",parentEl.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new Lines(this.element),this.$lines.$offsetCoefficient=1}return Gutter.prototype.setSession=function(session){this.session&&this.session.off("change",this.$updateAnnotations),this.session=session,session&&session.on("change",this.$updateAnnotations)},Gutter.prototype.addGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(row,className)},Gutter.prototype.removeGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(row,className)},Gutter.prototype.setAnnotations=function(annotations){this.$annotations=[];for(var i=0;i<annotations.length;i++){var annotation=annotations[i],row=annotation.row,rowInfo=this.$annotations[row];rowInfo||(rowInfo=this.$annotations[row]={text:[],type:[]});var annoText=annotation.text,annoType=annotation.type;annoText=annoText?lang.escapeHTML(annoText):annotation.html||"",-1===rowInfo.text.indexOf(annoText)&&(rowInfo.text.push(annoText),rowInfo.type.push(annoType));var className=annotation.className;className?rowInfo.className=className:"error"==annoType?rowInfo.className=" ace_error":"warning"==annoType&&" ace_error"!=rowInfo.className?rowInfo.className=" ace_warning":"info"!=annoType||rowInfo.className||(rowInfo.className=" ace_info")}},Gutter.prototype.$updateAnnotations=function(delta){if(this.$annotations.length){var firstRow=delta.start.row,len=delta.end.row-firstRow;if(0===len);else if("remove"==delta.action)this.$annotations.splice(firstRow,len+1,null);else{var args=new Array(len+1);args.unshift(firstRow,1),this.$annotations.splice.apply(this.$annotations,args)}}},Gutter.prototype.update=function(config){this.config=config;var session=this.session,firstRow=config.firstRow,lastRow=Math.min(config.lastRow+config.gutterOffset,session.getLength()-1);this.oldLastRow=lastRow,this.config=config,this.$lines.moveContainer(config),this.$updateCursorRow();for(var fold=session.getNextFoldLine(firstRow),foldStart=fold?fold.start.row:1/0,cell=null,index=-1,row=firstRow;;){if(row>foldStart&&(row=fold.end.row+1,foldStart=(fold=session.getNextFoldLine(row,fold))?fold.start.row:1/0),row>lastRow){for(;this.$lines.getLength()>index+1;)this.$lines.pop();break}(cell=this.$lines.get(++index))?cell.row=row:(cell=this.$lines.createCell(row,config,this.session,onCreateCell),this.$lines.push(cell)),this.$renderCell(cell,config,fold,row),row++}this._signal("afterRender"),this.$updateGutterWidth(config)},Gutter.prototype.$updateGutterWidth=function(config){var session=this.session,gutterRenderer=session.gutterRenderer||this.$renderer,firstLineNumber=session.$firstLineNumber,lastLineText=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||session.$useWrapMode)&&(lastLineText=session.getLength()+firstLineNumber-1);var gutterWidth=gutterRenderer?gutterRenderer.getWidth(session,lastLineText,config):lastLineText.toString().length*config.characterWidth,padding=this.$padding||this.$computePadding();(gutterWidth+=padding.left+padding.right)===this.gutterWidth||isNaN(gutterWidth)||(this.gutterWidth=gutterWidth,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",gutterWidth))},Gutter.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var position=this.session.selection.getCursor();this.$cursorRow!==position.row&&(this.$cursorRow=position.row)}},Gutter.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var row=this.session.selection.cursor.row;if(this.$cursorRow=row,!this.$cursorCell||this.$cursorCell.row!=row){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var cells=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<cells.length;i++){var cell=cells[i];if(cell.row>=this.$cursorRow){if(cell.row>this.$cursorRow){var fold=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&fold&&fold.start.row==cells[i-1].row))break;cell=cells[i-1]}cell.element.className="ace_gutter-active-line "+cell.element.className,this.$cursorCell=cell;break}}}}},Gutter.prototype.scrollLines=function(config){var oldConfig=this.config;if(this.config=config,this.$updateCursorRow(),this.$lines.pageChanged(oldConfig,config))return this.update(config);this.$lines.moveContainer(config);var lastRow=Math.min(config.lastRow+config.gutterOffset,this.session.getLength()-1),oldLastRow=this.oldLastRow;if(this.oldLastRow=lastRow,!oldConfig||oldLastRow<config.firstRow)return this.update(config);if(lastRow<oldConfig.firstRow)return this.update(config);if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);row>0;row--)this.$lines.shift();if(oldLastRow>lastRow)for(row=this.session.getFoldedRowCount(lastRow+1,oldLastRow);row>0;row--)this.$lines.pop();config.firstRow<oldConfig.firstRow&&this.$lines.unshift(this.$renderLines(config,config.firstRow,oldConfig.firstRow-1)),lastRow>oldLastRow&&this.$lines.push(this.$renderLines(config,oldLastRow+1,lastRow)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(config)},Gutter.prototype.$renderLines=function(config,firstRow,lastRow){for(var fragment=[],row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>lastRow);){var cell=this.$lines.createCell(row,config,this.session,onCreateCell);this.$renderCell(cell,config,foldLine,row),fragment.push(cell),row++}return fragment},Gutter.prototype.$renderCell=function(cell,config,fold,row){var element=cell.element,session=this.session,textNode=element.childNodes[0],foldWidget=element.childNodes[1],annotationNode=element.childNodes[2],annotationIconNode=annotationNode.firstChild,firstLineNumber=session.$firstLineNumber,breakpoints=session.$breakpoints,decorations=session.$decorations,gutterRenderer=session.gutterRenderer||this.$renderer,foldWidgets=this.$showFoldWidgets&&session.foldWidgets,foldStart=fold?fold.start.row:Number.MAX_VALUE,lineHeight=config.lineHeight+"px",className=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",iconClassName=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",rowText=(gutterRenderer?gutterRenderer.getText(session,row):row+firstLineNumber).toString();if(this.$highlightGutterLine&&(row==this.$cursorRow||fold&&row<this.$cursorRow&&row>=foldStart&&this.$cursorRow<=fold.end.row)&&(className+="ace_gutter-active-line ",this.$cursorCell!=cell&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=cell)),breakpoints[row]&&(className+=breakpoints[row]),decorations[row]&&(className+=decorations[row]),this.$annotations[row]&&row!==foldStart&&(className+=this.$annotations[row].className),foldWidgets){var c=foldWidgets[row];null==c&&(c=foldWidgets[row]=session.getFoldWidget(row))}if(c){var foldClass="ace_fold-widget ace_"+c,isClosedFold="start"==c&&row==foldStart&&row<fold.end.row;if(isClosedFold){foldClass+=" ace_closed";for(var foldAnnotationClass="",annotationInFold=!1,i=row+1;i<=fold.end.row;i++)if(this.$annotations[i]){if(" ace_error"===this.$annotations[i].className){annotationInFold=!0,foldAnnotationClass=" ace_error_fold";break}" ace_warning"!==this.$annotations[i].className||(annotationInFold=!0,foldAnnotationClass=" ace_warning_fold")}className+=foldAnnotationClass}else foldClass+=" ace_open";foldWidget.className!=foldClass&&(foldWidget.className=foldClass),dom.setStyle(foldWidget.style,"height",lineHeight),dom.setStyle(foldWidget.style,"display","inline-block"),foldWidget.setAttribute("role","button"),foldWidget.setAttribute("tabindex","-1");var foldRange=session.getFoldWidgetRange(row);foldRange?foldWidget.setAttribute("aria-label",nls("Toggle code folding, rows $0 through $1",[foldRange.start.row+1,foldRange.end.row+1])):fold?foldWidget.setAttribute("aria-label",nls("Toggle code folding, rows $0 through $1",[fold.start.row+1,fold.end.row+1])):foldWidget.setAttribute("aria-label",nls("Toggle code folding, row $0",[row+1])),isClosedFold?(foldWidget.setAttribute("aria-expanded","false"),foldWidget.setAttribute("title",nls("Unfold code"))):(foldWidget.setAttribute("aria-expanded","true"),foldWidget.setAttribute("title",nls("Fold code")))}else foldWidget&&(dom.setStyle(foldWidget.style,"display","none"),foldWidget.setAttribute("tabindex","0"),foldWidget.removeAttribute("role"),foldWidget.removeAttribute("aria-label"));return annotationInFold&&this.$showFoldedAnnotations?(annotationNode.className="ace_gutter_annotation",annotationIconNode.className=iconClassName,annotationIconNode.className+=foldAnnotationClass,dom.setStyle(annotationIconNode.style,"height",lineHeight),dom.setStyle(annotationNode.style,"display","block"),dom.setStyle(annotationNode.style,"height",lineHeight),annotationNode.setAttribute("aria-label",nls("Read annotations row $0",[rowText])),annotationNode.setAttribute("tabindex","-1"),annotationNode.setAttribute("role","button")):this.$annotations[row]?(annotationNode.className="ace_gutter_annotation",annotationIconNode.className=iconClassName,this.$useSvgGutterIcons?annotationIconNode.className+=this.$annotations[row].className:element.classList.add(this.$annotations[row].className.replace(" ","")),dom.setStyle(annotationIconNode.style,"height",lineHeight),dom.setStyle(annotationNode.style,"display","block"),dom.setStyle(annotationNode.style,"height",lineHeight),annotationNode.setAttribute("aria-label",nls("Read annotations row $0",[rowText])),annotationNode.setAttribute("tabindex","-1"),annotationNode.setAttribute("role","button")):(dom.setStyle(annotationNode.style,"display","none"),annotationNode.removeAttribute("aria-label"),annotationNode.removeAttribute("role"),annotationNode.setAttribute("tabindex","0")),rowText!==textNode.data&&(textNode.data=rowText),element.className!=className&&(element.className=className),dom.setStyle(cell.element.style,"height",this.$lines.computeLineHeight(row,config,session)+"px"),dom.setStyle(cell.element.style,"top",this.$lines.computeLineTop(row,config,session)+"px"),cell.text=rowText,"none"===annotationNode.style.display&&"none"===foldWidget.style.display?cell.element.setAttribute("aria-hidden",!0):cell.element.setAttribute("aria-hidden",!1),cell},Gutter.prototype.setHighlightGutterLine=function(highlightGutterLine){this.$highlightGutterLine=highlightGutterLine},Gutter.prototype.setShowLineNumbers=function(show){this.$renderer=!show&&{getWidth:function(){return 0},getText:function(){return""}}},Gutter.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},Gutter.prototype.setShowFoldWidgets=function(show){show?dom.addCssClass(this.element,"ace_folding-enabled"):dom.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=show,this.$padding=null},Gutter.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},Gutter.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var style=dom.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(style.borderLeftWidth)||0)+(parseInt(style.paddingLeft)||0)+1,this.$padding.right=(parseInt(style.borderRightWidth)||0)+(parseInt(style.paddingRight)||0),this.$padding},Gutter.prototype.getRegion=function(point){var padding=this.$padding||this.$computePadding(),rect=this.element.getBoundingClientRect();return point.x<padding.left+rect.left?"markers":this.$showFoldWidgets&&point.x>rect.right-padding.right?"foldWidgets":void 0},Gutter}();function onCreateCell(element){var textNode=document.createTextNode("");element.appendChild(textNode);var foldWidget=dom.createElement("span");element.appendChild(foldWidget);var annotationNode=dom.createElement("span");element.appendChild(annotationNode);var annotationIconNode=dom.createElement("span");return annotationNode.appendChild(annotationIconNode),element}Gutter.prototype.$fixedWidth=!1,Gutter.prototype.$highlightGutterLine=!0,Gutter.prototype.$renderer="",Gutter.prototype.$showLineNumbers=!0,Gutter.prototype.$showFoldWidgets=!0,oop.implement(Gutter.prototype,EventEmitter),exports.Gutter=Gutter})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(require,exports,module){"use strict";var Range=require("../range").Range,dom=require("../lib/dom"),Marker=function(){function Marker(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_marker-layer",parentEl.appendChild(this.element)}return Marker.prototype.setPadding=function(padding){this.$padding=padding},Marker.prototype.setSession=function(session){this.session=session},Marker.prototype.setMarkers=function(markers){this.markers=markers},Marker.prototype.elt=function(className,css){var x=-1!=this.i&&this.element.childNodes[this.i];x?this.i++:(x=document.createElement("div"),this.element.appendChild(x),this.i=-1),x.style.cssText=css,x.className=className},Marker.prototype.update=function(config){if(config){var html;for(var key in this.config=config,this.i=0,this.markers){var marker=this.markers[key];if(marker.range){var range=marker.range.clipRows(config.firstRow,config.lastRow);if(!range.isEmpty())if(range=range.toScreenRange(this.session),marker.renderer){var top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;marker.renderer(html,range,left,top,config)}else"fullLine"==marker.type?this.drawFullLineMarker(html,range,marker.clazz,config):"screenLine"==marker.type?this.drawScreenLineMarker(html,range,marker.clazz,config):range.isMultiLine()?"text"==marker.type?this.drawTextMarker(html,range,marker.clazz,config):this.drawMultiLineMarker(html,range,marker.clazz,config):this.drawSingleLineMarker(html,range,marker.clazz+" ace_start ace_br15",config)}else marker.update(html,this,this.session,config)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},Marker.prototype.$getTop=function(row,layerConfig){return(row-layerConfig.firstRowScreen)*layerConfig.lineHeight},Marker.prototype.drawTextMarker=function(stringBuilder,range,clazz,layerConfig,extraStyle){for(var session=this.session,start=range.start.row,end=range.end.row,row=start,prev=0,curr=0,next=session.getScreenLastRowColumn(row),lineRange=new Range(row,range.start.column,row,curr);row<=end;row++)lineRange.start.row=lineRange.end.row=row,lineRange.start.column=row==start?range.start.column:session.getRowWrapIndent(row),lineRange.end.column=next,prev=curr,curr=next,next=row+1<end?session.getScreenLastRowColumn(row+1):row==end?0:range.end.column,this.drawSingleLineMarker(stringBuilder,lineRange,clazz+(row==start?" ace_start":"")+" ace_br"+((row==start||row==start+1&&range.start.column?1:0)|(prev<curr?2:0)|(curr>next?4:0)|(row==end?8:0)),layerConfig,row==end?0:1,extraStyle)},Marker.prototype.drawMultiLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var padding=this.$padding,height=config.lineHeight,top=this.$getTop(range.start.row,config),left=padding+range.start.column*config.characterWidth;(extraStyle=extraStyle||"",this.session.$bidiHandler.isBidiRow(range.start.row))?((range1=range.clone()).end.row=range1.start.row,range1.end.column=this.session.getLine(range1.start.row).length,this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br1 ace_start",config,null,extraStyle)):this.elt(clazz+" ace_br1 ace_start","height:"+height+"px;right:0;top:"+top+"px;left:"+left+"px;"+(extraStyle||""));if(this.session.$bidiHandler.isBidiRow(range.end.row)){var range1;(range1=range.clone()).start.row=range1.end.row,range1.start.column=0,this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br12",config,null,extraStyle)}else{top=this.$getTop(range.end.row,config);var width=range.end.column*config.characterWidth;this.elt(clazz+" ace_br12","height:"+height+"px;width:"+width+"px;top:"+top+"px;left:"+padding+"px;"+(extraStyle||""))}if(!((height=(range.end.row-range.start.row-1)*config.lineHeight)<=0)){top=this.$getTop(range.start.row+1,config);var radiusClass=(range.start.column?1:0)|(range.end.column?0:8);this.elt(clazz+(radiusClass?" ace_br"+radiusClass:""),"height:"+height+"px;right:0;top:"+top+"px;left:"+padding+"px;"+(extraStyle||""))}},Marker.prototype.drawSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){if(this.session.$bidiHandler.isBidiRow(range.start.row))return this.drawBidiSingleLineMarker(stringBuilder,range,clazz,config,extraLength,extraStyle);var height=config.lineHeight,width=(range.end.column+(extraLength||0)-range.start.column)*config.characterWidth,top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;this.elt(clazz,"height:"+height+"px;width:"+width+"px;top:"+top+"px;left:"+left+"px;"+(extraStyle||""))},Marker.prototype.drawBidiSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,top=this.$getTop(range.start.row,config),padding=this.$padding;this.session.$bidiHandler.getSelections(range.start.column,range.end.column).forEach((function(selection){this.elt(clazz,"height:"+height+"px;width:"+(selection.width+(extraLength||0))+"px;top:"+top+"px;left:"+(padding+selection.left)+"px;"+(extraStyle||""))}),this)},Marker.prototype.drawFullLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;range.start.row!=range.end.row&&(height+=this.$getTop(range.end.row,config)-top),this.elt(clazz,"height:"+height+"px;top:"+top+"px;left:0;right:0;"+(extraStyle||""))},Marker.prototype.drawScreenLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;this.elt(clazz,"height:"+height+"px;top:"+top+"px;left:0;right:0;"+(extraStyle||""))},Marker}();Marker.prototype.$padding=0,exports.Marker=Marker})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),dom=require("../lib/dom"),lang=require("../lib/lang"),Lines=require("./lines").Lines,EventEmitter=require("../lib/event_emitter").EventEmitter,nls=require("../config").nls,Text=function(){function Text(parentEl){this.dom=dom,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",parentEl.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new Lines(this.element)}return Text.prototype.$updateEolChar=function(){var doc=this.session.doc,EOL_CHAR="\n"==doc.getNewLineCharacter()&&"windows"!=doc.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=EOL_CHAR)return this.EOL_CHAR=EOL_CHAR,!0},Text.prototype.setPadding=function(padding){this.$padding=padding,this.element.style.margin="0 "+padding+"px"},Text.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},Text.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},Text.prototype.$setFontMetrics=function(measure){this.$fontMetrics=measure,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},Text.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},Text.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},Text.prototype.setSession=function(session){this.session=session,session&&this.$computeTabString()},Text.prototype.setShowInvisibles=function(showInvisibles){return this.showInvisibles!=showInvisibles&&(this.showInvisibles=showInvisibles,"string"==typeof showInvisibles?(this.showSpaces=/tab/i.test(showInvisibles),this.showTabs=/space/i.test(showInvisibles),this.showEOL=/eol/i.test(showInvisibles)):this.showSpaces=this.showTabs=this.showEOL=showInvisibles,this.$computeTabString(),!0)},Text.prototype.setDisplayIndentGuides=function(display){return this.displayIndentGuides!=display&&(this.displayIndentGuides=display,this.$computeTabString(),!0)},Text.prototype.setHighlightIndentGuides=function(highlight){return this.$highlightIndentGuides!==highlight&&(this.$highlightIndentGuides=highlight,highlight)},Text.prototype.$computeTabString=function(){var tabSize=this.session.getTabSize();this.tabSize=tabSize;for(var tabStr=this.$tabStrings=[0],i=1;i<tabSize+1;i++){if(this.showTabs)(span=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",span.textContent=lang.stringRepeat(this.TAB_CHAR,i),tabStr.push(span);else tabStr.push(this.dom.createTextNode(lang.stringRepeat(" ",i),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var span,spaceClass=this.showSpaces?" ace_invisible ace_invisible_space":"",spaceContent=this.showSpaces?lang.stringRepeat(this.SPACE_CHAR,this.tabSize):lang.stringRepeat(" ",this.tabSize),tabClass=this.showTabs?" ace_invisible ace_invisible_tab":"",tabContent=this.showTabs?lang.stringRepeat(this.TAB_CHAR,this.tabSize):spaceContent;(span=this.dom.createElement("span")).className="ace_indent-guide"+spaceClass,span.textContent=spaceContent,this.$tabStrings[" "]=span,(span=this.dom.createElement("span")).className="ace_indent-guide"+tabClass,span.textContent=tabContent,this.$tabStrings["\t"]=span}},Text.prototype.updateLines=function(config,firstRow,lastRow){if(this.config.lastRow!=config.lastRow||this.config.firstRow!=config.firstRow)return this.update(config);this.config=config;for(var first=Math.max(firstRow,config.firstRow),last=Math.min(lastRow,config.lastRow),lineElements=this.element.childNodes,lineElementsIdx=0,row=config.firstRow;row<first;row++){if(foldLine=this.session.getFoldLine(row)){if(foldLine.containsRow(first)){first=foldLine.start.row;break}row=foldLine.end.row}lineElementsIdx++}for(var foldLine,heightChanged=!1,foldStart=(row=first,(foldLine=this.session.getNextFoldLine(row))?foldLine.start.row:1/0);row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>last);){var lineElement=lineElements[lineElementsIdx++];if(lineElement){this.dom.removeChildren(lineElement),this.$renderLine(lineElement,row,row==foldStart&&foldLine),heightChanged&&(lineElement.style.top=this.$lines.computeLineTop(row,config,this.session)+"px");var height=config.lineHeight*this.session.getRowLength(row)+"px";lineElement.style.height!=height&&(heightChanged=!0,lineElement.style.height=height)}row++}if(heightChanged)for(;lineElementsIdx<this.$lines.cells.length;){var cell=this.$lines.cells[lineElementsIdx++];cell.element.style.top=this.$lines.computeLineTop(cell.row,config,this.session)+"px"}},Text.prototype.scrollLines=function(config){var oldConfig=this.config;if(this.config=config,this.$lines.pageChanged(oldConfig,config))return this.update(config);this.$lines.moveContainer(config);var lastRow=config.lastRow,oldLastRow=oldConfig?oldConfig.lastRow:-1;if(!oldConfig||oldLastRow<config.firstRow)return this.update(config);if(lastRow<oldConfig.firstRow)return this.update(config);if(!oldConfig||oldConfig.lastRow<config.firstRow)return this.update(config);if(config.lastRow<oldConfig.firstRow)return this.update(config);if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);row>0;row--)this.$lines.shift();if(oldConfig.lastRow>config.lastRow)for(row=this.session.getFoldedRowCount(config.lastRow+1,oldConfig.lastRow);row>0;row--)this.$lines.pop();config.firstRow<oldConfig.firstRow&&this.$lines.unshift(this.$renderLinesFragment(config,config.firstRow,oldConfig.firstRow-1)),config.lastRow>oldConfig.lastRow&&this.$lines.push(this.$renderLinesFragment(config,oldConfig.lastRow+1,config.lastRow)),this.$highlightIndentGuide()},Text.prototype.$renderLinesFragment=function(config,firstRow,lastRow){for(var fragment=[],row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row>foldStart&&(row=foldLine.end.row+1,foldStart=(foldLine=this.session.getNextFoldLine(row,foldLine))?foldLine.start.row:1/0),!(row>lastRow);){var line=this.$lines.createCell(row,config,this.session),lineEl=line.element;this.dom.removeChildren(lineEl),dom.setStyle(lineEl.style,"height",this.$lines.computeLineHeight(row,config,this.session)+"px"),dom.setStyle(lineEl.style,"top",this.$lines.computeLineTop(row,config,this.session)+"px"),this.$renderLine(lineEl,row,row==foldStart&&foldLine),this.$useLineGroups()?lineEl.className="ace_line_group":lineEl.className="ace_line",fragment.push(line),row++}return fragment},Text.prototype.update=function(config){this.$lines.moveContainer(config),this.config=config;for(var firstRow=config.firstRow,lastRow=config.lastRow,lines=this.$lines;lines.getLength();)lines.pop();lines.push(this.$renderLinesFragment(config,firstRow,lastRow))},Text.prototype.$renderToken=function(parent,screenColumn,token,value){for(var m,re=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,valueFragment=this.dom.createFragment(this.element),i=0;m=re.exec(value);){var tab=m[1],simpleSpace=m[2],controlCharacter=m[3],cjkSpace=m[4],cjk=m[5];if(this.showSpaces||!simpleSpace){var before=i!=m.index?value.slice(i,m.index):"";if(i=m.index+m[0].length,before&&valueFragment.appendChild(this.dom.createTextNode(before,this.element)),tab){var tabSize=this.session.getScreenTabSize(screenColumn+m.index);valueFragment.appendChild(this.$tabStrings[tabSize].cloneNode(!0)),screenColumn+=tabSize-1}else if(simpleSpace){if(this.showSpaces)(span=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",span.textContent=lang.stringRepeat(this.SPACE_CHAR,simpleSpace.length),valueFragment.appendChild(span);else valueFragment.appendChild(this.com.createTextNode(simpleSpace,this.element))}else if(controlCharacter){(span=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",span.textContent=lang.stringRepeat(this.SPACE_CHAR,controlCharacter.length),valueFragment.appendChild(span)}else if(cjkSpace){screenColumn+=1,(span=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",span.className=this.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",span.textContent=this.showSpaces?this.SPACE_CHAR:cjkSpace,valueFragment.appendChild(span)}else if(cjk){screenColumn+=1,(span=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",span.className="ace_cjk",span.textContent=cjk,valueFragment.appendChild(span)}}}if(valueFragment.appendChild(this.dom.createTextNode(i?value.slice(i):value,this.element)),this.$textToken[token.type])parent.appendChild(valueFragment);else{var classes="ace_"+token.type.replace(/\./g," ace_"),span=this.dom.createElement("span");"fold"==token.type&&(span.style.width=token.value.length*this.config.characterWidth+"px",span.setAttribute("title",nls("Unfold code"))),span.className=classes,span.appendChild(valueFragment),parent.appendChild(span)}return screenColumn+value.length},Text.prototype.renderIndentGuide=function(parent,value,max){var cols=value.search(this.$indentGuideRe);if(cols<=0||cols>=max)return value;if(" "==value[0]){for(var count=(cols-=cols%this.tabSize)/this.tabSize,i=0;i<count;i++)parent.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),value.substr(cols)}if("\t"==value[0]){for(i=0;i<cols;i++)parent.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),value.substr(cols)}return this.$highlightIndentGuide(),value},Text.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var lines=this.session.doc.$lines;if(lines){var cursor=this.session.selection.getCursor(),initialIndent=/^\s*/.exec(this.session.doc.getLine(cursor.row))[0].length,elementIndentLevel=Math.floor(initialIndent/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:elementIndentLevel,start:cursor.row},this.session.$bracketHighlight)for(var ranges=this.session.$bracketHighlight.ranges,i=0;i<ranges.length;i++)if(cursor.row!==ranges[i].start.row){this.$highlightIndentGuideMarker.end=ranges[i].start.row,cursor.row>ranges[i].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==lines[cursor.row]&&cursor.column===lines[cursor.row].length){this.$highlightIndentGuideMarker.dir=1;for(i=cursor.row+1;i<lines.length;i++){var line=lines[i],currentIndent=/^\s*/.exec(line)[0].length;if(""!==line&&(this.$highlightIndentGuideMarker.end=i,currentIndent<=initialIndent))break}}this.$renderHighlightIndentGuide()}}},Text.prototype.$clearActiveIndentGuide=function(){for(var cells=this.$lines.cells,i=0;i<cells.length;i++){var childNodes=cells[i].element.childNodes;if(childNodes.length>0)for(var j=0;j<childNodes.length;j++)if(childNodes[j].classList&&childNodes[j].classList.contains("ace_indent-guide-active")){childNodes[j].classList.remove("ace_indent-guide-active");break}}},Text.prototype.$setIndentGuideActive=function(cell,indentLevel){if(""!==this.session.doc.getLine(cell.row)){var childNodes=cell.element.childNodes;if(childNodes){var node=childNodes[indentLevel-1];node&&node.classList&&node.classList.contains("ace_indent-guide")&&node.classList.add("ace_indent-guide-active")}}},Text.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var cells=this.$lines.cells;this.$clearActiveIndentGuide();var indentLevel=this.$highlightIndentGuideMarker.indentLevel;if(0!==indentLevel)if(1===this.$highlightIndentGuideMarker.dir)for(var i=0;i<cells.length;i++){var cell=cells[i];if(this.$highlightIndentGuideMarker.end&&cell.row>=this.$highlightIndentGuideMarker.start+1){if(cell.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(cell,indentLevel)}}else for(i=cells.length-1;i>=0;i--){cell=cells[i];if(this.$highlightIndentGuideMarker.end&&cell.row<this.$highlightIndentGuideMarker.start){if(cell.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(cell,indentLevel)}}}},Text.prototype.$createLineElement=function(parent){var lineEl=this.dom.createElement("div");return lineEl.className="ace_line",lineEl.style.height=this.config.lineHeight+"px",lineEl},Text.prototype.$renderWrappedLine=function(parent,tokens,splits){var chars=0,split=0,splitChars=splits[0],screenColumn=0,lineEl=this.$createLineElement();parent.appendChild(lineEl);for(var i=0;i<tokens.length;i++){var token=tokens[i],value=token.value;if(0==i&&this.displayIndentGuides){if(chars=value.length,!(value=this.renderIndentGuide(lineEl,value,splitChars)))continue;chars-=value.length}if(chars+value.length<splitChars)screenColumn=this.$renderToken(lineEl,screenColumn,token,value),chars+=value.length;else{for(;chars+value.length>=splitChars;)screenColumn=this.$renderToken(lineEl,screenColumn,token,value.substring(0,splitChars-chars)),value=value.substring(splitChars-chars),chars=splitChars,lineEl=this.$createLineElement(),parent.appendChild(lineEl),lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat("",splits.indent),this.element)),screenColumn=0,splitChars=splits[++split]||Number.MAX_VALUE;0!=value.length&&(chars+=value.length,screenColumn=this.$renderToken(lineEl,screenColumn,token,value))}}splits[splits.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(lineEl,screenColumn,null,"",!0)},Text.prototype.$renderSimpleLine=function(parent,tokens){for(var screenColumn=0,i=0;i<tokens.length;i++){var token=tokens[i],value=token.value;if(0!=i||!this.displayIndentGuides||(value=this.renderIndentGuide(parent,value))){if(screenColumn+value.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(parent,screenColumn,token,value);screenColumn=this.$renderToken(parent,screenColumn,token,value)}}},Text.prototype.$renderOverflowMessage=function(parent,screenColumn,token,value,hide){token&&this.$renderToken(parent,screenColumn,token,value.slice(0,this.MAX_LINE_LENGTH-screenColumn));var overflowEl=this.dom.createElement("span");overflowEl.className="ace_inline_button ace_keyword ace_toggle_wrap",overflowEl.textContent=hide?"<hide>":"<click to see more...>",parent.appendChild(overflowEl)},Text.prototype.$renderLine=function(parent,row,foldLine){if(foldLine||0==foldLine||(foldLine=this.session.getFoldLine(row)),foldLine)var tokens=this.$getFoldLineTokens(row,foldLine);else tokens=this.session.getTokens(row);var lastLineEl=parent;if(tokens.length){var splits=this.session.getRowSplitData(row);if(splits&&splits.length){this.$renderWrappedLine(parent,tokens,splits);lastLineEl=parent.lastChild}else{lastLineEl=parent;this.$useLineGroups()&&(lastLineEl=this.$createLineElement(),parent.appendChild(lastLineEl)),this.$renderSimpleLine(lastLineEl,tokens)}}else this.$useLineGroups()&&(lastLineEl=this.$createLineElement(),parent.appendChild(lastLineEl));if(this.showEOL&&lastLineEl){foldLine&&(row=foldLine.end.row);var invisibleEl=this.dom.createElement("span");invisibleEl.className="ace_invisible ace_invisible_eol",invisibleEl.textContent=row==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,lastLineEl.appendChild(invisibleEl)}},Text.prototype.$getFoldLineTokens=function(row,foldLine){var session=this.session,renderTokens=[];var tokens=session.getTokens(row);return foldLine.walk((function(placeholder,row,column,lastColumn,isNewRow){null!=placeholder?renderTokens.push({type:"fold",value:placeholder}):(isNewRow&&(tokens=session.getTokens(row)),tokens.length&&function addTokens(tokens,from,to){for(var idx=0,col=0;col+tokens[idx].value.length<from;)if(col+=tokens[idx].value.length,++idx==tokens.length)return;for(col!=from&&((value=tokens[idx].value.substring(from-col)).length>to-from&&(value=value.substring(0,to-from)),renderTokens.push({type:tokens[idx].type,value}),col=from+value.length,idx+=1);col<to&&idx<tokens.length;){var value;(value=tokens[idx].value).length+col>to?renderTokens.push({type:tokens[idx].type,value:value.substring(0,to-col)}):renderTokens.push(tokens[idx]),col+=value.length,idx+=1}}(tokens,lastColumn,column))}),foldLine.end.row,this.session.getLine(foldLine.end.row).length),renderTokens},Text.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},Text}();Text.prototype.$textToken={text:!0,rparen:!0,lparen:!0},Text.prototype.EOF_CHAR="",Text.prototype.EOL_CHAR_LF="",Text.prototype.EOL_CHAR_CRLF="",Text.prototype.EOL_CHAR=Text.prototype.EOL_CHAR_LF,Text.prototype.TAB_CHAR="",Text.prototype.SPACE_CHAR="",Text.prototype.$padding=0,Text.prototype.MAX_LINE_LENGTH=1e4,Text.prototype.showInvisibles=!1,Text.prototype.showSpaces=!1,Text.prototype.showTabs=!1,Text.prototype.showEOL=!1,Text.prototype.displayIndentGuides=!0,Text.prototype.$highlightIndentGuides=!0,Text.prototype.$tabStrings=[],Text.prototype.destroy={},Text.prototype.onChangeTabSize=Text.prototype.$computeTabString,oop.implement(Text.prototype,EventEmitter),exports.Text=Text})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(require,exports,module){"use strict";var dom=require("../lib/dom"),Cursor=function(){function Cursor(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_cursor-layer",parentEl.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),dom.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return Cursor.prototype.$updateOpacity=function(val){for(var cursors=this.cursors,i=cursors.length;i--;)dom.setStyle(cursors[i].style,"opacity",val?"":"0")},Cursor.prototype.$startCssAnimation=function(){for(var cursors=this.cursors,i=cursors.length;i--;)cursors[i].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&dom.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},Cursor.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,dom.removeCssClass(this.element,"ace_animate-blinking")},Cursor.prototype.setPadding=function(padding){this.$padding=padding},Cursor.prototype.setSession=function(session){this.session=session},Cursor.prototype.setBlinking=function(blinking){blinking!=this.isBlinking&&(this.isBlinking=blinking,this.restartTimer())},Cursor.prototype.setBlinkInterval=function(blinkInterval){blinkInterval!=this.blinkInterval&&(this.blinkInterval=blinkInterval,this.restartTimer())},Cursor.prototype.setSmoothBlinking=function(smoothBlinking){smoothBlinking!=this.smoothBlinking&&(this.smoothBlinking=smoothBlinking,dom.setCssClass(this.element,"ace_smooth-blinking",smoothBlinking),this.$updateCursors(!0),this.restartTimer())},Cursor.prototype.addCursor=function(){var el=dom.createElement("div");return el.className="ace_cursor",this.element.appendChild(el),this.cursors.push(el),el},Cursor.prototype.removeCursor=function(){if(this.cursors.length>1){var el=this.cursors.pop();return el.parentNode.removeChild(el),el}},Cursor.prototype.hideCursor=function(){this.isVisible=!1,dom.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},Cursor.prototype.showCursor=function(){this.isVisible=!0,dom.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},Cursor.prototype.restartTimer=function(){var update=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,dom.removeCssClass(this.element,"ace_smooth-blinking")),update(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&dom.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),dom.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var blink=function(){this.timeoutId=setTimeout((function(){update(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){update(!0),blink()}),this.blinkInterval),blink()}else this.$stopCssAnimation()},Cursor.prototype.getPixelPosition=function(position,onScreen){if(!this.config||!this.session)return{left:0,top:0};position||(position=this.session.selection.getCursor());var pos=this.session.documentToScreenPosition(position);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,position.row)?this.session.$bidiHandler.getPosLeft(pos.column):pos.column*this.config.characterWidth),top:(pos.row-(onScreen?this.config.firstRowScreen:0))*this.config.lineHeight}},Cursor.prototype.isCursorInView=function(pixelPos,config){return pixelPos.top>=0&&pixelPos.top<config.maxHeight},Cursor.prototype.update=function(config){this.config=config;var selections=this.session.$selectionMarkers,i=0,cursorIndex=0;void 0!==selections&&0!==selections.length||(selections=[{cursor:null}]);i=0;for(var n=selections.length;i<n;i++){var pixelPos=this.getPixelPosition(selections[i].cursor,!0);if(!((pixelPos.top>config.height+config.offset||pixelPos.top<0)&&i>1)){var element=this.cursors[cursorIndex++]||this.addCursor(),style=element.style;this.drawCursor?this.drawCursor(element,pixelPos,config,selections[i],this.session):this.isCursorInView(pixelPos,config)?(dom.setStyle(style,"display","block"),dom.translate(element,pixelPos.left,pixelPos.top),dom.setStyle(style,"width",Math.round(config.characterWidth)+"px"),dom.setStyle(style,"height",config.lineHeight+"px")):dom.setStyle(style,"display","none")}}for(;this.cursors.length>cursorIndex;)this.removeCursor();var overwrite=this.session.getOverwrite();this.$setOverwrite(overwrite),this.$pixelPos=pixelPos,this.restartTimer()},Cursor.prototype.$setOverwrite=function(overwrite){overwrite!=this.overwrite&&(this.overwrite=overwrite,overwrite?dom.addCssClass(this.element,"ace_overwrite-cursors"):dom.removeCssClass(this.element,"ace_overwrite-cursors"))},Cursor.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},Cursor}();Cursor.prototype.$padding=0,Cursor.prototype.drawCursor=null,exports.Cursor=Cursor})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(require,exports,module){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),oop=require("./lib/oop"),dom=require("./lib/dom"),event=require("./lib/event"),EventEmitter=require("./lib/event_emitter").EventEmitter,Scrollbar=function(){function Scrollbar(parent,classSuffix){this.element=dom.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+classSuffix,this.inner=dom.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),parent.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,event.addListener(this.element,"scroll",this.onScroll.bind(this)),event.addListener(this.element,"mousedown",event.preventDefault)}return Scrollbar.prototype.setVisible=function(isVisible){this.element.style.display=isVisible?"":"none",this.isVisible=isVisible,this.coeff=1},Scrollbar}();oop.implement(Scrollbar.prototype,EventEmitter);var VScrollBar=function(_super){function VScrollBar(parent,renderer){var _this=_super.call(this,parent,"-v")||this;return _this.scrollTop=0,_this.scrollHeight=0,renderer.$scrollbarWidth=_this.width=dom.scrollbarWidth(parent.ownerDocument),_this.inner.style.width=_this.element.style.width=(_this.width||15)+5+"px",_this.$minWidth=0,_this}return __extends(VScrollBar,_super),VScrollBar.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var h=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-h)/(this.coeff-h)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},VScrollBar.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},VScrollBar.prototype.setHeight=function(height){this.element.style.height=height+"px"},VScrollBar.prototype.setScrollHeight=function(height){this.scrollHeight=height,height>32768?(this.coeff=32768/height,height=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=height+"px"},VScrollBar.prototype.setScrollTop=function(scrollTop){this.scrollTop!=scrollTop&&(this.skipEvent=!0,this.scrollTop=scrollTop,this.element.scrollTop=scrollTop*this.coeff)},VScrollBar}(Scrollbar);VScrollBar.prototype.setInnerHeight=VScrollBar.prototype.setScrollHeight;var HScrollBar=function(_super){function HScrollBar(parent,renderer){var _this=_super.call(this,parent,"-h")||this;return _this.scrollLeft=0,_this.height=renderer.$scrollbarWidth,_this.inner.style.height=_this.element.style.height=(_this.height||15)+5+"px",_this}return __extends(HScrollBar,_super),HScrollBar.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},HScrollBar.prototype.getHeight=function(){return this.isVisible?this.height:0},HScrollBar.prototype.setWidth=function(width){this.element.style.width=width+"px"},HScrollBar.prototype.setInnerWidth=function(width){this.inner.style.width=width+"px"},HScrollBar.prototype.setScrollWidth=function(width){this.inner.style.width=width+"px"},HScrollBar.prototype.setScrollLeft=function(scrollLeft){this.scrollLeft!=scrollLeft&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=scrollLeft)},HScrollBar}(Scrollbar);exports.ScrollBar=VScrollBar,exports.ScrollBarV=VScrollBar,exports.ScrollBarH=HScrollBar,exports.VScrollBar=VScrollBar,exports.HScrollBar=HScrollBar})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(require,exports,module){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),oop=require("./lib/oop"),dom=require("./lib/dom"),event=require("./lib/event"),EventEmitter=require("./lib/event_emitter").EventEmitter;dom.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var ScrollBar=function(){function ScrollBar(parent,classSuffix){this.element=dom.createElement("div"),this.element.className="ace_sb"+classSuffix,this.inner=dom.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,parent.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,event.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return ScrollBar.prototype.setVisible=function(isVisible){this.element.style.display=isVisible?"":"none",this.isVisible=isVisible,this.coeff=1},ScrollBar}();oop.implement(ScrollBar.prototype,EventEmitter);var VScrollBar=function(_super){function VScrollBar(parent,renderer){var _this=_super.call(this,parent,"-v")||this;return _this.scrollTop=0,_this.scrollHeight=0,_this.parent=parent,_this.width=_this.VScrollWidth,_this.renderer=renderer,_this.inner.style.width=_this.element.style.width=(_this.width||15)+"px",_this.$minWidth=0,_this}return __extends(VScrollBar,_super),VScrollBar.prototype.onMouseDown=function(eType,e){if("mousedown"===eType&&0===event.getButton(e)&&2!==e.detail){if(e.target===this.inner){var self=this,mousePageY=e.clientY,startY=e.clientY,startTop=this.thumbTop;event.capture(this.inner,(function(e){mousePageY=e.clientY}),(function(){clearInterval(timerId)}));var timerId=setInterval((function(){if(void 0!==mousePageY){var scrollTop=self.scrollTopFromThumbTop(startTop+mousePageY-startY);scrollTop!==self.scrollTop&&self._emit("scroll",{data:scrollTop})}}),20);return event.preventDefault(e)}var top=e.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(top)}),event.preventDefault(e)}},VScrollBar.prototype.getHeight=function(){return this.height},VScrollBar.prototype.scrollTopFromThumbTop=function(thumbTop){var scrollTop=thumbTop*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(scrollTop>>=0)<0?scrollTop=0:scrollTop>this.pageHeight-this.viewHeight&&(scrollTop=this.pageHeight-this.viewHeight),scrollTop},VScrollBar.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},VScrollBar.prototype.setHeight=function(height){this.height=Math.max(0,height),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},VScrollBar.prototype.setScrollHeight=function(height,force){(this.pageHeight!==height||force)&&(this.pageHeight=height,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},VScrollBar.prototype.setScrollTop=function(scrollTop){this.scrollTop=scrollTop,scrollTop<0&&(scrollTop=0),this.thumbTop=scrollTop*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},VScrollBar}(ScrollBar);VScrollBar.prototype.setInnerHeight=VScrollBar.prototype.setScrollHeight;var HScrollBar=function(_super){function HScrollBar(parent,renderer){var _this=_super.call(this,parent,"-h")||this;return _this.scrollLeft=0,_this.scrollWidth=0,_this.height=_this.HScrollHeight,_this.inner.style.height=_this.element.style.height=(_this.height||12)+"px",_this.renderer=renderer,_this}return __extends(HScrollBar,_super),HScrollBar.prototype.onMouseDown=function(eType,e){if("mousedown"===eType&&0===event.getButton(e)&&2!==e.detail){if(e.target===this.inner){var self=this,mousePageX=e.clientX,startX=e.clientX,startLeft=this.thumbLeft;event.capture(this.inner,(function(e){mousePageX=e.clientX}),(function(){clearInterval(timerId)}));var timerId=setInterval((function(){if(void 0!==mousePageX){var scrollLeft=self.scrollLeftFromThumbLeft(startLeft+mousePageX-startX);scrollLeft!==self.scrollLeft&&self._emit("scroll",{data:scrollLeft})}}),20);return event.preventDefault(e)}var left=e.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(left)}),event.preventDefault(e)}},HScrollBar.prototype.getHeight=function(){return this.isVisible?this.height:0},HScrollBar.prototype.scrollLeftFromThumbLeft=function(thumbLeft){var scrollLeft=thumbLeft*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(scrollLeft>>=0)<0?scrollLeft=0:scrollLeft>this.pageWidth-this.viewWidth&&(scrollLeft=this.pageWidth-this.viewWidth),scrollLeft},HScrollBar.prototype.setWidth=function(width){this.width=Math.max(0,width),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},HScrollBar.prototype.setScrollWidth=function(width,force){(this.pageWidth!==width||force)&&(this.pageWidth=width,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},HScrollBar.prototype.setScrollLeft=function(scrollLeft){this.scrollLeft=scrollLeft,scrollLeft<0&&(scrollLeft=0),this.thumbLeft=scrollLeft*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},HScrollBar}(ScrollBar);HScrollBar.prototype.setInnerWidth=HScrollBar.prototype.setScrollWidth,exports.ScrollBar=VScrollBar,exports.ScrollBarV=VScrollBar,exports.ScrollBarH=HScrollBar,exports.VScrollBar=VScrollBar,exports.HScrollBar=HScrollBar})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(require,exports,module){"use strict";var event=require("./lib/event"),RenderLoop=function(){function RenderLoop(onRender,win){this.onRender=onRender,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=win||window;var _self=this;this._flush=function(ts){_self.pending=!1;var changes=_self.changes;if(changes&&(event.blockIdle(100),_self.changes=0,_self.onRender(changes)),_self.changes){if(_self.$recursionLimit--<0)return;_self.schedule()}else _self.$recursionLimit=2}}return RenderLoop.prototype.schedule=function(change){this.changes=this.changes|change,this.changes&&!this.pending&&(event.nextFrame(this._flush),this.pending=!0)},RenderLoop.prototype.clear=function(change){var changes=this.changes;return this.changes=0,changes},RenderLoop}();exports.RenderLoop=RenderLoop})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(require,exports,module){var oop=require("../lib/oop"),dom=require("../lib/dom"),lang=require("../lib/lang"),event=require("../lib/event"),useragent=require("../lib/useragent"),EventEmitter=require("../lib/event_emitter").EventEmitter,USE_OBSERVER="function"==typeof ResizeObserver,L=200,FontMetrics=function(){function FontMetrics(parentEl){this.el=dom.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=dom.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=dom.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),parentEl.appendChild(this.el),this.$measureNode.textContent=lang.stringRepeat("X",512),this.$characterSize={width:0,height:0},USE_OBSERVER?this.$addObserver():this.checkForSizeChanges()}return FontMetrics.prototype.$setMeasureNodeStyles=function(style,isRoot){style.width=style.height="auto",style.left=style.top="0px",style.visibility="hidden",style.position="absolute",style.whiteSpace="pre",useragent.isIE<8?style["font-family"]="inherit":style.font="inherit",style.overflow=isRoot?"hidden":"visible"},FontMetrics.prototype.checkForSizeChanges=function(size){if(void 0===size&&(size=this.$measureSizes()),size&&(this.$characterSize.width!==size.width||this.$characterSize.height!==size.height)){this.$measureNode.style.fontWeight="bold";var boldSize=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=size,this.charSizes=Object.create(null),this.allowBoldFonts=boldSize&&boldSize.width===size.width&&boldSize.height===size.height,this._emit("changeCharacterSize",{data:size})}},FontMetrics.prototype.$addObserver=function(){var self=this;this.$observer=new window.ResizeObserver((function(e){self.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},FontMetrics.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var self=this;return this.$pollSizeChangesTimer=event.onIdle((function cb(){self.checkForSizeChanges(),event.onIdle(cb,500)}),500)},FontMetrics.prototype.setPolling=function(val){val?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},FontMetrics.prototype.$measureSizes=function(node){var size={height:(node||this.$measureNode).clientHeight,width:(node||this.$measureNode).clientWidth/512};return 0===size.width||0===size.height?null:size},FontMetrics.prototype.$measureCharWidth=function(ch){return this.$main.textContent=lang.stringRepeat(ch,512),this.$main.getBoundingClientRect().width/512},FontMetrics.prototype.getCharacterWidth=function(ch){var w=this.charSizes[ch];return void 0===w&&(w=this.charSizes[ch]=this.$measureCharWidth(ch)/this.$characterSize.width),w},FontMetrics.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},FontMetrics.prototype.$getZoom=function(element){return element&&element.parentElement?(window.getComputedStyle(element).zoom||1)*this.$getZoom(element.parentElement):1},FontMetrics.prototype.$initTransformMeasureNodes=function(){var t=function(t,l){return["div",{style:"position: absolute;top:"+t+"px;left:"+l+"px;"}]};this.els=dom.buildDom([t(0,0),t(L,0),t(0,L),t(L,L)],this.el)},FontMetrics.prototype.transformCoordinates=function(clientPos,elPos){clientPos&&(clientPos=mul(1/this.$getZoom(this.el),clientPos));function solve(l1,l2,r){var det=l1[1]*l2[0]-l1[0]*l2[1];return[(-l2[1]*r[0]+l2[0]*r[1])/det,(+l1[1]*r[0]-l1[0]*r[1])/det]}function sub(a,b){return[a[0]-b[0],a[1]-b[1]]}function add(a,b){return[a[0]+b[0],a[1]+b[1]]}function mul(a,b){return[a*b[0],a*b[1]]}function p(el){var r=el.getBoundingClientRect();return[r.left,r.top]}this.els||this.$initTransformMeasureNodes();var a=p(this.els[0]),b=p(this.els[1]),c=p(this.els[2]),d=p(this.els[3]),h=solve(sub(d,b),sub(d,c),sub(add(b,c),add(d,a))),m1=mul(1+h[0],sub(b,a)),m2=mul(1+h[1],sub(c,a));if(elPos){var x=elPos,k=h[0]*x[0]/L+h[1]*x[1]/L+1,ut=add(mul(x[0],m1),mul(x[1],m2));return add(mul(1/k/L,ut),a)}var u=sub(clientPos,a),f=solve(sub(m1,mul(h[0],u)),sub(m2,mul(h[1],u)),u);return mul(L,f)},FontMetrics}();FontMetrics.prototype.$characterSize={width:0,height:0},oop.implement(FontMetrics.prototype,EventEmitter),exports.FontMetrics=FontMetrics})),ace.define("ace/css/editor-css",["require","exports","module"],(function(require,exports,module){module.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(require,exports,module){"use strict";var dom=require("../lib/dom"),oop=require("../lib/oop"),EventEmitter=require("../lib/event_emitter").EventEmitter,Decorator=function(){function Decorator(parent,renderer){this.canvas=dom.createElement("canvas"),this.renderer=renderer,this.pixelRatio=1,this.maxHeight=renderer.layerConfig.maxHeight,this.lineHeight=renderer.layerConfig.lineHeight,this.canvasHeight=parent.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=parent.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},parent.element.appendChild(this.canvas)}return Decorator.prototype.$updateDecorators=function(config){var colors=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;config&&(this.maxHeight=config.maxHeight,this.lineHeight=config.lineHeight,this.canvasHeight=config.height,(config.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var ctx=this.canvas.getContext("2d");var annotations=this.renderer.session.$annotations;if(ctx.clearRect(0,0,this.canvas.width,this.canvas.height),annotations){var priorities={info:1,warning:2,error:3};annotations.forEach((function(item){item.priority=priorities[item.type]||null})),annotations=annotations.sort((function compare(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0}));for(var foldData=this.renderer.session.$foldData,i=0;i<annotations.length;i++){var row=annotations[i].row,compensateFold=this.compensateFoldRows(row,foldData),currentY=Math.round((row-compensateFold)*this.lineHeight*this.heightRatio),y1=Math.round((row-compensateFold)*this.lineHeight*this.heightRatio),y2=Math.round(((row-compensateFold)*this.lineHeight+this.lineHeight)*this.heightRatio);if(y2-y1<this.minDecorationHeight){var yCenter=(y1+y2)/2|0;yCenter<this.halfMinDecorationHeight?yCenter=this.halfMinDecorationHeight:yCenter+this.halfMinDecorationHeight>this.canvasHeight&&(yCenter=this.canvasHeight-this.halfMinDecorationHeight),y1=Math.round(yCenter-this.halfMinDecorationHeight),y2=Math.round(yCenter+this.halfMinDecorationHeight)}ctx.fillStyle=colors[annotations[i].type]||null,ctx.fillRect(0,currentY,this.canvasWidth,y2-y1)}}var cursor=this.renderer.session.selection.getCursor();if(cursor){compensateFold=this.compensateFoldRows(cursor.row,foldData),currentY=Math.round((cursor.row-compensateFold)*this.lineHeight*this.heightRatio);ctx.fillStyle="rgba(0, 0, 0, 0.5)",ctx.fillRect(0,currentY,this.canvasWidth,2)}},Decorator.prototype.compensateFoldRows=function(row,foldData){var compensateFold=0;if(foldData&&foldData.length>0)for(var j=0;j<foldData.length;j++)row>foldData[j].start.row&&row<foldData[j].end.row?compensateFold+=row-foldData[j].start.row:row>=foldData[j].end.row&&(compensateFold+=foldData[j].end.row-foldData[j].start.row);return compensateFold},Decorator}();oop.implement(Decorator.prototype,EventEmitter),exports.Decorator=Decorator})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],(function(require,exports,module){"use strict";var oop=require("./lib/oop"),dom=require("./lib/dom"),lang=require("./lib/lang"),config=require("./config"),GutterLayer=require("./layer/gutter").Gutter,MarkerLayer=require("./layer/marker").Marker,TextLayer=require("./layer/text").Text,CursorLayer=require("./layer/cursor").Cursor,HScrollBar=require("./scrollbar").HScrollBar,VScrollBar=require("./scrollbar").VScrollBar,HScrollBarCustom=require("./scrollbar_custom").HScrollBar,VScrollBarCustom=require("./scrollbar_custom").VScrollBar,RenderLoop=require("./renderloop").RenderLoop,FontMetrics=require("./layer/font_metrics").FontMetrics,EventEmitter=require("./lib/event_emitter").EventEmitter,editorCss=require("./css/editor-css"),Decorator=require("./layer/decorators").Decorator,useragent=require("./lib/useragent");dom.importCssString(editorCss,"ace_editor.css",!1);var VirtualRenderer=function(){function VirtualRenderer(container,theme){var _self=this;this.container=container||dom.createElement("div"),dom.addCssClass(this.container,"ace_editor"),dom.HI_DPI&&dom.addCssClass(this.container,"ace_hidpi"),this.setTheme(theme),null==config.get("useStrictCSP")&&config.set("useStrictCSP",!1),this.$gutter=dom.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=dom.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=dom.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new GutterLayer(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new MarkerLayer(this.content);var textLayer=this.$textLayer=new TextLayer(this.content);this.canvas=textLayer.element,this.$markerFront=new MarkerLayer(this.content),this.$cursorLayer=new CursorLayer(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new VScrollBar(this.container,this),this.scrollBarH=new HScrollBar(this.container,this),this.scrollBarV.on("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollTop(e.data-_self.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollLeft(e.data-_self.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new FontMetrics(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){_self.updateCharacterSize(),_self.onResize(!0,_self.gutterWidth,_self.$size.width,_self.$size.height),_self._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!useragent.isIOS,this.$loop=new RenderLoop(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),config.resetOptions(this),config._signal("renderer",this)}return VirtualRenderer.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),dom.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},VirtualRenderer.prototype.setSession=function(session){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=session,session&&this.scrollMargin.top&&session.getScrollTop()<=0&&session.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(session),this.$markerBack.setSession(session),this.$markerFront.setSession(session),this.$gutterLayer.setSession(session),this.$textLayer.setSession(session),session&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},VirtualRenderer.prototype.updateLines=function(firstRow,lastRow,force){if(void 0===lastRow&&(lastRow=1/0),this.$changedLines?(this.$changedLines.firstRow>firstRow&&(this.$changedLines.firstRow=firstRow),this.$changedLines.lastRow<lastRow&&(this.$changedLines.lastRow=lastRow)):this.$changedLines={firstRow,lastRow},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!force)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},VirtualRenderer.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},VirtualRenderer.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},VirtualRenderer.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},VirtualRenderer.prototype.updateFull=function(force){force?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},VirtualRenderer.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},VirtualRenderer.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},VirtualRenderer.prototype.onResize=function(force,gutterWidth,width,height){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=force?1:0;var el=this.container;height||(height=el.clientHeight||el.scrollHeight),width||(width=el.clientWidth||el.scrollWidth);var changes=this.$updateCachedSize(force,gutterWidth,width,height);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!width&&!height)return this.resizing=0;force&&(this.$gutterLayer.$padding=null),force?this.$renderChanges(changes|this.$changes,!0):this.$loop.schedule(changes|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},VirtualRenderer.prototype.$updateCachedSize=function(force,gutterWidth,width,height){height-=this.$extraHeight||0;var changes=0,size=this.$size,oldSize={width:size.width,height:size.height,scrollerHeight:size.scrollerHeight,scrollerWidth:size.scrollerWidth};if(height&&(force||size.height!=height)&&(size.height=height,changes|=this.CHANGE_SIZE,size.scrollerHeight=size.height,this.$horizScroll&&(size.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(size.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",changes|=this.CHANGE_SCROLL),width&&(force||size.width!=width)){changes|=this.CHANGE_SIZE,size.width=width,null==gutterWidth&&(gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=gutterWidth,dom.setStyle(this.scrollBarH.element.style,"left",gutterWidth+"px"),dom.setStyle(this.scroller.style,"left",gutterWidth+this.margin.left+"px"),size.scrollerWidth=Math.max(0,width-gutterWidth-this.scrollBarV.getWidth()-this.margin.h),dom.setStyle(this.$gutter.style,"left",this.margin.left+"px");var right=this.scrollBarV.getWidth()+"px";dom.setStyle(this.scrollBarH.element.style,"right",right),dom.setStyle(this.scroller.style,"right",right),dom.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(size.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||force)&&(changes|=this.CHANGE_FULL)}return size.$dirty=!width||!height,changes&&this._signal("resize",oldSize),changes},VirtualRenderer.prototype.onGutterResize=function(width){var gutterWidth=this.$showGutter?width:0;gutterWidth!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,gutterWidth,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},VirtualRenderer.prototype.adjustWrapLimit=function(){var availableWidth=this.$size.scrollerWidth-2*this.$padding,limit=Math.floor(availableWidth/this.characterWidth);return this.session.adjustWrapLimit(limit,this.$showPrintMargin&&this.$printMarginColumn)},VirtualRenderer.prototype.setAnimatedScroll=function(shouldAnimate){this.setOption("animatedScroll",shouldAnimate)},VirtualRenderer.prototype.getAnimatedScroll=function(){return this.$animatedScroll},VirtualRenderer.prototype.setShowInvisibles=function(showInvisibles){this.setOption("showInvisibles",showInvisibles),this.session.$bidiHandler.setShowInvisibles(showInvisibles)},VirtualRenderer.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},VirtualRenderer.prototype.getDisplayIndentGuide=function(){return this.getOption("displayIndentGuides")},VirtualRenderer.prototype.setDisplayIndentGuides=function(display){this.setOption("displayIndentGuides",display)},VirtualRenderer.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},VirtualRenderer.prototype.setHighlightIndentGuides=function(highlight){this.setOption("highlightIndentGuides",highlight)},VirtualRenderer.prototype.setShowPrintMargin=function(showPrintMargin){this.setOption("showPrintMargin",showPrintMargin)},VirtualRenderer.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},VirtualRenderer.prototype.setPrintMarginColumn=function(showPrintMargin){this.setOption("printMarginColumn",showPrintMargin)},VirtualRenderer.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},VirtualRenderer.prototype.getShowGutter=function(){return this.getOption("showGutter")},VirtualRenderer.prototype.setShowGutter=function(show){return this.setOption("showGutter",show)},VirtualRenderer.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},VirtualRenderer.prototype.setFadeFoldWidgets=function(show){this.setOption("fadeFoldWidgets",show)},VirtualRenderer.prototype.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},VirtualRenderer.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},VirtualRenderer.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var containerEl=dom.createElement("div");containerEl.className="ace_layer ace_print-margin-layer",this.$printMarginEl=dom.createElement("div"),this.$printMarginEl.className="ace_print-margin",containerEl.appendChild(this.$printMarginEl),this.content.insertBefore(containerEl,this.content.firstChild)}var style=this.$printMarginEl.style;style.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",style.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},VirtualRenderer.prototype.getContainerElement=function(){return this.container},VirtualRenderer.prototype.getMouseEventTarget=function(){return this.scroller},VirtualRenderer.prototype.getTextAreaContainer=function(){return this.container},VirtualRenderer.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var style=this.textarea.style,composition=this.$composition;if(this.$keepTextAreaAtCursor||composition){var pixelPos=this.$cursorLayer.$pixelPos;if(pixelPos){composition&&composition.markerRange&&(pixelPos=this.$cursorLayer.getPixelPosition(composition.markerRange.start,!0));var config=this.layerConfig,posTop=pixelPos.top,posLeft=pixelPos.left;posTop-=config.offset;var h=composition&&composition.useTextareaForIME||useragent.isMobile?this.lineHeight:1;if(posTop<0||posTop>config.height-h)dom.translate(this.textarea,0,0);else{var w=1,maxTop=this.$size.height-h;if(composition)if(composition.useTextareaForIME){var val=this.textarea.value;w=this.characterWidth*this.session.$getStringScreenWidth(val)[0]}else posTop+=this.lineHeight+2;else posTop+=this.lineHeight;(posLeft-=this.scrollLeft)>this.$size.scrollerWidth-w&&(posLeft=this.$size.scrollerWidth-w),posLeft+=this.gutterWidth+this.margin.left,dom.setStyle(style,"height",h+"px"),dom.setStyle(style,"width",w+"px"),dom.translate(this.textarea,Math.min(posLeft,this.$size.scrollerWidth-w),Math.min(posTop,maxTop))}}}else dom.translate(this.textarea,-100,0)}},VirtualRenderer.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},VirtualRenderer.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},VirtualRenderer.prototype.getLastFullyVisibleRow=function(){var config=this.layerConfig,lastRow=config.lastRow;return this.session.documentToScreenRow(lastRow,0)*config.lineHeight-this.session.getScrollTop()>config.height-config.lineHeight?lastRow-1:lastRow},VirtualRenderer.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},VirtualRenderer.prototype.setPadding=function(padding){this.$padding=padding,this.$textLayer.setPadding(padding),this.$cursorLayer.setPadding(padding),this.$markerFront.setPadding(padding),this.$markerBack.setPadding(padding),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},VirtualRenderer.prototype.setScrollMargin=function(top,bottom,left,right){var sm=this.scrollMargin;sm.top=0|top,sm.bottom=0|bottom,sm.right=0|right,sm.left=0|left,sm.v=sm.top+sm.bottom,sm.h=sm.left+sm.right,sm.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-sm.top),this.updateFull()},VirtualRenderer.prototype.setMargin=function(top,bottom,left,right){var sm=this.margin;sm.top=0|top,sm.bottom=0|bottom,sm.right=0|right,sm.left=0|left,sm.v=sm.top+sm.bottom,sm.h=sm.left+sm.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},VirtualRenderer.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},VirtualRenderer.prototype.setHScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("hScrollBarAlwaysVisible",alwaysVisible)},VirtualRenderer.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},VirtualRenderer.prototype.setVScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("vScrollBarAlwaysVisible",alwaysVisible)},VirtualRenderer.prototype.$updateScrollBarV=function(){var scrollHeight=this.layerConfig.maxHeight,scrollerHeight=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(scrollHeight-=(scrollerHeight-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>scrollHeight-scrollerHeight&&(scrollHeight=this.scrollTop+scrollerHeight,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(scrollHeight+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},VirtualRenderer.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},VirtualRenderer.prototype.freeze=function(){this.$frozen=!0},VirtualRenderer.prototype.unfreeze=function(){this.$frozen=!1},VirtualRenderer.prototype.$renderChanges=function(changes,force){if(this.$changes&&(changes|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(changes||force)){if(this.$size.$dirty)return this.$changes|=changes,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",changes),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var config=this.layerConfig;if(changes&this.CHANGE_FULL||changes&this.CHANGE_SIZE||changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES||changes&this.CHANGE_SCROLL||changes&this.CHANGE_H_SCROLL){if(changes|=this.$computeLayerConfig()|this.$loop.clear(),config.firstRow!=this.layerConfig.firstRow&&config.firstRowScreen==this.layerConfig.firstRowScreen){var st=this.scrollTop+(config.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;st>0&&(this.scrollTop=st,changes|=this.CHANGE_SCROLL,changes|=this.$computeLayerConfig()|this.$loop.clear())}config=this.layerConfig,this.$updateScrollBarV(),changes&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),dom.translate(this.content,-this.scrollLeft,-config.offset);var width=config.width+2*this.$padding+"px",height=config.minHeight+"px";dom.setStyle(this.content.style,"width",width),dom.setStyle(this.content.style,"height",height)}if(changes&this.CHANGE_H_SCROLL&&(dom.translate(this.content,-this.scrollLeft,-config.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),changes&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),void this._signal("afterRender",changes);if(changes&this.CHANGE_SCROLL)return this.$changedLines=null,changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES?this.$textLayer.update(config):this.$textLayer.scrollLines(config),this.$showGutter&&(changes&this.CHANGE_GUTTER||changes&this.CHANGE_LINES?this.$gutterLayer.update(config):this.$gutterLayer.scrollLines(config)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),void this._signal("afterRender",changes);changes&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(config)):changes&this.CHANGE_LINES?((this.$updateLines()||changes&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(config),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(config)):changes&this.CHANGE_TEXT||changes&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(config),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(config)):changes&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(config),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(config)),changes&this.CHANGE_CURSOR&&(this.$cursorLayer.update(config),this.$moveTextAreaToCursor()),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(config),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(config),this._signal("afterRender",changes)}else this.$changes|=changes},VirtualRenderer.prototype.$autosize=function(){var height=this.session.getScreenLength()*this.lineHeight,maxHeight=this.$maxLines*this.lineHeight,desiredHeight=Math.min(maxHeight,Math.max((this.$minLines||1)*this.lineHeight,height))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(desiredHeight+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&desiredHeight>this.$maxPixelHeight&&(desiredHeight=this.$maxPixelHeight);var vScroll=!(desiredHeight<=2*this.lineHeight)&&height>maxHeight;if(desiredHeight!=this.desiredHeight||this.$size.height!=this.desiredHeight||vScroll!=this.$vScroll){vScroll!=this.$vScroll&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll));var w=this.container.clientWidth;this.container.style.height=desiredHeight+"px",this.$updateCachedSize(!0,this.$gutterWidth,w,desiredHeight),this.desiredHeight=desiredHeight,this._signal("autosize")}},VirtualRenderer.prototype.$computeLayerConfig=function(){var session=this.session,size=this.$size,hideScrollbars=size.height<=2*this.lineHeight,maxHeight=this.session.getScreenLength()*this.lineHeight,longestLine=this.$getLongestLine(),horizScroll=!hideScrollbars&&(this.$hScrollBarAlwaysVisible||size.scrollerWidth-longestLine-2*this.$padding<0),hScrollChanged=this.$horizScroll!==horizScroll;hScrollChanged&&(this.$horizScroll=horizScroll,this.scrollBarH.setVisible(horizScroll));var vScrollBefore=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var minHeight=size.scrollerHeight+this.lineHeight,scrollPastEnd=!this.$maxLines&&this.$scrollPastEnd?(size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;maxHeight+=scrollPastEnd;var sm=this.scrollMargin;this.session.setScrollTop(Math.max(-sm.top,Math.min(this.scrollTop,maxHeight-size.scrollerHeight+sm.bottom))),this.session.setScrollLeft(Math.max(-sm.left,Math.min(this.scrollLeft,longestLine+2*this.$padding-size.scrollerWidth+sm.right)));var vScroll=!hideScrollbars&&(this.$vScrollBarAlwaysVisible||size.scrollerHeight-maxHeight+scrollPastEnd<0||this.scrollTop>sm.top),vScrollChanged=vScrollBefore!==vScroll;vScrollChanged&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll));var firstRowScreen,firstRowHeight,offset=this.scrollTop%this.lineHeight,lineCount=Math.ceil(minHeight/this.lineHeight)-1,firstRow=Math.max(0,Math.round((this.scrollTop-offset)/this.lineHeight)),lastRow=firstRow+lineCount,lineHeight=this.lineHeight;firstRow=session.screenToDocumentRow(firstRow,0);var foldLine=session.getFoldLine(firstRow);foldLine&&(firstRow=foldLine.start.row),firstRowScreen=session.documentToScreenRow(firstRow,0),firstRowHeight=session.getRowLength(firstRow)*lineHeight,lastRow=Math.min(session.screenToDocumentRow(lastRow,0),session.getLength()-1),minHeight=size.scrollerHeight+session.getRowLength(lastRow)*lineHeight+firstRowHeight,offset=this.scrollTop-firstRowScreen*lineHeight;var changes=0;return(this.layerConfig.width!=longestLine||hScrollChanged)&&(changes=this.CHANGE_H_SCROLL),(hScrollChanged||vScrollChanged)&&(changes|=this.$updateCachedSize(!0,this.gutterWidth,size.width,size.height),this._signal("scrollbarVisibilityChanged"),vScrollChanged&&(longestLine=this.$getLongestLine())),this.layerConfig={width:longestLine,padding:this.$padding,firstRow,firstRowScreen,lastRow,lineHeight,characterWidth:this.characterWidth,minHeight,maxHeight,offset,gutterOffset:lineHeight?Math.max(0,Math.ceil((offset+size.height-size.scrollerHeight)/lineHeight)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(longestLine-this.$padding),changes},VirtualRenderer.prototype.$updateLines=function(){if(this.$changedLines){var firstRow=this.$changedLines.firstRow,lastRow=this.$changedLines.lastRow;this.$changedLines=null;var layerConfig=this.layerConfig;if(!(firstRow>layerConfig.lastRow+1||lastRow<layerConfig.firstRow))return lastRow===1/0?(this.$showGutter&&this.$gutterLayer.update(layerConfig),void this.$textLayer.update(layerConfig)):(this.$textLayer.updateLines(layerConfig,firstRow,lastRow),!0)}},VirtualRenderer.prototype.$getLongestLine=function(){var charCount=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(charCount+=1),this.$textLayer&&charCount>this.$textLayer.MAX_LINE_LENGTH&&(charCount=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(charCount*this.characterWidth))},VirtualRenderer.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},VirtualRenderer.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},VirtualRenderer.prototype.addGutterDecoration=function(row,className){this.$gutterLayer.addGutterDecoration(row,className)},VirtualRenderer.prototype.removeGutterDecoration=function(row,className){this.$gutterLayer.removeGutterDecoration(row,className)},VirtualRenderer.prototype.updateBreakpoints=function(rows){this.$loop.schedule(this.CHANGE_GUTTER)},VirtualRenderer.prototype.setAnnotations=function(annotations){this.$gutterLayer.setAnnotations(annotations),this.$loop.schedule(this.CHANGE_GUTTER)},VirtualRenderer.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},VirtualRenderer.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},VirtualRenderer.prototype.showCursor=function(){this.$cursorLayer.showCursor()},VirtualRenderer.prototype.scrollSelectionIntoView=function(anchor,lead,offset){this.scrollCursorIntoView(anchor,offset),this.scrollCursorIntoView(lead,offset)},VirtualRenderer.prototype.scrollCursorIntoView=function(cursor,offset,$viewMargin){if(0!==this.$size.scrollerHeight){var pos=this.$cursorLayer.getPixelPosition(cursor),newLeft=pos.left,newTop=pos.top,topMargin=$viewMargin&&$viewMargin.top||0,bottomMargin=$viewMargin&&$viewMargin.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var currentTop=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;currentTop+topMargin>newTop?(offset&&currentTop+topMargin>newTop+this.lineHeight&&(newTop-=offset*this.$size.scrollerHeight),0===newTop&&(newTop=-this.scrollMargin.top),this.session.setScrollTop(newTop)):currentTop+this.$size.scrollerHeight-bottomMargin<newTop+this.lineHeight&&(offset&&currentTop+this.$size.scrollerHeight-bottomMargin<newTop-this.lineHeight&&(newTop+=offset*this.$size.scrollerHeight),this.session.setScrollTop(newTop+this.lineHeight+bottomMargin-this.$size.scrollerHeight));var currentLeft=this.scrollLeft,twoCharsWidth=2*this.layerConfig.characterWidth;newLeft-twoCharsWidth<currentLeft?((newLeft-=twoCharsWidth)<this.$padding+twoCharsWidth&&(newLeft=-this.scrollMargin.left),this.session.setScrollLeft(newLeft)):(newLeft+=twoCharsWidth,currentLeft+this.$size.scrollerWidth<newLeft+this.characterWidth?this.session.setScrollLeft(Math.round(newLeft+this.characterWidth-this.$size.scrollerWidth)):currentLeft<=this.$padding&&newLeft-currentLeft<this.characterWidth&&this.session.setScrollLeft(0))}},VirtualRenderer.prototype.getScrollTop=function(){return this.session.getScrollTop()},VirtualRenderer.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},VirtualRenderer.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},VirtualRenderer.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},VirtualRenderer.prototype.scrollToRow=function(row){this.session.setScrollTop(row*this.lineHeight)},VirtualRenderer.prototype.alignCursor=function(cursor,alignment){"number"==typeof cursor&&(cursor={row:cursor,column:0});var pos=this.$cursorLayer.getPixelPosition(cursor),h=this.$size.scrollerHeight-this.lineHeight,offset=pos.top-h*(alignment||0);return this.session.setScrollTop(offset),offset},VirtualRenderer.prototype.$calcSteps=function(fromValue,toValue){var t,x_min,i=0,l=this.STEPS,steps=[];for(i=0;i<l;++i)steps.push((t=i/this.STEPS,x_min=fromValue,(toValue-fromValue)*(Math.pow(t-1,3)+1)+x_min));return steps},VirtualRenderer.prototype.scrollToLine=function(line,center,animate,callback){var offset=this.$cursorLayer.getPixelPosition({row:line,column:0}).top;center&&(offset-=this.$size.scrollerHeight/2);var initialScroll=this.scrollTop;this.session.setScrollTop(offset),!1!==animate&&this.animateScrolling(initialScroll,callback)},VirtualRenderer.prototype.animateScrolling=function(fromValue,callback){var toValue=this.scrollTop;if(this.$animatedScroll){var _self=this;if(fromValue!=toValue){if(this.$scrollAnimation){var oldSteps=this.$scrollAnimation.steps;if(oldSteps.length&&(fromValue=oldSteps[0])==toValue)return}var steps=_self.$calcSteps(fromValue,toValue);this.$scrollAnimation={from:fromValue,to:toValue,steps},clearInterval(this.$timer),_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue,this.$timer=setInterval((function(){if(!_self.$stopAnimation)return _self.session?void(steps.length?(_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue):null!=toValue?(_self.session.$scrollTop=-1,_self.session.setScrollTop(toValue),toValue=null):endAnimation()):clearInterval(_self.$timer);endAnimation()}),10)}}function endAnimation(){_self.$timer=clearInterval(_self.$timer),_self.$scrollAnimation=null,_self.$stopAnimation=!1,callback&&callback()}},VirtualRenderer.prototype.scrollToY=function(scrollTop){this.scrollTop!==scrollTop&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=scrollTop)},VirtualRenderer.prototype.scrollToX=function(scrollLeft){this.scrollLeft!==scrollLeft&&(this.scrollLeft=scrollLeft),this.$loop.schedule(this.CHANGE_H_SCROLL)},VirtualRenderer.prototype.scrollTo=function(x,y){this.session.setScrollTop(y),this.session.setScrollLeft(x)},VirtualRenderer.prototype.scrollBy=function(deltaX,deltaY){deltaY&&this.session.setScrollTop(this.session.getScrollTop()+deltaY),deltaX&&this.session.setScrollLeft(this.session.getScrollLeft()+deltaX)},VirtualRenderer.prototype.isScrollableBy=function(deltaX,deltaY){return deltaY<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(deltaY>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(deltaX<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(deltaX>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},VirtualRenderer.prototype.pixelToScreenCoordinates=function(x,y){var canvasPos;if(this.$hasCssTransforms){canvasPos={top:0,left:0};var p=this.$fontMetrics.transformCoordinates([x,y]);x=p[1]-this.gutterWidth-this.margin.left,y=p[0]}else canvasPos=this.scroller.getBoundingClientRect();var offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,offset=offsetX/this.characterWidth,row=Math.floor((y+this.scrollTop-canvasPos.top)/this.lineHeight),col=this.$blockCursor?Math.floor(offset):Math.round(offset);return{row,column:col,side:offset-col>0?1:-1,offsetX}},VirtualRenderer.prototype.screenToTextCoordinates=function(x,y){var canvasPos;if(this.$hasCssTransforms){canvasPos={top:0,left:0};var p=this.$fontMetrics.transformCoordinates([x,y]);x=p[1]-this.gutterWidth-this.margin.left,y=p[0]}else canvasPos=this.scroller.getBoundingClientRect();var offsetX=x+this.scrollLeft-canvasPos.left-this.$padding,offset=offsetX/this.characterWidth,col=this.$blockCursor?Math.floor(offset):Math.round(offset),row=Math.floor((y+this.scrollTop-canvasPos.top)/this.lineHeight);return this.session.screenToDocumentPosition(row,Math.max(col,0),offsetX)},VirtualRenderer.prototype.textToScreenCoordinates=function(row,column){var canvasPos=this.scroller.getBoundingClientRect(),pos=this.session.documentToScreenPosition(row,column),x=this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,row)?this.session.$bidiHandler.getPosLeft(pos.column):Math.round(pos.column*this.characterWidth)),y=pos.row*this.lineHeight;return{pageX:canvasPos.left+x-this.scrollLeft,pageY:canvasPos.top+y-this.scrollTop}},VirtualRenderer.prototype.visualizeFocus=function(){dom.addCssClass(this.container,"ace_focus")},VirtualRenderer.prototype.visualizeBlur=function(){dom.removeCssClass(this.container,"ace_focus")},VirtualRenderer.prototype.showComposition=function(composition){this.$composition=composition,composition.cssText||(composition.cssText=this.textarea.style.cssText),null==composition.useTextareaForIME&&(composition.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(dom.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):composition.markerId=this.session.addMarker(composition.markerRange,"ace_composition_marker","text")},VirtualRenderer.prototype.setCompositionText=function(text){var cursor=this.session.selection.cursor;this.addToken(text,"composition_placeholder",cursor.row,cursor.column),this.$moveTextAreaToCursor()},VirtualRenderer.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),dom.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var cursor=this.session.selection.cursor;this.removeExtraToken(cursor.row,cursor.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},VirtualRenderer.prototype.setGhostText=function(text,position){var cursor=this.session.selection.cursor,insertPosition=position||{row:cursor.row,column:cursor.column};this.removeGhostText();var textLines=text.split("\n");this.addToken(textLines[0],"ghost_text",insertPosition.row,insertPosition.column),this.$ghostText={text,position:{row:insertPosition.row,column:insertPosition.column}},textLines.length>1&&(this.$ghostTextWidget={text:textLines.slice(1).join("\n"),row:insertPosition.row,column:insertPosition.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},VirtualRenderer.prototype.removeGhostText=function(){if(this.$ghostText){var position=this.$ghostText.position;this.removeExtraToken(position.row,position.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},VirtualRenderer.prototype.addToken=function(text,type,row,column){var session=this.session;session.bgTokenizer.lines[row]=null;var newToken={type,value:text},tokens=session.getTokens(row);if(null!=column&&tokens.length)for(var l=0,i=0;i<tokens.length;i++){var token=tokens[i];if(column<=(l+=token.value.length)){var diff=token.value.length-(l-column),before=token.value.slice(0,diff),after=token.value.slice(diff);tokens.splice(i,1,{type:token.type,value:before},newToken,{type:token.type,value:after});break}}else tokens.push(newToken);this.updateLines(row,row)},VirtualRenderer.prototype.removeExtraToken=function(row,column){this.session.bgTokenizer.lines[row]=null,this.updateLines(row,row)},VirtualRenderer.prototype.setTheme=function(theme,cb){var _self=this;if(this.$themeId=theme,_self._dispatchEvent("themeChange",{theme}),theme&&"string"!=typeof theme)afterLoad(theme);else{var moduleName=theme||this.$options.theme.initialValue;config.loadModule(["theme",moduleName],afterLoad)}function afterLoad(module){if(_self.$themeId!=theme)return cb&&cb();if(!module||!module.cssClass)throw new Error("couldn't load module "+theme+" or it didn't call define");module.$id&&(_self.$themeId=module.$id),dom.importCssString(module.cssText,module.cssClass,_self.container),_self.theme&&dom.removeCssClass(_self.container,_self.theme.cssClass);var padding="padding"in module?module.padding:"padding"in(_self.theme||{})?4:_self.$padding;_self.$padding&&padding!=_self.$padding&&_self.setPadding(padding),_self.$theme=module.cssClass,_self.theme=module,dom.addCssClass(_self.container,module.cssClass),dom.setCssClass(_self.container,"ace_dark",module.isDark),_self.$size&&(_self.$size.width=0,_self.$updateSizeAsync()),_self._dispatchEvent("themeLoaded",{theme:module}),cb&&cb()}},VirtualRenderer.prototype.getTheme=function(){return this.$themeId},VirtualRenderer.prototype.setStyle=function(style,include){dom.setCssClass(this.container,style,!1!==include)},VirtualRenderer.prototype.unsetStyle=function(style){dom.removeCssClass(this.container,style)},VirtualRenderer.prototype.setCursorStyle=function(style){dom.setStyle(this.scroller.style,"cursor",style)},VirtualRenderer.prototype.setMouseCursor=function(cursorStyle){dom.setStyle(this.scroller.style,"cursor",cursorStyle)},VirtualRenderer.prototype.attachToShadowRoot=function(){dom.importCssString(editorCss,"ace_editor.css",this.container)},VirtualRenderer.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},VirtualRenderer.prototype.$updateCustomScrollbar=function(val){var _self=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===val?(this.scrollBarV=new VScrollBarCustom(this.container,this),this.scrollBarH=new HScrollBarCustom(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollTop(e.data-_self.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollLeft(e.data-_self.scrollMargin.left)})),this.$scrollDecorator=new Decorator(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new VScrollBar(this.container,this),this.scrollBarH=new HScrollBar(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollTop(e.data-_self.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){_self.$scrollAnimation||_self.session.setScrollLeft(e.data-_self.scrollMargin.left)})))},VirtualRenderer.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var self=this;this.$resizeTimer=lang.delayedCall((function(){self.destroyed||self.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(e){var w=e[0].contentRect.width,h=e[0].contentRect.height;Math.abs(self.$size.width-w)>1||Math.abs(self.$size.height-h)>1?self.$resizeTimer.delay():self.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}},VirtualRenderer}();VirtualRenderer.prototype.CHANGE_CURSOR=1,VirtualRenderer.prototype.CHANGE_MARKER=2,VirtualRenderer.prototype.CHANGE_GUTTER=4,VirtualRenderer.prototype.CHANGE_SCROLL=8,VirtualRenderer.prototype.CHANGE_LINES=16,VirtualRenderer.prototype.CHANGE_TEXT=32,VirtualRenderer.prototype.CHANGE_SIZE=64,VirtualRenderer.prototype.CHANGE_MARKER_BACK=128,VirtualRenderer.prototype.CHANGE_MARKER_FRONT=256,VirtualRenderer.prototype.CHANGE_FULL=512,VirtualRenderer.prototype.CHANGE_H_SCROLL=1024,VirtualRenderer.prototype.$changes=0,VirtualRenderer.prototype.$padding=null,VirtualRenderer.prototype.$frozen=!1,VirtualRenderer.prototype.STEPS=8,oop.implement(VirtualRenderer.prototype,EventEmitter),config.defineOptions(VirtualRenderer.prototype,"renderer",{useResizeObserver:{set:function(value){!value&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):value&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(value){this.$textLayer.setShowInvisibles(value)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(val){"number"==typeof val&&(this.$printMarginColumn=val),this.$showPrintMargin=!!val,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(show){this.$gutter.style.display=show?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(value){this.$gutterLayer.$useSvgGutterIcons=value},initialValue:!1},showFoldedAnnotations:{set:function(value){this.$gutterLayer.$showFoldedAnnotations=value},initialValue:!1},fadeFoldWidgets:{set:function(show){dom.setCssClass(this.$gutter,"ace_fade-fold-widgets",show)},initialValue:!1},showFoldWidgets:{set:function(show){this.$gutterLayer.setShowFoldWidgets(show),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(show){this.$textLayer.setDisplayIndentGuides(show)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(show){1==this.$textLayer.setHighlightIndentGuides(show)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(shouldHighlight){this.$gutterLayer.setHighlightGutterLine(shouldHighlight),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(val){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(val){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(size){"number"==typeof size&&(size+="px"),this.container.style.fontSize=size,this.updateFontSize()},initialValue:12},fontFamily:{set:function(name){this.container.style.fontFamily=name,this.updateFontSize()}},maxLines:{set:function(val){this.updateFull()}},minLines:{set:function(val){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(val){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(val){val=+val||0,this.$scrollPastEnd!=val&&(this.$scrollPastEnd=val,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(val){this.$gutterLayer.$fixedWidth=!!val,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(val){this.$updateCustomScrollbar(val)},initialValue:!1},theme:{set:function(val){this.setTheme(val)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!useragent.isMobile&&!useragent.isIE}}),exports.VirtualRenderer=VirtualRenderer})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),net=require("../lib/net"),EventEmitter=require("../lib/event_emitter").EventEmitter,config=require("../config");function createWorker(workerUrl){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(config.get("loadWorkerFromBlob")){var blob=function $workerBlob(workerUrl){var script="importScripts('"+net.qualifyURL(workerUrl)+"');";try{return new Blob([script],{type:"application/javascript"})}catch(e){var blobBuilder=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return blobBuilder.append(script),blobBuilder.getBlob("application/javascript")}}(workerUrl),blobURL=(window.URL||window.webkitURL).createObjectURL(blob);return new Worker(blobURL)}return new Worker(workerUrl)}var WorkerClient=function(worker){worker.postMessage||(worker=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=worker,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){oop.implement(this,EventEmitter),this.$createWorkerFromOldConfig=function(topLevelNamespaces,mod,classname,workerUrl,importScripts){if(require.nameToUrl&&!require.toUrl&&(require.toUrl=require.nameToUrl),config.get("packaged")||!require.toUrl)workerUrl=workerUrl||config.moduleUrl(mod,"worker");else{var normalizePath=this.$normalizePath;workerUrl=workerUrl||normalizePath(require.toUrl("ace/worker/worker.js",null,"_"));var tlns={};topLevelNamespaces.forEach((function(ns){tlns[ns]=normalizePath(require.toUrl(ns,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=createWorker(workerUrl),importScripts&&this.send("importScripts",importScripts),this.$worker.postMessage({init:!0,tlns,module:mod,classname}),this.$worker},this.onMessage=function(e){var msg=e.data;switch(msg.type){case"event":this._signal(msg.name,{data:msg.data});break;case"call":var callback=this.callbacks[msg.id];callback&&(callback(msg.data),delete this.callbacks[msg.id]);break;case"error":this.reportError(msg.data);break;case"log":window.console&&console.log&&console.log.apply(console,msg.data)}},this.reportError=function(err){window.console&&console.error&&console.error(err)},this.$normalizePath=function(path){return net.qualifyURL(path)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(cmd,args){this.$worker.postMessage({command:cmd,args})},this.call=function(cmd,args,callback){if(callback){var id=this.callbackId++;this.callbacks[id]=callback,args.push(id)}this.send(cmd,args)},this.emit=function(event,data){try{data.data&&data.data.err&&(data.data.err={message:data.data.err.message,stack:data.data.err.stack,code:data.data.err.code}),this.$worker&&this.$worker.postMessage({event,data:{data:data.data}})}catch(ex){console.error(ex.stack)}},this.attachToDocument=function(doc){this.$doc&&this.terminate(),this.$doc=doc,this.call("setValue",[doc.getValue()]),doc.on("change",this.changeListener,!0)},this.changeListener=function(delta){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==delta.action?this.deltaQueue.push(delta.start,delta.lines):this.deltaQueue.push(delta.start,delta.end)},this.$sendDeltaQueue=function(){var q=this.deltaQueue;q&&(this.deltaQueue=null,q.length>50&&q.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:q}))}}).call(WorkerClient.prototype);exports.UIWorkerClient=function(topLevelNamespaces,mod,classname){var main=null,emitSync=!1,sender=Object.create(EventEmitter),messageBuffer=[],workerClient=new WorkerClient({messageBuffer,terminate:function(){},postMessage:function(e){messageBuffer.push(e),main&&(emitSync?setTimeout(processNext):processNext())}});workerClient.setEmitSync=function(val){emitSync=val};var processNext=function(){var msg=messageBuffer.shift();msg.command?main[msg.command].apply(main,msg.args):msg.event&&sender._signal(msg.event,msg.data)};return sender.postMessage=function(msg){workerClient.onMessage({data:msg})},sender.callback=function(data,callbackId){this.postMessage({type:"call",id:callbackId,data})},sender.emit=function(name,data){this.postMessage({type:"event",name,data})},config.loadModule(["worker",mod],(function(Main){for(main=new Main[classname](sender);messageBuffer.length;)processNext()})),workerClient},exports.WorkerClient=WorkerClient,exports.createWorker=createWorker})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(require,exports,module){"use strict";var Range=require("./range").Range,EventEmitter=require("./lib/event_emitter").EventEmitter,oop=require("./lib/oop"),PlaceHolder=function(){function PlaceHolder(session,length,pos,others,mainClass,othersClass){var _self=this;this.length=length,this.session=session,this.doc=session.getDocument(),this.mainClass=mainClass,this.othersClass=othersClass,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=others,this.$onCursorChange=function(){setTimeout((function(){_self.onCursorChange()}))},this.$pos=pos;var undoStack=session.getUndoManager().$undoStack||session.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=undoStack.length,this.setup(),session.selection.on("changeCursor",this.$onCursorChange)}return PlaceHolder.prototype.setup=function(){var _self=this,doc=this.doc,session=this.session;this.selectionBefore=session.selection.toJSON(),session.selection.inMultiSelectMode&&session.selection.toSingleRange(),this.pos=doc.createAnchor(this.$pos.row,this.$pos.column);var pos=this.pos;pos.$insertRight=!0,pos.detach(),pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(other){var anchor=doc.createAnchor(other.row,other.column);anchor.$insertRight=!0,anchor.detach(),_self.others.push(anchor)})),session.setUndoSelect(!1)},PlaceHolder.prototype.showOtherMarkers=function(){if(!this.othersActive){var session=this.session,_self=this;this.othersActive=!0,this.others.forEach((function(anchor){anchor.markerId=session.addMarker(new Range(anchor.row,anchor.column,anchor.row,anchor.column+_self.length),_self.othersClass,null,!1)}))}},PlaceHolder.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var i=0;i<this.others.length;i++)this.session.removeMarker(this.others[i].markerId)}},PlaceHolder.prototype.onUpdate=function(delta){if(this.$updating)return this.updateAnchors(delta);var range=delta;if(range.start.row===range.end.row&&range.start.row===this.pos.row){this.$updating=!0;var lengthDiff="insert"===delta.action?range.end.column-range.start.column:range.start.column-range.end.column,inMainRange=range.start.column>=this.pos.column&&range.start.column<=this.pos.column+this.length+1,distanceFromStart=range.start.column-this.pos.column;if(this.updateAnchors(delta),inMainRange&&(this.length+=lengthDiff),inMainRange&&!this.session.$fromUndo)if("insert"===delta.action)for(var i=this.others.length-1;i>=0;i--){var newPos={row:(otherPos=this.others[i]).row,column:otherPos.column+distanceFromStart};this.doc.insertMergedLines(newPos,delta.lines)}else if("remove"===delta.action)for(i=this.others.length-1;i>=0;i--){var otherPos;newPos={row:(otherPos=this.others[i]).row,column:otherPos.column+distanceFromStart};this.doc.remove(new Range(newPos.row,newPos.column,newPos.row,newPos.column-lengthDiff))}this.$updating=!1,this.updateMarkers()}},PlaceHolder.prototype.updateAnchors=function(delta){this.pos.onChange(delta);for(var i=this.others.length;i--;)this.others[i].onChange(delta);this.updateMarkers()},PlaceHolder.prototype.updateMarkers=function(){if(!this.$updating){var _self=this,session=this.session,updateMarker=function(pos,className){session.removeMarker(pos.markerId),pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+_self.length),className,null,!1)};updateMarker(this.pos,this.mainClass);for(var i=this.others.length;i--;)updateMarker(this.others[i],this.othersClass)}},PlaceHolder.prototype.onCursorChange=function(event){if(!this.$updating&&this.session){var pos=this.session.selection.getCursor();pos.row===this.pos.row&&pos.column>=this.pos.column&&pos.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",event)):(this.hideOtherMarkers(),this._emit("cursorLeave",event))}},PlaceHolder.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},PlaceHolder.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var undoManager=this.session.getUndoManager(),undosRequired=(undoManager.$undoStack||undoManager.$undostack).length-this.$undoStackDepth,i=0;i<undosRequired;i++)undoManager.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},PlaceHolder}();oop.implement(PlaceHolder.prototype,EventEmitter),exports.PlaceHolder=PlaceHolder})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(require,exports,module){var event=require("../lib/event"),useragent=require("../lib/useragent");function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}exports.onMouseDown=function onMouseDown(e){var ev=e.domEvent,alt=ev.altKey,shift=ev.shiftKey,ctrl=ev.ctrlKey,accel=e.getAccelKey(),button=e.getButton();if(ctrl&&useragent.isMac&&(button=ev.button),e.editor.inMultiSelectMode&&2==button)e.editor.textInput.onContextMenu(e.domEvent);else if(ctrl||alt||accel){if(0===button){var selectionMode,editor=e.editor,selection=editor.selection,isMultiSelect=editor.inMultiSelectMode,pos=e.getDocumentPosition(),cursor=selection.getCursor(),inSelection=e.inSelection()||selection.isEmpty()&&isSamePoint(pos,cursor),mouseX=e.x,mouseY=e.y,session=editor.session,screenAnchor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),screenCursor=screenAnchor;if(editor.$mouseHandler.$enableJumpToDef)ctrl&&alt||accel&&alt?selectionMode=shift?"block":"add":alt&&editor.$blockSelectEnabled&&(selectionMode="block");else if(accel&&!alt){if(selectionMode="add",!isMultiSelect&&shift)return}else alt&&editor.$blockSelectEnabled&&(selectionMode="block");if(selectionMode&&useragent.isMac&&ev.ctrlKey&&editor.$mouseHandler.cancelContextMenu(),"add"==selectionMode){if(!isMultiSelect&&inSelection)return;if(!isMultiSelect){var range=selection.toOrientedRange();editor.addSelectionMarker(range)}var oldRange=selection.rangeList.rangeAtPoint(pos);editor.inVirtualSelectionMode=!0,shift&&(oldRange=null,range=selection.ranges[0]||range,editor.removeSelectionMarker(range)),editor.once("mouseup",(function(){var tmpSel=selection.toOrientedRange();oldRange&&tmpSel.isEmpty()&&isSamePoint(oldRange.cursor,tmpSel.cursor)?selection.substractPoint(tmpSel.cursor):(shift?selection.substractPoint(range.cursor):range&&(editor.removeSelectionMarker(range),selection.addRange(range)),selection.addRange(tmpSel)),editor.inVirtualSelectionMode=!1}))}else if("block"==selectionMode){var initialRange;e.stop(),editor.inVirtualSelectionMode=!0;var rectSel=[],blockSelect=function(){var newCursor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),cursor=session.screenToDocumentPosition(newCursor.row,newCursor.column,newCursor.offsetX);isSamePoint(screenCursor,newCursor)&&isSamePoint(cursor,selection.lead)||(screenCursor=newCursor,editor.selection.moveToPosition(cursor),editor.renderer.scrollCursorIntoView(),editor.removeSelectionMarkers(rectSel),rectSel=selection.rectangularRangeBlock(screenCursor,screenAnchor),editor.$mouseHandler.$clickSelection&&1==rectSel.length&&rectSel[0].isEmpty()&&(rectSel[0]=editor.$mouseHandler.$clickSelection.clone()),rectSel.forEach(editor.addSelectionMarker,editor),editor.updateSelectionMarkers())};isMultiSelect&&!accel?selection.toSingleRange():!isMultiSelect&&accel&&(initialRange=selection.toOrientedRange(),editor.addSelectionMarker(initialRange)),shift?screenAnchor=session.documentToScreenPosition(selection.lead):selection.moveToPosition(pos),screenCursor={row:-1,column:-1};var onSelectionInterval=blockSelect;event.capture(editor.container,(function(e){mouseX=e.clientX,mouseY=e.clientY}),(function(e){blockSelect(),clearInterval(timerId),editor.removeSelectionMarkers(rectSel),rectSel.length||(rectSel=[selection.toOrientedRange()]),initialRange&&(editor.removeSelectionMarker(initialRange),selection.toSingleRange(initialRange));for(var i=0;i<rectSel.length;i++)selection.addRange(rectSel[i]);editor.inVirtualSelectionMode=!1,editor.$mouseHandler.$clickSelection=null}));var timerId=setInterval((function(){onSelectionInterval()}),20);return e.preventDefault()}}}else 0===button&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(require,exports,module){exports.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(editor){editor.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(editor){editor.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(editor){editor.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(editor){editor.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(editor){editor.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(editor){editor.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(editor){editor.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(editor){editor.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(editor){editor.multiSelect.rangeCount>1?editor.multiSelect.joinSelections():editor.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(editor){editor.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(editor){editor.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(editor){editor.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],exports.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(editor){editor.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(editor){return editor&&editor.inMultiSelectMode}}];var HashHandler=require("../keyboard/hash_handler").HashHandler;exports.keyboardHandler=new HashHandler(exports.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(require,exports,module){var RangeList=require("./range_list").RangeList,Range=require("./range").Range,Selection=require("./selection").Selection,onMouseDown=require("./mouse/multi_select_handler").onMouseDown,event=require("./lib/event"),lang=require("./lib/lang"),commands=require("./commands/multi_select_commands");exports.commands=commands.defaultCommands.concat(commands.multiSelectCommands);var search=new(0,require("./search").Search);var EditSession=require("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(EditSession.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(range,$blockChangeEvents){if(range){if(!this.inMultiSelectMode&&0===this.rangeCount){var oldRange=this.toOrientedRange();if(this.rangeList.add(oldRange),this.rangeList.add(range),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),$blockChangeEvents||this.fromOrientedRange(range);this.rangeList.removeAll(),this.rangeList.add(oldRange),this.$onAddRange(oldRange)}range.cursor||(range.cursor=range.end);var removed=this.rangeList.add(range);return this.$onAddRange(range),removed.length&&this.$onRemoveRange(removed),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),$blockChangeEvents||this.fromOrientedRange(range)}},this.toSingleRange=function(range){range=range||this.ranges[0];var removed=this.rangeList.removeAll();removed.length&&this.$onRemoveRange(removed),range&&this.fromOrientedRange(range)},this.substractPoint=function(pos){var removed=this.rangeList.substractPoint(pos);if(removed)return this.$onRemoveRange(removed),removed[0]},this.mergeOverlappingRanges=function(){var removed=this.rangeList.merge();removed.length&&this.$onRemoveRange(removed)},this.$onAddRange=function(range){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(range),this._signal("addRange",{range})},this.$onRemoveRange=function(removed){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var lastRange=this.rangeList.ranges.pop();removed.push(lastRange),this.rangeCount=0}for(var i=removed.length;i--;){var index=this.ranges.indexOf(removed[i]);this.ranges.splice(index,1)}this._signal("removeRange",{ranges:removed}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(lastRange=lastRange||this.ranges[0])&&!lastRange.isEqual(this.getRange())&&this.fromOrientedRange(lastRange)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new RangeList,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var ranges=this.ranges.length?this.ranges:[this.getRange()],newRanges=[],i=0;i<ranges.length;i++){var range=ranges[i],row=range.start.row,endRow=range.end.row;if(row===endRow)newRanges.push(range.clone());else{for(newRanges.push(new Range(row,range.start.column,row,this.session.getLine(row).length));++row<endRow;)newRanges.push(this.getLineRange(row,!0));newRanges.push(new Range(endRow,0,endRow,range.end.column))}0!=i||this.isBackwards()||(newRanges=newRanges.reverse())}this.toSingleRange();for(i=newRanges.length;i--;)this.addRange(newRanges[i])},this.joinSelections=function(){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var cursor=this.session.documentToScreenPosition(this.cursor),anchor=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(cursor,anchor).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(screenCursor,screenAnchor,includeEmptyLines){var rectSel=[],xBackwards=screenCursor.column<screenAnchor.column;if(xBackwards)var startColumn=screenCursor.column,endColumn=screenAnchor.column,startOffsetX=screenCursor.offsetX,endOffsetX=screenAnchor.offsetX;else startColumn=screenAnchor.column,endColumn=screenCursor.column,startOffsetX=screenAnchor.offsetX,endOffsetX=screenCursor.offsetX;var docEnd,p1,p2,yBackwards=screenCursor.row<screenAnchor.row;if(yBackwards)var startRow=screenCursor.row,endRow=screenAnchor.row;else startRow=screenAnchor.row,endRow=screenCursor.row;startColumn<0&&(startColumn=0),startRow<0&&(startRow=0),startRow==endRow&&(includeEmptyLines=!0);for(var row=startRow;row<=endRow;row++){var range=Range.fromPoints(this.session.screenToDocumentPosition(row,startColumn,startOffsetX),this.session.screenToDocumentPosition(row,endColumn,endOffsetX));if(range.isEmpty()){if(docEnd&&(p1=range.end,p2=docEnd,p1.row==p2.row&&p1.column==p2.column))break;docEnd=range.end}range.cursor=xBackwards?range.start:range.end,rectSel.push(range)}if(yBackwards&&rectSel.reverse(),!includeEmptyLines){for(var end=rectSel.length-1;rectSel[end].isEmpty()&&end>0;)end--;if(end>0)for(var start=0;rectSel[start].isEmpty();)start++;for(var i=end;i>=start;i--)rectSel[i].isEmpty()&&rectSel.splice(i,1)}return rectSel}}.call(Selection.prototype);var Editor=require("./editor").Editor;function MultiSelect(editor){editor.$multiselectOnSessionChange||(editor.$onAddRange=editor.$onAddRange.bind(editor),editor.$onRemoveRange=editor.$onRemoveRange.bind(editor),editor.$onMultiSelect=editor.$onMultiSelect.bind(editor),editor.$onSingleSelect=editor.$onSingleSelect.bind(editor),editor.$multiselectOnSessionChange=exports.onSessionChange.bind(editor),editor.$checkMultiselectChange=editor.$checkMultiselectChange.bind(editor),editor.$multiselectOnSessionChange(editor),editor.on("changeSession",editor.$multiselectOnSessionChange),editor.on("mousedown",onMouseDown),editor.commands.addCommands(commands.defaultCommands),function addAltCursorListeners(editor){if(!editor.textInput)return;var el=editor.textInput.getElement(),altCursor=!1;function reset(e){altCursor&&(editor.renderer.setMouseCursor(""),altCursor=!1)}event.addListener(el,"keydown",(function(e){var altDown=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);editor.$blockSelectEnabled&&altDown?altCursor||(editor.renderer.setMouseCursor("crosshair"),altCursor=!0):altCursor&&reset()}),editor),event.addListener(el,"keyup",reset,editor),event.addListener(el,"blur",reset,editor)}(editor))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(orientedRange){orientedRange.cursor||(orientedRange.cursor=orientedRange.end);var style=this.getSelectionStyle();return orientedRange.marker=this.session.addMarker(orientedRange,"ace_selection",style),this.session.$selectionMarkers.push(orientedRange),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,orientedRange},this.removeSelectionMarker=function(range){if(range.marker){this.session.removeMarker(range.marker);var index=this.session.$selectionMarkers.indexOf(range);-1!=index&&this.session.$selectionMarkers.splice(index,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(ranges){for(var markerList=this.session.$selectionMarkers,i=ranges.length;i--;){var range=ranges[i];if(range.marker){this.session.removeMarker(range.marker);var index=markerList.indexOf(range);-1!=index&&markerList.splice(index,1)}}this.session.selectionMarkerCount=markerList.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(commands.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(commands.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var command=e.command,editor=e.editor;if(editor.multiSelect){if(command.multiSelectAction)"forEach"==command.multiSelectAction?result=editor.forEachSelection(command,e.args):"forEachLine"==command.multiSelectAction?result=editor.forEachSelection(command,e.args,!0):"single"==command.multiSelectAction?(editor.exitMultiSelectMode(),result=command.exec(editor,e.args||{})):result=command.multiSelectAction(editor,e.args||{});else{var result=command.exec(editor,e.args||{});editor.multiSelect.addRange(editor.multiSelect.toOrientedRange()),editor.multiSelect.mergeOverlappingRanges()}return result}},this.forEachSelection=function(cmd,args,options){if(!this.inVirtualSelectionMode){var result,keepOrder=options&&options.keepOrder,$byLines=1==options||options&&options.$byLines,session=this.session,selection=this.selection,rangeList=selection.rangeList,ranges=(keepOrder?selection:rangeList).ranges;if(!ranges.length)return cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});var reg=selection._eventRegistry;selection._eventRegistry={};var tmpSel=new Selection(session);this.inVirtualSelectionMode=!0;for(var i=ranges.length;i--;){if($byLines)for(;i>0&&ranges[i].start.row==ranges[i-1].end.row;)i--;tmpSel.fromOrientedRange(ranges[i]),tmpSel.index=i,this.selection=session.selection=tmpSel;var cmdResult=cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});result||void 0===cmdResult||(result=cmdResult),tmpSel.toOrientedRange(ranges[i])}tmpSel.detach(),this.selection=session.selection=selection,this.inVirtualSelectionMode=!1,selection._eventRegistry=reg,selection.mergeOverlappingRanges(),selection.ranges[0]&&selection.fromOrientedRange(selection.ranges[0]);var anim=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),anim&&anim.from==anim.to&&this.renderer.animateScrolling(anim.from),result}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var text="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var ranges=this.multiSelect.rangeList.ranges,buf=[],i=0;i<ranges.length;i++)buf.push(this.session.getTextRange(ranges[i]));var nl=this.session.getDocument().getNewLineCharacter();(text=buf.join(nl)).length==(buf.length-1)*nl.length&&(text="")}else this.selection.isEmpty()||(text=this.session.getTextRange(this.getSelectionRange()));return text},this.$checkMultiselectChange=function(e,anchor){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var range=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&anchor==this.multiSelect.anchor)return;var pos=anchor==this.multiSelect.anchor?range.cursor==range.start?range.end:range.start:range.cursor;pos.row!=anchor.row||this.session.$clipPositionToDocument(pos.row,pos.column).column!=anchor.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(needle,options,additive){if((options=options||{}).needle=needle||options.needle,null==options.needle){var range=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();options.needle=this.session.getTextRange(range)}this.$search.set(options);var ranges=this.$search.findAll(this.session);if(!ranges.length)return 0;var selection=this.multiSelect;additive||selection.toSingleRange(ranges[0]);for(var i=ranges.length;i--;)selection.addRange(ranges[i],!0);return range&&selection.rangeList.rangeAtPoint(range.start)&&selection.addRange(range,!0),ranges.length},this.selectMoreLines=function(dir,skip){var range=this.selection.toOrientedRange(),isBackwards=range.cursor==range.end,screenLead=this.session.documentToScreenPosition(range.cursor);this.selection.$desiredColumn&&(screenLead.column=this.selection.$desiredColumn);var newRange,lead=this.session.screenToDocumentPosition(screenLead.row+dir,screenLead.column);if(range.isEmpty())anchor=lead;else var screenAnchor=this.session.documentToScreenPosition(isBackwards?range.end:range.start),anchor=this.session.screenToDocumentPosition(screenAnchor.row+dir,screenAnchor.column);isBackwards?(newRange=Range.fromPoints(lead,anchor)).cursor=newRange.start:(newRange=Range.fromPoints(anchor,lead)).cursor=newRange.end;if(newRange.desiredColumn=screenLead.column,this.selection.inMultiSelectMode){if(skip)var toRemove=range.cursor}else this.selection.addRange(range);this.selection.addRange(newRange),toRemove&&this.selection.substractPoint(toRemove)},this.transposeSelections=function(dir){for(var session=this.session,sel=session.multiSelect,all=sel.ranges,i=all.length;i--;){if((range=all[i]).isEmpty()){var tmp=session.getWordRange(range.start.row,range.start.column);range.start.row=tmp.start.row,range.start.column=tmp.start.column,range.end.row=tmp.end.row,range.end.column=tmp.end.column}}sel.mergeOverlappingRanges();var words=[];for(i=all.length;i--;){var range=all[i];words.unshift(session.getTextRange(range))}dir<0?words.unshift(words.pop()):words.push(words.shift());for(i=all.length;i--;){tmp=(range=all[i]).clone();session.replace(range,words[i]),range.start.row=tmp.start.row,range.start.column=tmp.start.column}sel.fromOrientedRange(sel.ranges[0])},this.selectMore=function(dir,skip,stopAtFirst){var session=this.session,range=session.multiSelect.toOrientedRange();if(!range.isEmpty()||((range=session.getWordRange(range.start.row,range.start.column)).cursor=-1==dir?range.start:range.end,this.multiSelect.addRange(range),!stopAtFirst)){var needle=session.getTextRange(range),newRange=function find(session,needle,dir){return search.$options.wrap=!0,search.$options.needle=needle,search.$options.backwards=-1==dir,search.find(session)}(session,needle,dir);newRange&&(newRange.cursor=-1==dir?newRange.start:newRange.end,this.session.unfold(newRange),this.multiSelect.addRange(newRange),this.renderer.scrollCursorIntoView(null,.5)),skip&&this.multiSelect.substractPoint(range.cursor)}},this.alignCursors=function(){var session=this.session,sel=session.multiSelect,ranges=sel.ranges,row=-1,sameRowRanges=ranges.filter((function(r){if(r.cursor.row==row)return!0;row=r.cursor.row}));if(ranges.length&&sameRowRanges.length!=ranges.length-1){sameRowRanges.forEach((function(r){sel.substractPoint(r.cursor)}));var maxCol=0,minSpace=1/0,spaceOffsets=ranges.map((function(r){var p=r.cursor,spaceOffset=session.getLine(p.row).substr(p.column).search(/\S/g);return-1==spaceOffset&&(spaceOffset=0),p.column>maxCol&&(maxCol=p.column),spaceOffset<minSpace&&(minSpace=spaceOffset),spaceOffset}));ranges.forEach((function(r,i){var p=r.cursor,l=maxCol-p.column,d=spaceOffsets[i]-minSpace;l>d?session.insert(p,lang.stringRepeat(" ",l-d)):session.remove(new Range(p.row,p.column,p.row,p.column-l+d)),r.start.column=r.end.column=maxCol,r.start.row=r.end.row=p.row,r.cursor=r.end})),sel.fromOrientedRange(ranges[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var range=this.selection.getRange(),fr=range.start.row,lr=range.end.row,guessRange=fr==lr;if(guessRange){var line,max=this.session.getLength();do{line=this.session.getLine(lr)}while(/[=:]/.test(line)&&++lr<max);do{line=this.session.getLine(fr)}while(/[=:]/.test(line)&&--fr>0);fr<0&&(fr=0),lr>=max&&(lr=max-1)}var lines=this.session.removeFullLines(fr,lr);lines=this.$reAlignText(lines,guessRange),this.session.insert({row:fr,column:0},lines.join("\n")+"\n"),guessRange||(range.start.column=0,range.end.column=lines[lines.length-1].length),this.selection.setRange(range)}},this.$reAlignText=function(lines,forceLeft){var startW,textW,endW,isLeftAligned=!0,isRightAligned=!0;return lines.map((function(line){var m=line.match(/(\s*)(.*?)(\s*)([=:].*)/);return m?null==startW?(startW=m[1].length,textW=m[2].length,endW=m[3].length,m):(startW+textW+endW!=m[1].length+m[2].length+m[3].length&&(isRightAligned=!1),startW!=m[1].length&&(isLeftAligned=!1),startW>m[1].length&&(startW=m[1].length),textW<m[2].length&&(textW=m[2].length),endW>m[3].length&&(endW=m[3].length),m):[line]})).map(forceLeft?alignLeft:isLeftAligned?isRightAligned?function alignRight(m){return m[2]?spaces(startW+textW-m[2].length)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}:alignLeft:function unAlign(m){return m[2]?spaces(startW)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]});function spaces(n){return lang.stringRepeat(" ",n)}function alignLeft(m){return m[2]?spaces(startW)+m[2]+spaces(textW-m[2].length+endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}}}).call(Editor.prototype),exports.onSessionChange=function(e){var session=e.session;session&&!session.multiSelect&&(session.$selectionMarkers=[],session.selection.$initRangeList(),session.multiSelect=session.selection),this.multiSelect=session&&session.multiSelect;var oldSession=e.oldSession;oldSession&&(oldSession.multiSelect.off("addRange",this.$onAddRange),oldSession.multiSelect.off("removeRange",this.$onRemoveRange),oldSession.multiSelect.off("multiSelect",this.$onMultiSelect),oldSession.multiSelect.off("singleSelect",this.$onSingleSelect),oldSession.multiSelect.lead.off("change",this.$checkMultiselectChange),oldSession.multiSelect.anchor.off("change",this.$checkMultiselectChange)),session&&(session.multiSelect.on("addRange",this.$onAddRange),session.multiSelect.on("removeRange",this.$onRemoveRange),session.multiSelect.on("multiSelect",this.$onMultiSelect),session.multiSelect.on("singleSelect",this.$onSingleSelect),session.multiSelect.lead.on("change",this.$checkMultiselectChange),session.multiSelect.anchor.on("change",this.$checkMultiselectChange)),session&&this.inMultiSelectMode!=session.selection.inMultiSelectMode&&(session.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},exports.MultiSelect=MultiSelect,require("./config").defineOptions(Editor.prototype,"editor",{enableMultiselect:{set:function(val){MultiSelect(this),val?this.on("mousedown",onMouseDown):this.off("mousedown",onMouseDown)},value:!0},enableBlockSelect:{set:function(val){this.$blockSelectEnabled=val},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(require,exports,module){"use strict";var Range=require("../../range").Range,FoldMode=exports.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);return this.foldingStartMarker.test(line)?"start":"markbeginend"==foldStyle&&this.foldingStopMarker&&this.foldingStopMarker.test(line)?"end":""},this.getFoldWidgetRange=function(session,foldStyle,row){return null},this.indentationBlock=function(session,row,column){var re=/\S/,line=session.getLine(row),startLevel=line.search(re);if(-1!=startLevel){for(var startColumn=column||line.length,maxRow=session.getLength(),startRow=row,endRow=row;++row<maxRow;){var level=session.getLine(row).search(re);if(-1!=level){if(level<=startLevel){var token=session.getTokenAt(row,0);if(!token||"string"!==token.type)break}endRow=row}}if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}}},this.openingBracketBlock=function(session,bracket,row,column,typeRe){var start={row,column:column+1},end=session.$findClosingBracket(bracket,start,typeRe);if(end){var fw=session.foldWidgets[end.row];return null==fw&&(fw=session.getFoldWidget(end.row)),"start"==fw&&end.row>start.row&&(end.row--,end.column=session.getLine(end.row).length),Range.fromPoints(start,end)}},this.closingBracketBlock=function(session,bracket,row,column,typeRe){var end={row,column},start=session.$findOpeningBracket(bracket,end);if(start)return start.column++,end.column--,Range.fromPoints(start,end)}}).call(FoldMode.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],(function(require,exports,module){"use strict";var LineWidgets=require("../line_widgets").LineWidgets,dom=require("../lib/dom"),Range=require("../range").Range,nls=require("../config").nls;exports.showErrorMarker=function(editor,dir){var session=editor.session;session.widgetManager||(session.widgetManager=new LineWidgets(session),session.widgetManager.attach(editor));var pos=editor.getCursorPosition(),row=pos.row,oldWidget=session.widgetManager.getWidgetsAtRow(row).filter((function(w){return"errorMarker"==w.type}))[0];oldWidget?oldWidget.destroy():row-=dir;var gutterAnno,annotations=function findAnnotations(session,row,dir){var annotations=session.getAnnotations().sort(Range.comparePoints);if(annotations.length){var i=function binarySearch(array,needle,comparator){for(var first=0,last=array.length-1;first<=last;){var mid=first+last>>1,c=comparator(needle,array[mid]);if(c>0)first=mid+1;else{if(!(c<0))return mid;last=mid-1}}return-(first+1)}(annotations,{row,column:-1},Range.comparePoints);i<0&&(i=-i-1),i>=annotations.length?i=dir>0?0:annotations.length-1:0===i&&dir<0&&(i=annotations.length-1);var annotation=annotations[i];if(annotation&&dir){if(annotation.row===row){do{annotation=annotations[i+=dir]}while(annotation&&annotation.row===row);if(!annotation)return annotations.slice()}var matched=[];row=annotation.row;do{matched[dir<0?"unshift":"push"](annotation),annotation=annotations[i+=dir]}while(annotation&&annotation.row==row);return matched.length&&matched}}}(session,row,dir);if(annotations){var annotation=annotations[0];pos.column=(annotation.pos&&"number"!=typeof annotation.column?annotation.pos.sc:annotation.column)||0,pos.row=annotation.row,gutterAnno=editor.renderer.$gutterLayer.$annotations[pos.row]}else{if(oldWidget)return;gutterAnno={text:[nls("Looks good!")],className:"ace_ok"}}editor.session.unfold(pos.row),editor.selection.moveToPosition(pos);var w={row:pos.row,fixedWidth:!0,coverGutter:!0,el:dom.createElement("div"),type:"errorMarker"},el=w.el.appendChild(dom.createElement("div")),arrow=w.el.appendChild(dom.createElement("div"));arrow.className="error_widget_arrow "+gutterAnno.className;var left=editor.renderer.$cursorLayer.getPixelPosition(pos).left;arrow.style.left=left+editor.renderer.gutterWidth-5+"px",w.el.className="error_widget_wrapper",el.className="error_widget "+gutterAnno.className,el.innerHTML=gutterAnno.text.join("<br>"),el.appendChild(dom.createElement("div"));var kb=function(_,hashId,keyString){if(0===hashId&&("esc"===keyString||"return"===keyString))return w.destroy(),{command:"null"}};w.destroy=function(){editor.$mouseHandler.isMousePressed||(editor.keyBinding.removeKeyboardHandler(kb),session.widgetManager.removeLineWidget(w),editor.off("changeSelection",w.destroy),editor.off("changeSession",w.destroy),editor.off("mouseup",w.destroy),editor.off("change",w.destroy))},editor.keyBinding.addKeyboardHandler(kb),editor.on("changeSelection",w.destroy),editor.on("changeSession",w.destroy),editor.on("mouseup",w.destroy),editor.on("change",w.destroy),editor.session.widgetManager.addLineWidget(w),w.el.onmousedown=editor.focus.bind(editor),editor.renderer.scrollCursorIntoView(null,.5,{bottom:w.el.offsetHeight})},dom.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(require,exports,module){"use strict";require("./loader_build")(exports);var dom=require("./lib/dom"),Range=require("./range").Range,Editor=require("./editor").Editor,EditSession=require("./edit_session").EditSession,UndoManager=require("./undomanager").UndoManager,Renderer=require("./virtual_renderer").VirtualRenderer;require("./worker/worker_client"),require("./keyboard/hash_handler"),require("./placeholder"),require("./multi_select"),require("./mode/folding/fold_mode"),require("./theme/textmate"),require("./ext/error_marker"),exports.config=require("./config"),exports.edit=function(el,options){if("string"==typeof el){var _id=el;if(!(el=document.getElementById(_id)))throw new Error("ace.edit can't find div #"+_id)}if(el&&el.env&&el.env.editor instanceof Editor)return el.env.editor;var value="";if(el&&/input|textarea/i.test(el.tagName)){var oldNode=el;value=oldNode.value,el=dom.createElement("pre"),oldNode.parentNode.replaceChild(el,oldNode)}else el&&(value=el.textContent,el.innerHTML="");var doc=exports.createEditSession(value),editor=new Editor(new Renderer(el),doc,options),env={document:doc,editor,onResize:editor.resize.bind(editor,null)};return oldNode&&(env.textarea=oldNode),editor.on("destroy",(function(){env.editor.container.env=null})),editor.container.env=editor.env=env,editor},exports.createEditSession=function(text,mode){var doc=new EditSession(text,mode);return doc.setUndoManager(new UndoManager),doc},exports.Range=Range,exports.Editor=Editor,exports.EditSession=EditSession,exports.UndoManager=UndoManager,exports.VirtualRenderer=Renderer,exports.version=exports.config.version})),ace.require(["ace/ace"],(function(a){for(var key in a&&(a.config.init(!0),a.define=ace.define),window.ace||(window.ace=a),a)a.hasOwnProperty(key)&&(window.ace[key]=a[key]);window.ace.default=window.ace,module&&(module.exports=window.ace)}))},"./node_modules/ace-builds/src-noconflict/ext-language_tools.js":(module,__unused_webpack_exports,__webpack_require__)=>{module=__webpack_require__.nmd(module),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],(function(require,exports,module){"use strict";var dom=require("./lib/dom"),oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,lang=require("./lib/lang"),Range=require("./range").Range,RangeList=require("./range_list").RangeList,HashHandler=require("./keyboard/hash_handler").HashHandler,Tokenizer=require("./tokenizer").Tokenizer,clipboard=require("./clipboard"),VARIABLES={CURRENT_WORD:function(editor){return editor.session.getTextRange(editor.session.getWordRange())},SELECTION:function(editor,name,indentation){var text=editor.session.getTextRange();return indentation?text.replace(/\n\r?([ \t]*\S)/g,"\n"+indentation+"$1"):text},CURRENT_LINE:function(editor){return editor.session.getLine(editor.getCursorPosition().row)},PREV_LINE:function(editor){return editor.session.getLine(editor.getCursorPosition().row-1)},LINE_INDEX:function(editor){return editor.getCursorPosition().row},LINE_NUMBER:function(editor){return editor.getCursorPosition().row+1},SOFT_TABS:function(editor){return editor.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(editor){return editor.session.getTabSize()},CLIPBOARD:function(editor){return clipboard.getText&&clipboard.getText()},FILENAME:function(editor){return/[^/\\]*$/.exec(this.FILEPATH(editor))[0]},FILENAME_BASE:function(editor){return/[^/\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(editor){return this.FILEPATH(editor).replace(/[^/\\]*$/,"")},FILEPATH:function(editor){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(editor){var mode=editor.session.$mode||{};return mode.blockComment&&mode.blockComment.start||""},BLOCK_COMMENT_END:function(editor){var mode=editor.session.$mode||{};return mode.blockComment&&mode.blockComment.end||""},LINE_COMMENT:function(editor){return(editor.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:date.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:date.bind(null,{year:"2-digit"}),CURRENT_MONTH:date.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:date.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:date.bind(null,{month:"short"}),CURRENT_DATE:date.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:date.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:date.bind(null,{weekday:"short"}),CURRENT_HOUR:date.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:date.bind(null,{minute:"2-digit"}),CURRENT_SECOND:date.bind(null,{second:"2-digit"})};function date(dateFormat){var str=(new Date).toLocaleString("en-us",dateFormat);return 1==str.length?"0"+str:str}VARIABLES.SELECTED_TEXT=VARIABLES.SELECTION;var SnippetManager=function(){function SnippetManager(){this.snippetMap={},this.snippetNameMap={},this.variables=VARIABLES}return SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer||this.createTokenizer()},SnippetManager.prototype.createTokenizer=function(){function TabstopToken(str){return str=str.substr(1),/^\d+$/.test(str)?[{tabstopId:parseInt(str,10)}]:[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}var formatMatcher={regex:"/("+escape("/")+"+)/",onMatch:function(val,state,stack){var ts=stack[0];return ts.fmtString=!0,ts.guard=val.slice(1,-1),ts.flag="",""},next:"formatString"};return SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return("}"==ch&&stack.length||-1!="`$\\".indexOf(ch))&&(val=ch),[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1));return stack.unshift(t[0]),t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){var choices=val.slice(1,-1).replace(/\\[,|\\]|,/g,(function(operator){return 2==operator.length?operator[1]:"\0"})).split("\0").map((function(value){return{value}}));return stack[0].choices=choices,[choices[0]]},next:"start"},formatMatcher,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(val,state,stack){return stack.length&&stack[0].expectElse?(stack[0].expectElse=!1,stack[0].ifEnd={elseEnd:stack[0]},[stack[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return"}"==ch&&stack.length||-1!="`$\\".indexOf(ch)?val=ch:"n"==ch?val="\n":"t"==ch?val="\t":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"}),[val]}},{regex:"/\\w*}",onMatch:function(val,state,stack){var next=stack.shift();return next&&(next.flag=val.slice(1,-1)),this.next=next&&next.tabstopId?"start":"",[next||val]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(val,state,stack){return[{text:val.slice(1)}]}},{regex:/\${\w+/,onMatch:function(val,state,stack){var token={text:val.slice(2)};return stack.unshift(token),[token]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(val,state,stack){var next=stack.shift();return this.next=next&&next.tabstopId?"start":"",[next||val]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(val,state,stack){return stack[0].formatFunction=val.slice(2,-1),[stack.shift()]},next:"formatString"},formatMatcher,{regex:/:[\?\-+]?/,onMatch:function(val,state,stack){"+"==val[1]&&(stack[0].ifEnd=stack[0]),"?"==val[1]&&(stack[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),SnippetManager.$tokenizer},SnippetManager.prototype.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map((function(x){return x.value||x}))},SnippetManager.prototype.getVariableValue=function(editor,name,indentation){if(/^\d+$/.test(name))return(this.variables.__||{})[name]||"";if(/^[A-Z]\d+$/.test(name))return(this.variables[name[0]+"__"]||{})[name.substr(1)]||"";if(name=name.replace(/^TM_/,""),!this.variables.hasOwnProperty(name))return"";var value=this.variables[name];return"function"==typeof value&&(value=this.variables[name](editor,name,indentation)),null==value?"":value},SnippetManager.prototype.tmStrFormat=function(str,ch,editor){if(!ch.fmt)return str;var flag=ch.flag||"",re=ch.guard;re=new RegExp(re,flag.replace(/[^gim]/g,""));var fmtTokens="string"==typeof ch.fmt?this.tokenizeTmSnippet(ch.fmt,"formatString"):ch.fmt,_self=this,formatted=str.replace(re,(function(){var oldArgs=_self.variables.__;_self.variables.__=[].slice.call(arguments);for(var fmtParts=_self.resolveVariables(fmtTokens,editor),gChangeCase="E",i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch)if(fmtParts[i]="",ch.changeCase&&ch.local){var next=fmtParts[i+1];next&&"string"==typeof next&&("u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase(),fmtParts[i+1]=next.substr(1))}else ch.changeCase&&(gChangeCase=ch.changeCase);else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return _self.variables.__=oldArgs,fmtParts.join("")}));return formatted},SnippetManager.prototype.tmFormatFunction=function(str,ch,editor){return"upcase"==ch.formatFunction?str.toUpperCase():"downcase"==ch.formatFunction?str.toLowerCase():str},SnippetManager.prototype.resolveVariables=function(snippet,editor){for(var result=[],indentation="",afterNewLine=!0,i=0;i<snippet.length;i++){var ch=snippet[i];if("string"!=typeof ch){if(ch){if(afterNewLine=!1,ch.fmtString){var j=snippet.indexOf(ch,i+1);-1==j&&(j=snippet.length),ch.fmt=snippet.slice(i+1,j),i=j}if(ch.text){var value=this.getVariableValue(editor,ch.text,indentation)+"";ch.fmtString&&(value=this.tmStrFormat(value,ch,editor)),ch.formatFunction&&(value=this.tmFormatFunction(value,ch,editor)),value&&!ch.ifEnd?(result.push(value),gotoNext(ch)):!value&&ch.ifEnd&&gotoNext(ch.ifEnd)}else ch.elseEnd?gotoNext(ch.elseEnd):(null!=ch.tabstopId||null!=ch.changeCase)&&result.push(ch)}}else result.push(ch),"\n"==ch?(afterNewLine=!0,indentation=""):afterNewLine&&(indentation=/^\t*/.exec(ch)[0],afterNewLine=/\S/.test(ch))}function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}return result},SnippetManager.prototype.getDisplayTextForSnippet=function(editor,snippetText){return processSnippetText.call(this,editor,snippetText).text},SnippetManager.prototype.insertSnippetForSelection=function(editor,snippetText,options){void 0===options&&(options={});var processedSnippet=processSnippetText.call(this,editor,snippetText,options),range=editor.getSelectionRange();options.range&&0===options.range.compareRange(range)&&(range=options.range);var end=editor.session.replace(range,processedSnippet.text),tabstopManager=new TabstopManager(editor),selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(processedSnippet.tabstops,range.start,end,selectionId)},SnippetManager.prototype.insertSnippet=function(editor,snippetText,options){void 0===options&&(options={});var self=this;if(!options.range||options.range instanceof Range||(options.range=Range.fromPoints(options.range.start,options.range.end)),editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText,options);editor.forEachSelection((function(){self.insertSnippetForSelection(editor,snippetText,options)}),null,{keepOrder:!0}),editor.tabstopManager&&editor.tabstopManager.tabNext()},SnippetManager.prototype.$getScope=function(editor){var scope=editor.session.$mode.$id||"";if("html"===(scope=scope.split("/").pop())||"php"===scope){"php"!==scope||editor.session.$mode.inlinePhp||(scope="html");var c=editor.getCursorPosition(),state=editor.session.getState(c.row);"object"==typeof state&&(state=state[0]),state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope},SnippetManager.prototype.getActiveScopes=function(editor){var scope=this.$getScope(editor),scopes=[scope],snippetMap=this.snippetMap;return snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes),scopes.push("_"),scopes},SnippetManager.prototype.expandWithTab=function(editor,options){var self=this,result=editor.forEachSelection((function(){return self.expandSnippetForSelection(editor,options)}),null,{keepOrder:!0});return result&&editor.tabstopManager&&editor.tabstopManager.tabNext(),result},SnippetManager.prototype.expandSnippetForSelection=function(editor,options){var snippet,cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),before=line.substring(0,cursor.column),after=line.substr(cursor.column),snippetMap=this.snippetMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=this.findMatchingSnippet(snippets,before,after)),!!snippet}),this),!!snippet&&(options&&options.dryRun||(editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length),this.variables.M__=snippet.matchBefore,this.variables.T__=snippet.matchAfter,this.insertSnippetForSelection(editor,snippet.content),this.variables.M__=this.variables.T__=null),!0)},SnippetManager.prototype.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if((!s.startRe||s.startRe.test(before))&&((!s.endRe||s.endRe.test(after))&&(s.startRe||s.endRe)))return s.matchBefore=s.startRe?s.startRe.exec(before):[""],s.matchAfter=s.endRe?s.endRe.exec(after):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"",s}},SnippetManager.prototype.register=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap,self=this;function wrapRegexp(src){return src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")"),src||""}function guardedRegexp(re,guard,opening){return re=wrapRegexp(re),guard=wrapRegexp(guard),opening?(re=guard+re)&&"$"!=re[re.length-1]&&(re+="$"):(re+=guard)&&"^"!=re[0]&&(re="^"+re),new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_"),scope=s.scope,snippetMap[scope]||(snippetMap[scope]=[],snippetNameMap[scope]={});var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old),map[s.name]=s}snippetMap[scope].push(s),s.prefix&&(s.tabTrigger=s.prefix),!s.content&&s.body&&(s.content=Array.isArray(s.body)?s.body.join("\n"):s.body),s.tabTrigger&&!s.trigger&&(!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b"),s.trigger=lang.escapeRegExp(s.tabTrigger)),(s.trigger||s.guard||s.endTrigger||s.endGuard)&&(s.startRe=guardedRegexp(s.trigger,s.guard,!0),s.triggerRe=new RegExp(s.trigger),s.endRe=guardedRegexp(s.endTrigger,s.endGuard,!0),s.endTriggerRe=new RegExp(s.endTrigger))}snippets||(snippets=[]),Array.isArray(snippets)?snippets.forEach(addSnippet):Object.keys(snippets).forEach((function(key){addSnippet(snippets[key])})),this._signal("registerSnippets",{scope})},SnippetManager.prototype.unregister=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap;function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope],i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)},SnippetManager.prototype.parseSnippetFile=function(str){str=str.replace(/\r/g,"");for(var m,list=[],snippet={},re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;m=re.exec(str);){if(m[1])try{snippet=JSON.parse(m[1]),list.push(snippet)}catch(e){}if(m[4])snippet.content=m[4].replace(/^\t/gm,""),list.push(snippet),snippet={};else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1],snippet.trigger=guardRe.exec(val)[1],snippet.endTrigger=guardRe.exec(val)[1],snippet.endGuard=guardRe.exec(val)[1]}else"snippet"==key?(snippet.tabTrigger=val.match(/^\S*/)[0],snippet.name||(snippet.name=val)):key&&(snippet[key]=val)}}return list},SnippetManager.prototype.getSnippetByName=function(name,editor){var snippet,snippetMap=this.snippetNameMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=snippets[name]),!!snippet}),this),snippet},SnippetManager}();oop.implement(SnippetManager.prototype,EventEmitter);var processSnippetText=function(editor,snippetText,options){void 0===options&&(options={});var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),tabString=editor.session.getTabString(),indentString=line.match(/^\s*/)[0];cursor.column<indentString.length&&(indentString=indentString.slice(0,cursor.column)),snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=(tokens=this.resolveVariables(tokens,editor)).map((function(x){return"\n"!=x||options.excludeExtraIndent?"string"==typeof x?x.replace(/\t/g,tabString):x:x+indentString}));var tabstops=[];tokens.forEach((function(p,i){if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id];if(ts||((ts=tabstops[id]=[]).index=id,ts.value="",ts.parents={}),-1===ts.indexOf(p)){p.choices&&!ts.choices&&(ts.choices=p.choices),ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1!==i1){var value=tokens.slice(i+1,i1);value.some((function(t){return"object"==typeof t}))&&!ts.value?ts.value=value:!value.length||ts.value&&"string"==typeof ts.value||(ts.value=value.join(""))}}}})),tabstops.forEach((function(ts){ts.length=0}));var expanding={};function copyValue(val){for(var copy=[],i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;p=copy[val.lastIndexOf(p,i-1)]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}for(var i=0;i<tokens.length;i++){var p=tokens[i];if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id],i1=tokens.indexOf(p,i+1);if(expanding[id])expanding[id]===p&&(delete expanding[id],Object.keys(expanding).forEach((function(parentId){ts.parents[parentId]=!0})));else{expanding[id]=p;var value=ts.value;"string"!=typeof value?value=copyValue(value):p.fmt&&(value=this.tmStrFormat(value,p,editor)),tokens.splice.apply(tokens,[i+1,Math.max(0,i1-i)].concat(value,p)),-1===ts.indexOf(p)&&ts.push(p)}}}var row=0,column=0,text="";return tokens.forEach((function(t){if("string"==typeof t){var lines=t.split("\n");lines.length>1?(column=lines[lines.length-1].length,row+=lines.length-1):column+=t.length,text+=t}else t&&(t.start?t.end={row,column}:t.start={row,column})})),{text,tabstops,tokens}},TabstopManager=function(){function TabstopManager(editor){if(this.index=0,this.ranges=[],this.tabstops=[],editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(editor)}return TabstopManager.prototype.attach=function(editor){this.$openTabstops=null,this.selectedTabstop=null,this.editor=editor,this.session=editor.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},TabstopManager.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},TabstopManager.prototype.onChange=function(delta){for(var isRemove="r"==delta.action[0],selectedTabstop=this.selectedTabstop||{},parents=selectedTabstop.parents||{},tabstops=this.tabstops.slice(),i=0;i<tabstops.length;i++){var ts=tabstops[i],active=ts==selectedTabstop||parents[ts.index];if(ts.rangeList.$bias=active?0:1,"remove"==delta.action&&ts!==selectedTabstop){var parentActive=ts.parents&&ts.parents[selectedTabstop.index],startIndex=ts.rangeList.pointIndex(delta.start,parentActive);startIndex=startIndex<0?-startIndex-1:startIndex+1;var endIndex=ts.rangeList.pointIndex(delta.end,parentActive);endIndex=endIndex<0?-endIndex-1:endIndex-1;for(var toRemove=ts.rangeList.ranges.slice(startIndex,endIndex),j=0;j<toRemove.length;j++)this.removeRange(toRemove[j])}ts.rangeList.$onChange(delta)}var session=this.session;this.$inChange||!isRemove||1!=session.getLength()||session.getValue()||this.detach()},TabstopManager.prototype.updateLinkedFields=function(){var ts=this.selectedTabstop;if(ts&&ts.hasLinkedRanges&&ts.firstNonLinked){this.$inChange=!0;for(var session=this.session,text=session.getTextRange(ts.firstNonLinked),i=0;i<ts.length;i++){var range=ts[i];if(range.linked){var original=range.original,fmt=exports.snippetManager.tmStrFormat(text,original,this.editor);session.replace(range,fmt)}}this.$inChange=!1}},TabstopManager.prototype.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},TabstopManager.prototype.onChangeSelection=function(){if(this.editor){for(var lead=this.editor.selection.lead,anchor=this.editor.selection.anchor,isEmpty=this.editor.selection.isEmpty(),i=0;i<this.ranges.length;i++)if(!this.ranges[i].linked){var containsLead=this.ranges[i].contains(lead.row,lead.column),containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()}},TabstopManager.prototype.onChangeSession=function(){this.detach()},TabstopManager.prototype.tabNext=function(dir){var max=this.tabstops.length,index=this.index+(dir||1);(index=Math.min(Math.max(index,1),max))==max&&(index=0),this.selectTabstop(index),0===index&&this.detach()},TabstopManager.prototype.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];if(ts&&this.addTabstopMarkers(ts),this.index=index,(ts=this.tabstops[this.index])&&ts.length){this.selectedTabstop=ts;var range=ts.firstNonLinked||ts;if(ts.choices&&(range.cursor=range.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(range);else{var sel=this.editor.multiSelect;sel.toSingleRange(range);for(var i=0;i<ts.length;i++)ts.hasLinkedRanges&&ts[i].linked||sel.addRange(ts[i].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},TabstopManager.prototype.addTabstops=function(tabstops,start,end){var useLink=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start),moveRelative(p.end,start),tabstops[0]=[p],tabstops[0].index=0}var arg=[this.index+1,0],ranges=this.ranges;tabstops.forEach((function(ts,index){for(var dest=this.$openTabstops[index]||ts,i=0;i<ts.length;i++){var p=ts[i],range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start),movePoint(range.end,start),range.original=p,range.tabstop=dest,ranges.push(range),dest!=ts?dest.unshift(range):dest[i]=range,p.fmtString||dest.firstNonLinked&&useLink?(range.linked=!0,dest.hasLinkedRanges=!0):dest.firstNonLinked||(dest.firstNonLinked=range)}dest.firstNonLinked||(dest.hasLinkedRanges=!1),dest===ts&&(arg.push(dest),this.$openTabstops[index]=dest),this.addTabstopMarkers(dest),dest.rangeList=dest.rangeList||new RangeList,dest.rangeList.$bias=0,dest.rangeList.addList(dest)}),this),arg.length>2&&(this.tabstops.length&&arg.push(arg.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,arg))},TabstopManager.prototype.addTabstopMarkers=function(ts){var session=this.session;ts.forEach((function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))}))},TabstopManager.prototype.removeTabstopMarkers=function(ts){var session=this.session;ts.forEach((function(range){session.removeMarker(range.markerId),range.markerId=null}))},TabstopManager.prototype.removeRange=function(range){var i=range.tabstop.indexOf(range);-1!=i&&range.tabstop.splice(i,1),-1!=(i=this.ranges.indexOf(range))&&this.ranges.splice(i,1),-1!=(i=range.tabstop.rangeList.ranges.indexOf(range))&&range.tabstop.splice(i,1),this.session.removeMarker(range.markerId),range.tabstop.length||(-1!=(i=this.tabstops.indexOf(range.tabstop))&&this.tabstops.splice(i,1),this.tabstops.length||this.detach())},TabstopManager}();TabstopManager.prototype.keyboardHandler=new HashHandler,TabstopManager.prototype.keyboardHandler.bindKeys({Tab:function(editor){exports.snippetManager&&exports.snippetManager.expandWithTab(editor)||(editor.tabstopManager.tabNext(1),editor.renderer.scrollCursorIntoView())},"Shift-Tab":function(editor){editor.tabstopManager.tabNext(-1),editor.renderer.scrollCursorIntoView()},Esc:function(editor){editor.tabstopManager.detach()}});var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column),point.row+=diff.row},moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column),point.row-=start.row};dom.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),exports.snippetManager=new SnippetManager;var Editor=require("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)},this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config"],(function(require,exports,module){"use strict";var Renderer=require("../virtual_renderer").VirtualRenderer,Editor=require("../editor").Editor,Range=require("../range").Range,event=require("../lib/event"),lang=require("../lib/lang"),dom=require("../lib/dom"),nls=require("../config").nls,getAriaId=function(index){return"suggest-aria-id:".concat(index)},$singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);return editor.setHighlightActiveLine(!1),editor.setShowPrintMargin(!1),editor.renderer.setShowGutter(!1),editor.renderer.setHighlightGutterLine(!1),editor.$mouseHandler.$focusTimeout=0,editor.$highlightTagPending=!0,editor},AcePopup=function AcePopup(parentNode){var el=dom.createElement("div"),popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el),el.style.display="none",popup.renderer.content.style.cursor="default",popup.renderer.setStyle("ace_autocomplete"),popup.renderer.container.setAttribute("role","listbox"),popup.renderer.container.setAttribute("aria-label",nls("Autocomplete suggestions")),popup.setOption("displayIndentGuides",!1),popup.setOption("dragDelay",150);var lastMouseEvent,noop=function(){};popup.focus=noop,popup.$isFocused=!0,popup.renderer.$cursorLayer.restartTimer=noop,popup.renderer.$cursorLayer.element.style.opacity=0,popup.renderer.$maxLines=8,popup.renderer.$keepTextAreaAtCursor=!1,popup.setHighlightActiveLine(!1),popup.session.highlight(""),popup.session.$searchHighlight.clazz="ace_highlight-marker",popup.on("mousedown",(function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos),selectionMarker.start.row=selectionMarker.end.row=pos.row,e.stop()}));var hoverMarker=new Range(-1,0,-1,1/0),selectionMarker=new Range(-1,0,-1,1/0);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine"),popup.setSelectOnHover=function(val){val?hoverMarker.id&&(popup.session.removeMarker(hoverMarker.id),hoverMarker.id=null):hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")},popup.setSelectOnHover(!1),popup.on("mousemove",(function(e){if(lastMouseEvent){if(lastMouseEvent.x!=e.x||lastMouseEvent.y!=e.y){(lastMouseEvent=e).scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.start.row!=row&&(hoverMarker.id||popup.setRow(row),setHoverMarker(row))}}else lastMouseEvent=e})),popup.renderer.on("beforeRender",(function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row),setHoverMarker(row,!0)}})),popup.renderer.on("afterRender",(function(){var row=popup.getRow(),t=popup.renderer.$textLayer,selected=t.element.childNodes[row-t.config.firstRow],el=document.activeElement;if(selected!==t.selectedNode&&t.selectedNode&&(dom.removeCssClass(t.selectedNode,"ace_selected"),el.removeAttribute("aria-activedescendant"),t.selectedNode.removeAttribute("id")),t.selectedNode=selected,selected){dom.addCssClass(selected,"ace_selected");var ariaId=getAriaId(row);selected.id=ariaId,popup.renderer.container.setAttribute("aria-activedescendant",ariaId),el.setAttribute("aria-activedescendant",ariaId),selected.setAttribute("role","option"),selected.setAttribute("aria-label",popup.getData(row).value),selected.setAttribute("aria-setsize",popup.data.length),selected.setAttribute("aria-posinset",row),selected.setAttribute("aria-describedby","doc-tooltip")}}));var hideHoverMarker=function(){setHoverMarker(-1)},setHoverMarker=function(row,suppressRedraw){row!==hoverMarker.start.row&&(hoverMarker.start.row=hoverMarker.end.row=row,suppressRedraw||popup.session._emit("changeBackMarker"),popup._emit("changeHoverMarker"))};popup.getHoveredRow=function(){return hoverMarker.start.row},event.addListener(popup.container,"mouseout",hideHoverMarker),popup.on("hide",hideHoverMarker),popup.on("changeSelection",hideHoverMarker),popup.session.doc.getLength=function(){return popup.data.length},popup.session.doc.getLine=function(i){var data=popup.data[i];return"string"==typeof data?data:data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;return bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row],tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data});var caption=data.caption||data.value||data.name;function addToken(value,className){value&&tokens.push({type:(data.className||"")+(className||""),value})}for(var lower=caption.toLowerCase(),filterText=(popup.filterText||"").toLowerCase(),lastIndex=0,lastI=0,i=0;i<=filterText.length;i++)if(i!=lastI&&(data.matchMask&1<<i||i==filterText.length)){var sub=filterText.slice(lastI,i);lastI=i;var index=lower.indexOf(sub,lastIndex);if(-1==index)continue;addToken(caption.slice(lastIndex,index),""),lastIndex=index+sub.length,addToken(caption.slice(index,lastIndex),"completion-highlight")}return addToken(caption.slice(lastIndex,caption.length),""),tokens.push({type:"completion-spacer",value:" "}),data.meta&&tokens.push({type:"completion-meta",value:data.meta}),data.message&&tokens.push({type:"completion-message",value:data.message}),tokens},bgTokenizer.$updateOnChange=noop,bgTokenizer.start=noop,popup.session.$computeWidth=function(){return this.screenWidth=0},popup.isOpen=!1,popup.isTopdown=!1,popup.autoSelect=!0,popup.filterText="",popup.data=[],popup.setData=function(list,filterText){popup.filterText=filterText||"",popup.setValue(lang.stringRepeat("\n",list.length),-1),popup.data=list||[],popup.setRow(0)},popup.getData=function(row){return popup.data[row]},popup.getRow=function(){return selectionMarker.start.row},popup.setRow=function(line){line=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,line)),selectionMarker.start.row!=line&&(popup.selection.clearSelection(),selectionMarker.start.row=selectionMarker.end.row=line||0,popup.session._emit("changeBackMarker"),popup.moveCursorTo(line||0,0),popup.isOpen&&popup._signal("select"))},popup.on("changeSelection",(function(){popup.isOpen&&popup.setRow(popup.selection.lead.row),popup.renderer.scrollCursorIntoView()})),popup.hide=function(){this.container.style.display="none",popup.anchorPos=null,popup.anchor=null,popup.isOpen&&(popup.isOpen=!1,this._signal("hide"))},popup.tryShow=function(pos,lineHeight,anchor,forceShow){if(!forceShow&&popup.isOpen&&popup.anchorPos&&popup.anchor&&popup.anchorPos.top===pos.top&&popup.anchorPos.left===pos.left&&popup.anchor===anchor)return!0;var el=this.container,screenHeight=window.innerHeight,screenWidth=window.innerWidth,renderer=this.renderer,maxH=renderer.$maxLines*lineHeight*1.4,dims={top:0,bottom:0,left:0},spaceBelow=screenHeight-pos.top-3*this.$borderSize-lineHeight,spaceAbove=pos.top-3*this.$borderSize;anchor||(anchor=spaceAbove<=spaceBelow||spaceBelow>=maxH?"bottom":"top"),"top"===anchor?(dims.bottom=pos.top-this.$borderSize,dims.top=dims.bottom-maxH):"bottom"===anchor&&(dims.top=pos.top+lineHeight+this.$borderSize,dims.bottom=dims.top+maxH);var fitsX=dims.top>=0&&dims.bottom<=screenHeight;if(!forceShow&&!fitsX)return!1;renderer.$maxPixelHeight=fitsX?null:"top"===anchor?spaceAbove:spaceBelow,"top"===anchor?(el.style.top="",el.style.bottom=screenHeight-dims.bottom+"px",popup.isTopdown=!1):(el.style.top=dims.top+"px",el.style.bottom="",popup.isTopdown=!0),el.style.display="";var left=pos.left;return left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth),el.style.left=left+"px",el.style.right="",popup.isOpen||(popup.isOpen=!0,this._signal("show"),lastMouseEvent=null),popup.anchorPos=pos,popup.anchor=anchor,!0},popup.show=function(pos,lineHeight,topdownOnly){this.tryShow(pos,lineHeight,topdownOnly?"bottom":void 0,!0)},popup.goTo=function(where){var row=this.getRow(),max=this.session.getLength()-1;switch(where){case"up":row=row<=0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.setRow(row)},popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},popup.$imageSize=0,popup.$borderSize=1,popup};dom.importCssString("\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n","autocompletion.css",!1),exports.AcePopup=AcePopup,exports.$singleLineEditor=$singleLineEditor,exports.getAriaId=getAriaId})),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],(function(require,exports,module){"use strict";var snippetManager=require("../snippets").snippetManager,AceInline=function(){function AceInline(){this.editor=null}return AceInline.prototype.show=function(editor,completion,prefix){if(prefix=prefix||"",editor&&this.editor&&this.editor!==editor&&(this.hide(),this.editor=null),!editor||!completion)return!1;var displayText=completion.snippet?snippetManager.getDisplayTextForSnippet(editor,completion.snippet):completion.value;return!(!displayText||!displayText.startsWith(prefix))&&(this.editor=editor,""===(displayText=displayText.slice(prefix.length))?editor.removeGhostText():editor.setGhostText(displayText),!0)},AceInline.prototype.isOpen=function(){return!!this.editor&&!!this.editor.renderer.$ghostText},AceInline.prototype.hide=function(){return!!this.editor&&(this.editor.removeGhostText(),!0)},AceInline.prototype.destroy=function(){this.hide(),this.editor=null},AceInline}();exports.AceInline=AceInline})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(require,exports,module){"use strict";exports.parForEach=function(array,fn,callback){var completed=0,arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],(function(result,err){++completed===arLength&&callback(result,err)}))};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos-1;i>=0&&regex.test(text[i]);i--)buf.push(text[i]);return buf.reverse().join("")},exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos;i<text.length&&regex.test(text[i]);i++)buf.push(text[i]);return buf},exports.getCompletionPrefix=function(editor){var prefix,pos=editor.getCursorPosition(),line=editor.session.getLine(pos.row);return editor.completers.forEach(function(completer){completer.identifierRegexps&&completer.identifierRegexps.forEach(function(identifierRegex){!prefix&&identifierRegex&&(prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex))}.bind(this))}.bind(this)),prefix||this.retrievePrecedingIdentifier(line,pos.column)},exports.triggerAutocomplete=function(editor){var pos=editor.getCursorPosition(),previousChar=editor.session.getLine(pos.row)[0===pos.column?0:pos.column-1];return editor.completers.some((function(el){if(el.triggerCharacters&&Array.isArray(el.triggerCharacters))return el.triggerCharacters.includes(previousChar)}))}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],(function(require,exports,module){"use strict";var HashHandler=require("./keyboard/hash_handler").HashHandler,AcePopup=require("./autocomplete/popup").AcePopup,AceInline=require("./autocomplete/inline").AceInline,getAriaId=require("./autocomplete/popup").getAriaId,util=require("./autocomplete/util"),lang=require("./lib/lang"),dom=require("./lib/dom"),snippetManager=require("./snippets").snippetManager,config=require("./config"),destroyCompleter=function(e,editor){editor.completer&&editor.completer.destroy()},Autocomplete=function(){function Autocomplete(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=lang.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)}return Autocomplete.prototype.$init=function(){return this.popup=new AcePopup(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupChange.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},Autocomplete.prototype.$initInline=function(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new AceInline,this.inlineRenderer},Autocomplete.prototype.getPopup=function(){return this.popup||this.$init()},Autocomplete.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip()},Autocomplete.prototype.$onPopupChange=function(hide){if(this.inlineRenderer&&this.inlineEnabled){var completion=hide?null:this.popup.getData(this.popup.getRow()),prefix=util.getCompletionPrefix(this.editor);this.inlineRenderer.show(this.editor,completion,prefix)||this.inlineRenderer.hide(),this.$updatePopupPosition()}this.tooltipTimer.call(null,null)},Autocomplete.prototype.observeLayoutChanges=function(){if(!this.$elements&&this.editor){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var el=this.editor.container.parentNode,elements=[];el;)elements.push(el),el.addEventListener("scroll",this.onLayoutChange,{passive:!0}),el=el.parentNode;this.$elements=elements}},Autocomplete.prototype.unObserveLayoutChanges=function(){var _this=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach((function(el){el.removeEventListener("scroll",_this.onLayoutChange,{passive:!0})})),this.$elements=null},Autocomplete.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},Autocomplete.prototype.$updatePopupPosition=function(){var editor=this.editor,renderer=editor.renderer,lineHeight=renderer.layerConfig.lineHeight,pos=renderer.$cursorLayer.getPixelPosition(this.base,!0);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset,pos.left+=rect.left-editor.renderer.scrollLeft,pos.left+=renderer.gutterWidth;var posGhostText={top:pos.top,left:pos.left};renderer.$ghostText&&renderer.$ghostTextWidget&&this.base.row===renderer.$ghostText.position.row&&(posGhostText.top+=renderer.$ghostTextWidget.el.offsetHeight),this.popup.tryShow(posGhostText,lineHeight,"bottom")||this.popup.tryShow(pos,lineHeight,"top")||this.popup.show(pos,lineHeight)},Autocomplete.prototype.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:getAriaId(this.popup.getRow()),inline:this.inlineEnabled}),editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.popup.setRow(this.autoSelect?0:-1),keepPopupPosition?keepPopupPosition&&!prefix&&this.detach():(this.popup.setTheme(editor.getTheme()),this.popup.setFontSize(editor.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},Autocomplete.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},Autocomplete.prototype.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},Autocomplete.prototype.blurListener=function(e){var el=document.activeElement,text=this.editor.textInput.getElement(),fromTooltip=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),container=this.popup&&this.popup.container;el==text||el.parentNode==container||fromTooltip||el==this.tooltipNode||e.relatedTarget==text||this.detach()},Autocomplete.prototype.mousedownListener=function(e){this.detach()},Autocomplete.prototype.mousewheelListener=function(e){this.detach()},Autocomplete.prototype.goTo=function(where){this.popup.goTo(where)},Autocomplete.prototype.insertMatch=function(data,options){if(data||(data=this.popup.getData(this.popup.getRow())),!data)return!1;if(""===data.value)return this.detach();var completions=this.completions,result=this.getCompletionProvider().insertMatch(this.editor,data,completions.filterText,options);return this.completions==completions&&this.detach(),result},Autocomplete.prototype.showPopup=function(editor,options){this.editor&&this.detach(),this.activated=!0,this.editor=editor,editor.completer!=this&&(editor.completer&&editor.completer.detach(),editor.completer=this),editor.on("changeSelection",this.changeListener),editor.on("blur",this.blurListener),editor.on("mousedown",this.mousedownListener),editor.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,options)},Autocomplete.prototype.getCompletionProvider=function(){return this.completionProvider||(this.completionProvider=new CompletionProvider),this.completionProvider},Autocomplete.prototype.gatherCompletions=function(editor,callback){return this.getCompletionProvider().gatherCompletions(editor,callback)},Autocomplete.prototype.updateCompletions=function(keepPopupPosition,options){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition();if((prefix=this.editor.session.getTextRange({start:this.base,end:pos}))==this.completions.filterText)return;return this.completions.setFilter(prefix),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=prefix||this.completions.filtered[0].snippet?void this.openPopup(this.editor,prefix,keepPopupPosition):this.detach():this.detach()}if(options&&options.matches){pos=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(pos.row,pos.column),this.base.$insertRight=!0,this.completions=new FilteredList(options.matches),this.openPopup(this.editor,"",keepPopupPosition)}var session=this.editor.getSession(),prefix=(pos=this.editor.getCursorPosition(),util.getCompletionPrefix(this.editor));this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length),this.base.$insertRight=!0;var completionOptions={exactMatch:this.exactMatch};this.getCompletionProvider().provideCompletions(this.editor,completionOptions,function(err,completions,finished){var filtered=completions.filtered,prefix=util.getCompletionPrefix(this.editor);if(finished){if(!filtered.length){var emptyMessage=!this.autoShown&&this.emptyMessage;if("function"==typeof emptyMessage&&(emptyMessage=this.emptyMessage(prefix)),emptyMessage){var completionsForEmpty=[{caption:this.emptyMessage(prefix),value:""}];return this.completions=new FilteredList(completionsForEmpty),void this.openPopup(this.editor,prefix,keepPopupPosition)}return this.detach()}if(1==filtered.length&&filtered[0].value==prefix&&!filtered[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&1==filtered.length)return this.insertMatch(filtered[0])}this.completions=completions,this.openPopup(this.editor,prefix,keepPopupPosition)}.bind(this))},Autocomplete.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},Autocomplete.prototype.updateDocTooltip=function(){var popup=this.popup,all=popup.data,selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]),doc=null;if(!selected||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var completersLength=this.editor.completers.length,i=0;i<completersLength;i++){var completer=this.editor.completers[i];if(completer.getDocTooltip&&selected.completerId===completer.id){doc=completer.getDocTooltip(selected);break}}if(doc||"string"==typeof selected||(doc=selected),"string"==typeof doc&&(doc={docText:doc}),!doc||!doc.docHTML&&!doc.docText)return this.hideDocTooltip();this.showDocTooltip(doc)},Autocomplete.prototype.showDocTooltip=function(item){this.tooltipNode||(this.tooltipNode=dom.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"));var theme=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(theme.isDark?"ace_dark ":"")+(theme.cssClass||"");var tooltipNode=this.tooltipNode;item.docHTML?tooltipNode.innerHTML=item.docHTML:item.docText&&(tooltipNode.textContent=item.docText),tooltipNode.parentNode||this.popup.container.appendChild(this.tooltipNode);var popup=this.popup,rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top,tooltipNode.style.bottom=popup.container.style.bottom,tooltipNode.style.display="block",window.innerWidth-rect.right<320?rect.left<320?popup.isTopdown?(tooltipNode.style.top=rect.bottom+"px",tooltipNode.style.left=rect.left+"px",tooltipNode.style.right="",tooltipNode.style.bottom=""):(tooltipNode.style.top=popup.container.offsetTop-tooltipNode.offsetHeight+"px",tooltipNode.style.left=rect.left+"px",tooltipNode.style.right="",tooltipNode.style.bottom=""):(tooltipNode.style.right=window.innerWidth-rect.left+"px",tooltipNode.style.left=""):(tooltipNode.style.left=rect.right+1+"px",tooltipNode.style.right="")},Autocomplete.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var el=this.tooltipNode;this.editor.isFocused()||document.activeElement!=el||this.editor.focus(),this.tooltipNode=null,el.parentNode&&el.parentNode.removeChild(el)}},Autocomplete.prototype.onTooltipClick=function(e){for(var a=e.target;a&&a!=this.tooltipNode;){if("A"==a.nodeName&&a.href){a.rel="noreferrer",a.target="_blank";break}a=a.parentNode}},Autocomplete.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var el=this.popup.container;el&&el.parentNode&&el.parentNode.removeChild(el)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",destroyCompleter),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},Autocomplete}();Autocomplete.prototype.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(editor){var result=editor.completer.insertMatch();if(result||editor.tabstopManager)return result;editor.completer.goTo("down")},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}},Autocomplete.for=function(editor){return editor.completer instanceof Autocomplete||(editor.completer&&(editor.completer.destroy(),editor.completer=null),config.get("sharedPopups")?(Autocomplete.$sharedInstance||(Autocomplete.$sharedInstance=new Autocomplete),editor.completer=Autocomplete.$sharedInstance):(editor.completer=new Autocomplete,editor.once("destroy",destroyCompleter))),editor.completer},Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor,options){var completer=Autocomplete.for(editor);completer.autoInsert=!1,completer.autoSelect=!0,completer.autoShown=!1,completer.showPopup(editor,options),completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var CompletionProvider=function(){function CompletionProvider(){this.active=!0}return CompletionProvider.prototype.insertByIndex=function(editor,index,options){return!(!this.completions||!this.completions.filtered)&&this.insertMatch(editor,this.completions.filtered[index],options)},CompletionProvider.prototype.insertMatch=function(editor,data,options){if(!data)return!1;if(editor.startOperation({command:{name:"insertMatch"}}),data.completer&&data.completer.insertMatch)data.completer.insertMatch(editor,data);else{if(!this.completions)return!1;if(this.completions.filterText){var ranges;ranges=editor.selection.getAllRanges?editor.selection.getAllRanges():[editor.getSelectionRange()];for(var range,i=0;range=ranges[i];i++)range.start.column-=this.completions.filterText.length,editor.session.remove(range)}data.snippet?snippetManager.insertSnippet(editor,data.snippet,{range:data.range}):this.$insertString(editor,data),data.command&&"startAutocomplete"===data.command&&editor.execCommand(data.command)}return editor.endOperation(),!0},CompletionProvider.prototype.$insertString=function(editor,data){var text=data.value||data;if(data.range){if(editor.inVirtualSelectionMode)return editor.session.replace(data.range,text);editor.forEachSelection((function(){var range=editor.getSelectionRange();0===data.range.compareRange(range)?editor.session.replace(data.range,text):editor.insert(text)}),null,{keepOrder:!0})}else editor.execCommand("insertstring",text)},CompletionProvider.prototype.gatherCompletions=function(editor,callback){var session=editor.getSession(),pos=editor.getCursorPosition(),prefix=util.getCompletionPrefix(editor),matches=[];this.completers=editor.completers;var total=editor.completers.length;return editor.completers.forEach((function(completer,i){completer.getCompletions(editor,session,pos,prefix,(function(err,results){!err&&results&&(matches=matches.concat(results)),callback(null,{prefix:util.getCompletionPrefix(editor),matches,finished:0==--total})}))})),!0},CompletionProvider.prototype.provideCompletions=function(editor,options,callback){var processResults=function(results){var prefix=results.prefix,matches=results.matches;this.completions=new FilteredList(matches),options.exactMatch&&(this.completions.exactMatch=!0),options.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(prefix),(results.finished||this.completions.filtered.length)&&callback(null,this.completions,results.finished)}.bind(this),isImmediate=!0,immediateResults=null;if(this.gatherCompletions(editor,function(err,results){this.active&&(err&&(callback(err,[],!0),this.detach()),0===results.prefix.indexOf(results.prefix)&&(isImmediate?immediateResults=results:processResults(results)))}.bind(this)),isImmediate=!1,immediateResults){var results=immediateResults;immediateResults=null,processResults(results)}},CompletionProvider.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach((function(completer){"function"==typeof completer.cancel&&completer.cancel()}))},CompletionProvider}(),FilteredList=function(){function FilteredList(array,filterText){this.all=array,this.filtered=array,this.filterText=filterText||"",this.exactMatch=!1,this.ignoreCaption=!1}return FilteredList.prototype.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else matches=this.all;this.filterText=str,matches=(matches=this.filterCompletions(matches,this.filterText)).sort((function(a,b){return b.exactMatch-a.exactMatch||b.$score-a.$score||(a.caption||a.value).localeCompare(b.caption||b.value)}));var prev=null;matches=matches.filter((function(item){var caption=item.snippet||item.caption||item.value;return caption!==prev&&(prev=caption,!0)})),this.filtered=matches},FilteredList.prototype.filterCompletions=function(items,needle){var results=[],upper=needle.toUpperCase(),lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=!this.ignoreCaption&&item.caption||item.value||item.snippet;if(caption){var index,distance,lastIndex=-1,matchMask=0,penalty=0;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else{var fullMatchIndex=caption.toLowerCase().indexOf(lower);if(fullMatchIndex>-1)penalty=fullMatchIndex;else for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1),i2=caption.indexOf(upper[j],lastIndex+1);if((index=i1>=0&&(i2<0||i1<i2)?i1:i2)<0)continue loop;(distance=index-lastIndex-1)>0&&(-1===lastIndex&&(penalty+=10),penalty+=distance,matchMask|=1<<j),lastIndex=index}}item.matchMask=matchMask,item.exactMatch=penalty?0:1,item.$score=(item.score||0)-penalty,results.push(item)}}return results},FilteredList}();exports.Autocomplete=Autocomplete,exports.CompletionProvider=CompletionProvider,exports.FilteredList=FilteredList})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(require,exports,module){var Range=require("../range").Range,splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function wordDistance(doc,pos){var prefixPos=function getWordIndex(doc,pos){return doc.getTextRange(Range.fromPoints({row:0,column:0},pos)).split(splitRegex).length-1}(doc,pos),words=doc.getValue().split(splitRegex),wordScores=Object.create(null),currentWord=words[prefixPos];return words.forEach((function(word,idx){if(word&&word!==currentWord){var distance=Math.abs(prefixPos-idx),score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score}})),wordScores}exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos);callback(null,Object.keys(wordScore).map((function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(require,exports,module){"use strict";var snippetManager=require("../snippets").snippetManager,Autocomplete=require("../autocomplete").Autocomplete,config=require("../config"),lang=require("../lib/lang"),util=require("../autocomplete/util"),textCompleter=require("../autocomplete/text_completer"),keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer)return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback);var state=editor.session.getState(pos.row),completions=session.$mode.getCompletions(state,session,pos,prefix);callback(null,completions=completions.map((function(el){return el.completerId=keyWordCompleter.id,el})))},id:"keywordCompleter"},snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var scopes=[],token=session.getTokenAt(pos.row,pos.column);token&&token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?scopes.push("html-tag"):scopes=snippetManager.getActiveScopes(editor);var snippetMap=snippetManager.snippetMap,completions=[];scopes.forEach((function(scope){for(var snippets=snippetMap[scope]||[],i=snippets.length;i--;){var s=snippets[i],caption=s.name||s.tabTrigger;caption&&completions.push({caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+" ":"snippet",completerId:snippetCompleter.id})}}),this),callback(null,completions)},getDocTooltip:function(item){var str,record;item.snippet&&!item.docHTML&&(item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML((str=item.snippet,record={},str.replace(/\${(\d+)(:(.*?))?}/g,(function(_,p1,p2,p3){return record[p1]=p3||""})).replace(/\$(\d+?)/g,(function(_,p1){return record[p1]}))))].join(""))},id:"snippetCompleter"},completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0,val&&completers.push.apply(completers,val)},exports.addCompleter=function(completer){completers.push(completer)},exports.textCompleter=textCompleter,exports.keyWordCompleter=keyWordCompleter,exports.snippetCompleter=snippetCompleter;var lastExecEvent,expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"},onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)},loadSnippetsForMode=function(mode){"string"==typeof mode&&(mode=config.$modes[mode]),mode&&(snippetManager.files||(snippetManager.files={}),loadSnippetFile(mode.$id,mode.snippetFileId),mode.modes&&mode.modes.forEach(loadSnippetsForMode))},loadSnippetFile=function(id,snippetFilePath){snippetFilePath&&id&&!snippetManager.files[id]&&(snippetManager.files[id]={},config.loadModule(snippetFilePath,(function(m){m&&(snippetManager.files[id]=m,!m.snippets&&m.snippetText&&(m.snippets=snippetManager.parseSnippetFile(m.snippetText)),snippetManager.register(m.snippets||[],m.scope),m.includeScopes&&(snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes,m.includeScopes.forEach((function(x){loadSnippetsForMode("ace/mode/"+x)}))))})))},doLiveAutocomplete=function(e){var editor=e.editor,hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name)hasCompleter&&!util.getCompletionPrefix(editor)&&editor.completer.detach();else if("insertstring"===e.command.name&&!hasCompleter){lastExecEvent=e;var delay=e.editor.$liveAutocompletionDelay;delay?liveAutocompleteTimer.delay(delay):showLiveAutocomplete(e)}},liveAutocompleteTimer=lang.delayedCall((function(){showLiveAutocomplete(lastExecEvent)}),0),showLiveAutocomplete=function(e){var editor=e.editor,prefix=util.getCompletionPrefix(editor),triggerAutocomplete=util.triggerAutocomplete(editor);if((prefix||triggerAutocomplete)&&prefix.length>=editor.$liveAutocompletionThreshold){var completer=Autocomplete.for(editor);completer.autoShown=!0,completer.showPopup(editor)}},Editor=require("../editor").Editor;require("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.addCommand(Autocomplete.startCommand)):this.commands.removeCommand(Autocomplete.startCommand)},value:!1},enableLiveAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.on("afterExec",doLiveAutocomplete)):this.commands.off("afterExec",doLiveAutocomplete)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(val){val?(this.commands.addCommand(expandSnippet),this.on("changeMode",onChangeMode),onChangeMode(0,this)):(this.commands.removeCommand(expandSnippet),this.off("changeMode",onChangeMode))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(m){module&&(module.exports=m)}))},"./node_modules/ace-builds/src-noconflict/ext-split.js":(module,__unused_webpack_exports,__webpack_require__)=>{module=__webpack_require__.nmd(module),ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(require,exports,module){"use strict";var oop=require("./lib/oop"),EventEmitter=(require("./lib/lang"),require("./lib/event_emitter").EventEmitter),Editor=require("./editor").Editor,Renderer=require("./virtual_renderer").VirtualRenderer,EditSession=require("./edit_session").EditSession,Split=function(container,theme,splits){this.BELOW=1,this.BESIDE=0,this.$container=container,this.$theme=theme,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(splits||1),this.$cEditor=this.$editors[0],this.on("focus",function(editor){this.$cEditor=editor}.bind(this))};(function(){oop.implement(this,EventEmitter),this.$createEditor=function(){var el=document.createElement("div");el.className=this.$editorCSS,el.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(el);var editor=new Editor(new Renderer(el,this.$theme));return editor.on("focus",function(){this._emit("focus",editor)}.bind(this)),this.$editors.push(editor),editor.setFontSize(this.$fontSize),editor},this.setSplits=function(splits){var editor;if(splits<1)throw"The number of splits have to be > 0!";if(splits!=this.$splits){if(splits>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<splits;)editor=this.$editors[this.$splits],this.$container.appendChild(editor.container),editor.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<splits;)this.$createEditor(),this.$splits++}else for(;this.$splits>splits;)editor=this.$editors[this.$splits-1],this.$container.removeChild(editor.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(idx){return this.$editors[idx]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(theme){this.$editors.forEach((function(editor){editor.setTheme(theme)}))},this.setKeyboardHandler=function(keybinding){this.$editors.forEach((function(editor){editor.setKeyboardHandler(keybinding)}))},this.forEach=function(callback,scope){this.$editors.forEach(callback,scope)},this.$fontSize="",this.setFontSize=function(size){this.$fontSize=size,this.forEach((function(editor){editor.setFontSize(size)}))},this.$cloneSession=function(session){var s=new EditSession(session.getDocument(),session.getMode()),undoManager=session.getUndoManager();return s.setUndoManager(undoManager),s.setTabSize(session.getTabSize()),s.setUseSoftTabs(session.getUseSoftTabs()),s.setOverwrite(session.getOverwrite()),s.setBreakpoints(session.getBreakpoints()),s.setUseWrapMode(session.getUseWrapMode()),s.setUseWorker(session.getUseWorker()),s.setWrapLimitRange(session.$wrapLimitRange.min,session.$wrapLimitRange.max),s.$foldData=session.$cloneFoldData(),s},this.setSession=function(session,idx){var editor;editor=null==idx?this.$cEditor:this.$editors[idx];var isUsed=this.$editors.some((function(editor){return editor.session===session}));return isUsed&&(session=this.$cloneSession(session)),editor.setSession(session),session},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(orientation){this.$orientation!=orientation&&(this.$orientation=orientation,this.resize())},this.resize=function(){var editor,width=this.$container.clientWidth,height=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var editorWidth=width/this.$splits,i=0;i<this.$splits;i++)(editor=this.$editors[i]).container.style.width=editorWidth+"px",editor.container.style.top="0px",editor.container.style.left=i*editorWidth+"px",editor.container.style.height=height+"px",editor.resize();else{var editorHeight=height/this.$splits;for(i=0;i<this.$splits;i++)(editor=this.$editors[i]).container.style.width=width+"px",editor.container.style.top=i*editorHeight+"px",editor.container.style.left="0px",editor.container.style.height=editorHeight+"px",editor.resize()}}}).call(Split.prototype),exports.Split=Split})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(require,exports,module){"use strict";module.exports=require("../split")})),ace.require(["ace/ext/split"],(function(m){module&&(module.exports=m)}))},"./node_modules/ace-builds/src-noconflict/mode-markdown.js":(module,__unused_webpack_exports,__webpack_require__)=>{module=__webpack_require__.nmd(module),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),TextHighlightRules=(require("../lib/lang"),require("./text_highlight_rules").TextHighlightRules),supportType=exports.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",supportFunction=exports.supportFunction="rgb|rgba|url|attr|counter|counters",supportConstant=exports.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",supportConstantColor=exports.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",supportConstantFonts=exports.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",numRe=exports.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",pseudoElements=exports.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",pseudoClasses=exports.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",CssHighlightRules=function(){var keywordMapper=this.createKeywordMapper({"support.function":supportFunction,"support.constant":supportConstant,"support.type":supportType,"support.constant.color":supportConstantColor,"support.constant.fonts":supportConstantFonts},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:numRe},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+numRe+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:numRe},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:pseudoElements},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:pseudoClasses},{include:"url"},{token:keywordMapper,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};oop.inherits(CssHighlightRules,TextHighlightRules),exports.CssHighlightRules=CssHighlightRules})),ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,JsDocCommentHighlightRules=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},JsDocCommentHighlightRules.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};oop.inherits(JsDocCommentHighlightRules,TextHighlightRules),JsDocCommentHighlightRules.getTagRule=function(start){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},JsDocCommentHighlightRules.getStartRule=function(start){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:start}},JsDocCommentHighlightRules.getEndRule=function(start){return{token:"comment.doc",regex:"\\*\\/",next:start}},exports.JsDocCommentHighlightRules=JsDocCommentHighlightRules})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),DocCommentHighlightRules=require("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,identifierRe="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",JavaScriptHighlightRules=function(options){var keywordMapper=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),escapedRe="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[DocCommentHighlightRules.getStartRule("doc-start"),comments("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+identifierRe+")(\\.)(prototype)(\\.)("+identifierRe+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+identifierRe+")(\\.)("+identifierRe+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+identifierRe+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+identifierRe+")(\\.)("+identifierRe+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+identifierRe+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+identifierRe+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:keywordMapper,regex:identifierRe},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+identifierRe+")(\\.)("+identifierRe+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:identifierRe},{regex:"",token:"empty",next:"no_regex"}],start:[DocCommentHighlightRules.getStartRule("doc-start"),comments("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[comments("function_arguments"),{token:"variable.parameter",regex:identifierRe},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:escapedRe},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:escapedRe},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},options&&options.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(val,state,stack){if(this.next="{"==val?this.nextState:"","{"==val&&stack.length)stack.unshift("start",state);else if("}"==val&&stack.length&&(stack.shift(),this.next=stack.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==val?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:escapedRe},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+identifierRe+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),options&&0==options.jsx||JSX.call(this)),this.embedRules(DocCommentHighlightRules,"doc-",[DocCommentHighlightRules.getEndRule("no_regex")]),this.normalizeRules()};function JSX(){var tagRegex=identifierRe.replace("\\d","\\d\\-"),jsxTag={onMatch:function(val,state,stack){var offset="/"==val.charAt(1)?2:1;return 1==offset?(state!=this.nextState?stack.unshift(this.next,this.nextState,0):stack.unshift(this.next),stack[2]++):2==offset&&state==this.nextState&&(stack[1]--,(!stack[1]||stack[1]<0)&&(stack.shift(),stack.shift())),[{type:"meta.tag.punctuation."+(1==offset?"":"end-")+"tag-open.xml",value:val.slice(0,offset)},{type:"meta.tag.tag-name.xml",value:val.substr(offset)}]},regex:"</?"+tagRegex,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(jsxTag);var jsxJsRule={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[jsxJsRule,jsxTag,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(value,currentState,stack){return currentState==stack[0]&&stack.shift(),2==value.length&&(stack[0]==this.nextState&&stack[1]--,(!stack[1]||stack[1]<0)&&stack.splice(0,2)),this.next=stack[0]||"start",[{type:this.token,value}]},nextState:"jsx"},jsxJsRule,comments("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:tagRegex},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},jsxTag],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function comments(next){return[{token:"comment",regex:/\/\*/,next:[DocCommentHighlightRules.getTagRule(),{token:"comment",regex:"\\*\\/",next:next||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[DocCommentHighlightRules.getTagRule(),{token:"comment",regex:"$|^",next:next||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}oop.inherits(JavaScriptHighlightRules,TextHighlightRules),exports.JavaScriptHighlightRules=JavaScriptHighlightRules})),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,XmlHighlightRules=function(normalize){var tagRegex="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+tagRegex+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:tagRegex},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+tagRegex+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+tagRegex+":)?"+tagRegex+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:tagRegex},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===XmlHighlightRules&&this.normalizeRules()};(function(){this.embedTagRules=function(HighlightRules,prefix,tag){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+tag+".tag-name.xml"],regex:"(<)("+tag+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:prefix+"start"}]}),this.$rules[tag+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(value,currentState,stack){return stack.splice(0),this.token}}],this.embedRules(HighlightRules,prefix,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+tag+".tag-name.xml"],regex:"(</)("+tag+"(?=\\s|>|$))",next:tag+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(TextHighlightRules.prototype),oop.inherits(XmlHighlightRules,TextHighlightRules),exports.XmlHighlightRules=XmlHighlightRules})),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),lang=require("../lib/lang"),CssHighlightRules=require("./css_highlight_rules").CssHighlightRules,JavaScriptHighlightRules=require("./javascript_highlight_rules").JavaScriptHighlightRules,XmlHighlightRules=require("./xml_highlight_rules").XmlHighlightRules,tagMap=lang.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),HtmlHighlightRules=function(){XmlHighlightRules.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(start,tag){var group=tagMap[tag];return["meta.tag.punctuation."+("<"==start?"":"end-")+"tag-open.xml","meta.tag"+(group?"."+group:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(CssHighlightRules,"css-","style"),this.embedTagRules(new JavaScriptHighlightRules({jsx:!1}).getRules(),"js-","script"),this.constructor===HtmlHighlightRules&&this.normalizeRules()};oop.inherits(HtmlHighlightRules,XmlHighlightRules),exports.HtmlHighlightRules=HtmlHighlightRules})),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],(function(require,exports,module){"use strict";var modes=require("../config").$modes,oop=require("../lib/oop"),lang=require("../lib/lang"),TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,HtmlHighlightRules=require("./html_highlight_rules").HtmlHighlightRules,escaped=function(ch){return"(?:[^"+lang.escapeRegExp(ch)+"\\\\]|\\\\.)*"},MarkdownHighlightRules=function(){HtmlHighlightRules.call(this);var codeBlockStartRule={token:"support.function",regex:/^\s*(```+[^`]*|~~~+[^~]*)$/,onMatch:function(value,state,stack,line){var m=value.match(/^(\s*)([`~]+)(.*)/),language=/[\w-]+|$/.exec(m[3])[0];return modes[language]||(language=""),stack.unshift("githubblock",[],[m[1],m[2],language],state),this.token},next:"githubblock"},codeBlockRules=[{token:"support.function",regex:".*",onMatch:function(value,state,stack,line){var embedState=stack[1],indent=stack[2][0],endMarker=stack[2][1],language=stack[2][2],m=/^(\s*)(`+|~+)\s*$/.exec(value);if(m&&m[1].length<indent.length+3&&m[2].length>=endMarker.length&&m[2][0]==endMarker[0])return stack.splice(0,3),this.next=stack.shift(),this.token;if(this.next="",language&&modes[language]){var data=modes[language].getTokenizer().getLineTokens(value,embedState.slice(0));return stack[1]=data.state,data.tokens}return this.token}}];this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(value){return"markup.heading."+value.length},regex:/^#{1,6}(?=\s|$)/,next:"header"},codeBlockStartRule,{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,3}(?:(?:\\* ?){3,}|(?:\\- ?){3,}|(?:\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+escaped("]")+")(\\]\\s*\\[)("+escaped("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\!?\\[)("+escaped("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+escaped('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},codeBlockStartRule,{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:codeBlockRules}),this.normalizeRules()};oop.inherits(MarkdownHighlightRules,TextHighlightRules),exports.MarkdownHighlightRules=MarkdownHighlightRules})),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],(function(require,exports,module){"use strict";var oop=require("../../lib/oop"),BaseFoldMode=require("./fold_mode").FoldMode,Range=require("../../range").Range,FoldMode=exports.FoldMode=function(){};oop.inherits(FoldMode,BaseFoldMode),function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);return this.foldingStartMarker.test(line)?"`"==line[0]&&"start"==session.bgTokenizer.getState(row)?"end":"start":""},this.getFoldWidgetRange=function(session,foldStyle,row){var line=session.getLine(row),startColumn=line.length,maxRow=session.getLength(),startRow=row,endRow=row;if(line.match(this.foldingStartMarker)){if("`"==line[0]){if("start"!==session.bgTokenizer.getState(row)){for(;++row<maxRow&&!("`"==(line=session.getLine(row))[0]&"```"==line.substring(0,3)););return new Range(startRow,startColumn,row,0)}for(;row-- >0&&!("`"==(line=session.getLine(row))[0]&"```"==line.substring(0,3)););return new Range(row,line.length,startRow,0)}var token,heading="markup.heading";if(isHeading(row)){for(var startHeadingLevel=getLevel();++row<maxRow;){if(isHeading(row))if(getLevel()>=startHeadingLevel)break}if((endRow=row-(token&&-1!=["=","-"].indexOf(token.value[0])?2:1))>startRow)for(;endRow>startRow&&/^\s*$/.test(session.getLine(endRow));)endRow--;if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}}}function isHeading(row){return(token=session.getTokens(row)[0])&&0===token.type.lastIndexOf(heading,0)}function getLevel(){var ch=token.value[0];return"="==ch?6:"-"==ch?5:7-token.value.search(/[^#]|$/)}}}.call(FoldMode.prototype)})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(require,exports,module){"use strict";var Range=require("../range").Range,MatchingBraceOutdent=function(){};(function(){this.checkOutdent=function(line,input){return!!/^\s+$/.test(line)&&/^\s*\}/.test(input)},this.autoOutdent=function(doc,row){var match=doc.getLine(row).match(/^(\s*\})/);if(!match)return 0;var column=match[1].length,openBracePos=doc.findMatchingBracket({row,column});if(!openBracePos||openBracePos.row==row)return 0;var indent=this.$getIndent(doc.getLine(openBracePos.row));doc.replace(new Range(row,0,row,column-1),indent)},this.$getIndent=function(line){return line.match(/^\s*/)[0]}}).call(MatchingBraceOutdent.prototype),exports.MatchingBraceOutdent=MatchingBraceOutdent})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(require,exports,module){"use strict";var oop=require("../../lib/oop"),Range=require("../../range").Range,BaseFoldMode=require("./fold_mode").FoldMode,FoldMode=exports.FoldMode=function(commentRegex){commentRegex&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.end)))};oop.inherits(FoldMode,BaseFoldMode),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);if(this.singleLineBlockCommentRe.test(line)&&!this.startRegionRe.test(line)&&!this.tripleStarBlockCommentRe.test(line))return"";var fw=this._getFoldWidgetBase(session,foldStyle,row);return!fw&&this.startRegionRe.test(line)?"start":fw},this.getFoldWidgetRange=function(session,foldStyle,row,forceMultiline){var match,line=session.getLine(row);if(this.startRegionRe.test(line))return this.getCommentRegionBlock(session,line,row);if(match=line.match(this.foldingStartMarker)){var i=match.index;if(match[1])return this.openingBracketBlock(session,match[1],row,i);var range=session.getCommentFoldRange(row,i+match[0].length,1);return range&&!range.isMultiLine()&&(forceMultiline?range=this.getSectionRange(session,row):"all"!=foldStyle&&(range=null)),range}if("markbegin"!==foldStyle&&(match=line.match(this.foldingStopMarker))){i=match.index+match[0].length;return match[1]?this.closingBracketBlock(session,match[1],row,i):session.getCommentFoldRange(row,i,-1)}},this.getSectionRange=function(session,row){for(var line=session.getLine(row),startIndent=line.search(/\S/),startRow=row,startColumn=line.length,endRow=row+=1,maxRow=session.getLength();++row<maxRow;){var indent=(line=session.getLine(row)).search(/\S/);if(-1!==indent){if(startIndent>indent)break;var subRange=this.getFoldWidgetRange(session,"all",row);if(subRange){if(subRange.start.row<=startRow)break;if(subRange.isMultiLine())row=subRange.end.row;else if(startIndent==indent)break}endRow=row}}return new Range(startRow,startColumn,endRow,session.getLine(endRow).length)},this.getCommentRegionBlock=function(session,line,row){for(var startColumn=line.search(/\s*$/),maxRow=session.getLength(),startRow=row,re=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,depth=1;++row<maxRow;){line=session.getLine(row);var m=re.exec(line);if(m&&(m[1]?depth--:depth++,!depth))break}if(row>startRow)return new Range(startRow,startColumn,row,line.length)}}.call(FoldMode.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),TextMode=require("./text").Mode,JavaScriptHighlightRules=require("./javascript_highlight_rules").JavaScriptHighlightRules,MatchingBraceOutdent=require("./matching_brace_outdent").MatchingBraceOutdent,WorkerClient=require("../worker/worker_client").WorkerClient,CstyleBehaviour=require("./behaviour/cstyle").CstyleBehaviour,CStyleFoldMode=require("./folding/cstyle").FoldMode,Mode=function(){this.HighlightRules=JavaScriptHighlightRules,this.$outdent=new MatchingBraceOutdent,this.$behaviour=new CstyleBehaviour,this.foldingRules=new CStyleFoldMode};oop.inherits(Mode,TextMode),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line),tokenizedLine=this.getTokenizer().getLineTokens(line,state),tokens=tokenizedLine.tokens,endState=tokenizedLine.state;if(tokens.length&&"comment"==tokens[tokens.length-1].type)return indent;if("start"==state||"no_regex"==state)(match=line.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(indent+=tab);else if("doc-start"==state){if("start"==endState||"no_regex"==endState)return"";var match;(match=line.match(/^\s*(\/?)\*/))&&(match[1]&&(indent+=" "),indent+="* ")}return indent},this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)},this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)},this.createWorker=function(session){var worker=new WorkerClient(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return worker.attachToDocument(session.getDocument()),worker.on("annotate",(function(results){session.setAnnotations(results.data)})),worker.on("terminate",(function(){session.clearAnnotations()})),worker},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(require,exports,module){"use strict";var propertyMap={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},CssCompletions=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var style=document.createElement("c").style;for(var i in style)if("string"==typeof style[i]){var name=i.replace(/[A-Z]/g,(function(x){return"-"+x.toLowerCase()}));propertyMap.hasOwnProperty(name)||(propertyMap[name]=1)}}this.completionsDefined=!0},this.getCompletions=function(state,session,pos,prefix){if(this.completionsDefined||this.defineCompletions(),"ruleset"===state||"ace/mode/scss"==session.$mode.$id){var line=session.getLine(pos.row).substr(0,pos.column),inParens=/\([^)]*$/.test(line);return inParens&&(line=line.substr(line.lastIndexOf("(")+1)),/:[^;]+$/.test(line)?(/([\w\-]+):[^:]*$/.test(line),this.getPropertyValueCompletions(state,session,pos,prefix)):this.getPropertyCompletions(state,session,pos,prefix,inParens)}return[]},this.getPropertyCompletions=function(state,session,pos,prefix,skipSemicolon){return skipSemicolon=skipSemicolon||!1,Object.keys(propertyMap).map((function(property){return{caption:property,snippet:property+": $0"+(skipSemicolon?"":";"),meta:"property",score:1e6}}))},this.getPropertyValueCompletions=function(state,session,pos,prefix){var line=session.getLine(pos.row).substr(0,pos.column),property=(/([\w\-]+):[^:]*$/.exec(line)||{})[1];if(!property)return[];var values=[];return property in propertyMap&&"object"==typeof propertyMap[property]&&(values=Object.keys(propertyMap[property])),values.map((function(value){return{caption:value,snippet:value,meta:"property value",score:1e6}}))}}).call(CssCompletions.prototype),exports.CssCompletions=CssCompletions})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(require,exports,module){"use strict";var oop=require("../../lib/oop"),CstyleBehaviour=(require("../behaviour").Behaviour,require("./cstyle").CstyleBehaviour),TokenIterator=require("../../token_iterator").TokenIterator,CssBehaviour=function(){this.inherit(CstyleBehaviour),this.add("colon","insertion",(function(state,action,editor,session,text){if(":"===text&&editor.selection.isEmpty()){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken();if(token&&token.value.match(/\s+/)&&(token=iterator.stepBackward()),token&&"support.type"===token.type){var line=session.doc.getLine(cursor.row);if(":"===line.substring(cursor.column,cursor.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(line.substring(cursor.column)))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&":"===selected){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken();if(token&&token.value.match(/\s+/)&&(token=iterator.stepBackward()),token&&"support.type"===token.type)if(";"===session.doc.getLine(range.start.row).substring(range.end.column,range.end.column+1))return range.end.column++,range}})),this.add("semicolon","insertion",(function(state,action,editor,session,text){if(";"===text&&editor.selection.isEmpty()){var cursor=editor.getCursorPosition();if(";"===session.doc.getLine(cursor.row).substring(cursor.column,cursor.column+1))return{text:"",selection:[1,1]}}})),this.add("!important","insertion",(function(state,action,editor,session,text){if("!"===text&&editor.selection.isEmpty()){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if(/^\s*(;|}|$)/.test(line.substring(cursor.column)))return{text:"!important",selection:[10,10]}}}))};oop.inherits(CssBehaviour,CstyleBehaviour),exports.CssBehaviour=CssBehaviour})),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),TextMode=require("./text").Mode,CssHighlightRules=require("./css_highlight_rules").CssHighlightRules,MatchingBraceOutdent=require("./matching_brace_outdent").MatchingBraceOutdent,WorkerClient=require("../worker/worker_client").WorkerClient,CssCompletions=require("./css_completions").CssCompletions,CssBehaviour=require("./behaviour/css").CssBehaviour,CStyleFoldMode=require("./folding/cstyle").FoldMode,Mode=function(){this.HighlightRules=CssHighlightRules,this.$outdent=new MatchingBraceOutdent,this.$behaviour=new CssBehaviour,this.$completer=new CssCompletions,this.foldingRules=new CStyleFoldMode};oop.inherits(Mode,TextMode),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line),tokens=this.getTokenizer().getLineTokens(line,state).tokens;return tokens.length&&"comment"==tokens[tokens.length-1].type||line.match(/^.*\{\s*$/)&&(indent+=tab),indent},this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)},this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)},this.getCompletions=function(state,session,pos,prefix){return this.$completer.getCompletions(state,session,pos,prefix)},this.createWorker=function(session){var worker=new WorkerClient(["ace"],"ace/mode/css_worker","Worker");return worker.attachToDocument(session.getDocument()),worker.on("annotate",(function(e){session.setAnnotations(e.data)})),worker.on("terminate",(function(){session.clearAnnotations()})),worker},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}.call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(require,exports,module){"use strict";var oop=require("../../lib/oop"),Behaviour=require("../behaviour").Behaviour,TokenIterator=require("../../token_iterator").TokenIterator;require("../../lib/lang");function is(token,type){return token&&token.type.lastIndexOf(type+".xml")>-1}var XmlBehaviour=function(){this.add("string_dquotes","insertion",(function(state,action,editor,session,text){if('"'==text||"'"==text){var quote=text,selected=session.doc.getTextRange(editor.getSelectionRange());if(""!==selected&&"'"!==selected&&'"'!=selected&&editor.getWrapBehavioursEnabled())return{text:quote+selected+quote,selection:!1};var cursor=editor.getCursorPosition(),rightChar=session.doc.getLine(cursor.row).substring(cursor.column,cursor.column+1),iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken();if(rightChar==quote&&(is(token,"attribute-value")||is(token,"string")))return{text:"",selection:[1,1]};if(token||(token=iterator.stepBackward()),!token)return;for(;is(token,"tag-whitespace")||is(token,"whitespace");)token=iterator.stepBackward();var rightSpace=!rightChar||rightChar.match(/\s/);if(is(token,"attribute-equals")&&(rightSpace||">"==rightChar)||is(token,"decl-attribute-equals")&&(rightSpace||"?"==rightChar))return{text:quote+quote,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&('"'==selected||"'"==selected)&&session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)==selected)return range.end.column++,range})),this.add("autoclosing","insertion",(function(state,action,editor,session,text){if(">"==text){var position=editor.getSelectionRange().start,iterator=new TokenIterator(session,position.row,position.column),token=iterator.getCurrentToken()||iterator.stepBackward();if(!token||!(is(token,"tag-name")||is(token,"tag-whitespace")||is(token,"attribute-name")||is(token,"attribute-equals")||is(token,"attribute-value")))return;if(is(token,"reference.attribute-value"))return;if(is(token,"attribute-value")){var tokenEndColumn=iterator.getCurrentTokenColumn()+token.value.length;if(position.column<tokenEndColumn)return;if(position.column==tokenEndColumn){var nextToken=iterator.stepForward();if(nextToken&&is(nextToken,"attribute-value"))return;iterator.stepBackward()}}if(/^\s*>/.test(session.getLine(position.row).slice(position.column)))return;for(;!is(token,"tag-name");)if("<"==(token=iterator.stepBackward()).value){token=iterator.stepForward();break}var tokenRow=iterator.getCurrentTokenRow(),tokenColumn=iterator.getCurrentTokenColumn();if(is(iterator.stepBackward(),"end-tag-open"))return;var element=token.value;if(tokenRow==position.row&&(element=element.substring(0,position.column-tokenColumn)),this.voidElements.hasOwnProperty(element.toLowerCase()))return;return{text:"></"+element+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(state,action,editor,session,text){if("\n"==text){var cursor=editor.getCursorPosition(),line=session.getLine(cursor.row),iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken();if(token&&-1!==token.type.indexOf("tag-close")){if("/>"==token.value)return;for(;token&&-1===token.type.indexOf("tag-name");)token=iterator.stepBackward();if(!token)return;var tag=token.value,row=iterator.getCurrentTokenRow();if(!(token=iterator.stepBackward())||-1!==token.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[tag]){var nextToken=session.getTokenAt(cursor.row,cursor.column+1),nextIndent=(line=session.getLine(row),this.$getIndent(line)),indent=nextIndent+session.getTabString();return nextToken&&"</"===nextToken.value?{text:"\n"+indent+"\n"+nextIndent,selection:[1,indent.length,1,indent.length]}:{text:"\n"+indent}}}}}))};oop.inherits(XmlBehaviour,Behaviour),exports.XmlBehaviour=XmlBehaviour})),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(require,exports,module){"use strict";var oop=require("../../lib/oop"),BaseFoldMode=require("./fold_mode").FoldMode,FoldMode=exports.FoldMode=function(defaultMode,subModes){this.defaultMode=defaultMode,this.subModes=subModes};oop.inherits(FoldMode,BaseFoldMode),function(){this.$getMode=function(state){for(var key in"string"!=typeof state&&(state=state[0]),this.subModes)if(0===state.indexOf(key))return this.subModes[key];return null},this.$tryMode=function(state,session,foldStyle,row){var mode=this.$getMode(state);return mode?mode.getFoldWidget(session,foldStyle,row):""},this.getFoldWidget=function(session,foldStyle,row){return this.$tryMode(session.getState(row-1),session,foldStyle,row)||this.$tryMode(session.getState(row),session,foldStyle,row)||this.defaultMode.getFoldWidget(session,foldStyle,row)},this.getFoldWidgetRange=function(session,foldStyle,row){var mode=this.$getMode(session.getState(row-1));return mode&&mode.getFoldWidget(session,foldStyle,row)||(mode=this.$getMode(session.getState(row))),mode&&mode.getFoldWidget(session,foldStyle,row)||(mode=this.defaultMode),mode.getFoldWidgetRange(session,foldStyle,row)}}.call(FoldMode.prototype)})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(require,exports,module){"use strict";var oop=require("../../lib/oop"),Range=require("../../range").Range,BaseFoldMode=require("./fold_mode").FoldMode,FoldMode=exports.FoldMode=function(voidElements,optionalEndTags){BaseFoldMode.call(this),this.voidElements=voidElements||{},this.optionalEndTags=oop.mixin({},this.voidElements),optionalEndTags&&oop.mixin(this.optionalEndTags,optionalEndTags)};oop.inherits(FoldMode,BaseFoldMode);var Tag=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function is(token,type){return token.type.lastIndexOf(type+".xml")>-1}(function(){this.getFoldWidget=function(session,foldStyle,row){var tag=this._getFirstTagInLine(session,row);return tag?tag.closing||!tag.tagName&&tag.selfClosing?"markbeginend"===foldStyle?"end":"":!tag.tagName||tag.selfClosing||this.voidElements.hasOwnProperty(tag.tagName.toLowerCase())||this._findEndTagInLine(session,row,tag.tagName,tag.end.column)?"":"start":this.getCommentFoldWidget(session,row)},this.getCommentFoldWidget=function(session,row){return/comment/.test(session.getState(row))&&/<!-/.test(session.getLine(row))?"start":""},this._getFirstTagInLine=function(session,row){for(var tokens=session.getTokens(row),tag=new Tag,i=0;i<tokens.length;i++){var token=tokens[i];if(is(token,"tag-open")){if(tag.end.column=tag.start.column+token.value.length,tag.closing=is(token,"end-tag-open"),!(token=tokens[++i]))return null;for(tag.tagName=token.value,tag.end.column+=token.value.length,i++;i<tokens.length;i++)if(token=tokens[i],tag.end.column+=token.value.length,is(token,"tag-close")){tag.selfClosing="/>"==token.value;break}return tag}if(is(token,"tag-close"))return tag.selfClosing="/>"==token.value,tag;tag.start.column+=token.value.length}return null},this._findEndTagInLine=function(session,row,tagName,startColumn){for(var tokens=session.getTokens(row),column=0,i=0;i<tokens.length;i++){var token=tokens[i];if(!((column+=token.value.length)<startColumn)&&is(token,"end-tag-open")&&(token=tokens[i+1])&&token.value==tagName)return!0}return!1},this.getFoldWidgetRange=function(session,foldStyle,row){var tags=session.getMatchingTags({row,column:0});return tags?new Range(tags.openTag.end.row,tags.openTag.end.column,tags.closeTag.start.row,tags.closeTag.start.column):this.getCommentFoldWidget(session,row)&&session.getCommentFoldRange(row,session.getLine(row).length)}}).call(FoldMode.prototype)})),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],(function(require,exports,module){"use strict";var oop=require("../../lib/oop"),MixedFoldMode=require("./mixed").FoldMode,XmlFoldMode=require("./xml").FoldMode,CStyleFoldMode=require("./cstyle").FoldMode,FoldMode=exports.FoldMode=function(voidElements,optionalTags){MixedFoldMode.call(this,new XmlFoldMode(voidElements,optionalTags),{"js-":new CStyleFoldMode,"css-":new CStyleFoldMode})};oop.inherits(FoldMode,MixedFoldMode)})),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],(function(require,exports,module){"use strict";var TokenIterator=require("../token_iterator").TokenIterator,globalAttributes=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),attributeMap={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},elements=Object.keys(attributeMap);function is(token,type){return token.type.lastIndexOf(type+".xml")>-1}function findTagName(session,pos){for(var iterator=new TokenIterator(session,pos.row,pos.column),token=iterator.getCurrentToken();token&&!is(token,"tag-name");)token=iterator.stepBackward();if(token)return token.value}var HtmlCompletions=function(){};(function(){this.getCompletions=function(state,session,pos,prefix){var token=session.getTokenAt(pos.row,pos.column);if(!token)return[];if(is(token,"tag-name")||is(token,"tag-open")||is(token,"end-tag-open"))return this.getTagCompletions(state,session,pos,prefix);if(is(token,"tag-whitespace")||is(token,"attribute-name"))return this.getAttributeCompletions(state,session,pos,prefix);if(is(token,"attribute-value"))return this.getAttributeValueCompletions(state,session,pos,prefix);var line=session.getLine(pos.row).substr(0,pos.column);return/&[a-z]*$/i.test(line)?this.getHTMLEntityCompletions(state,session,pos,prefix):[]},this.getTagCompletions=function(state,session,pos,prefix){return elements.map((function(element){return{value:element,meta:"tag",score:1e6}}))},this.getAttributeCompletions=function(state,session,pos,prefix){var tagName=findTagName(session,pos);if(!tagName)return[];var attributes=globalAttributes;return tagName in attributeMap&&(attributes=attributes.concat(Object.keys(attributeMap[tagName]))),attributes.map((function(attribute){return{caption:attribute,snippet:attribute+'="$0"',meta:"attribute",score:1e6}}))},this.getAttributeValueCompletions=function(state,session,pos,prefix){var tagName=findTagName(session,pos),attributeName=function findAttributeName(session,pos){for(var iterator=new TokenIterator(session,pos.row,pos.column),token=iterator.getCurrentToken();token&&!is(token,"attribute-name");)token=iterator.stepBackward();if(token)return token.value}(session,pos);if(!tagName)return[];var values=[];return tagName in attributeMap&&attributeName in attributeMap[tagName]&&"object"==typeof attributeMap[tagName][attributeName]&&(values=Object.keys(attributeMap[tagName][attributeName])),values.map((function(value){return{caption:value,snippet:value,meta:"attribute value",score:1e6}}))},this.getHTMLEntityCompletions=function(state,session,pos,prefix){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(value){return{caption:value,snippet:value,meta:"html entity",score:1e6}}))}}).call(HtmlCompletions.prototype),exports.HtmlCompletions=HtmlCompletions})),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),lang=require("../lib/lang"),TextMode=require("./text").Mode,JavaScriptMode=require("./javascript").Mode,CssMode=require("./css").Mode,HtmlHighlightRules=require("./html_highlight_rules").HtmlHighlightRules,XmlBehaviour=require("./behaviour/xml").XmlBehaviour,HtmlFoldMode=require("./folding/html").FoldMode,HtmlCompletions=require("./html_completions").HtmlCompletions,WorkerClient=require("../worker/worker_client").WorkerClient,voidElements=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],optionalEndTags=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],Mode=function(options){this.fragmentContext=options&&options.fragmentContext,this.HighlightRules=HtmlHighlightRules,this.$behaviour=new XmlBehaviour,this.$completer=new HtmlCompletions,this.createModeDelegates({"js-":JavaScriptMode,"css-":CssMode}),this.foldingRules=new HtmlFoldMode(this.voidElements,lang.arrayToMap(optionalEndTags))};oop.inherits(Mode,TextMode),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=lang.arrayToMap(voidElements),this.getNextLineIndent=function(state,line,tab){return this.$getIndent(line)},this.checkOutdent=function(state,line,input){return!1},this.getCompletions=function(state,session,pos,prefix){return this.$completer.getCompletions(state,session,pos,prefix)},this.createWorker=function(session){if(this.constructor==Mode){var worker=new WorkerClient(["ace"],"ace/mode/html_worker","Worker");return worker.attachToDocument(session.getDocument()),this.fragmentContext&&worker.call("setOptions",[{context:this.fragmentContext}]),worker.on("error",(function(e){session.setAnnotations(e.data)})),worker.on("terminate",(function(){session.clearAnnotations()})),worker}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}.call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/mode/sh_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,reservedKeywords=exports.reservedKeywords="!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly",languageConstructs=exports.languageConstructs="[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait",ShHighlightRules=function(){var keywordMapper=this.createKeywordMapper({keyword:reservedKeywords,"support.function.builtin":languageConstructs,"invalid.deprecated":"debugger"},"identifier"),pointFloat="(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))",floatNumber="(?:"+("(?:(?:"+pointFloat+"|(?:\\d+)))")+"|"+pointFloat+")";this.$rules={start:[{token:"constant",regex:/\\./},{token:["text","comment"],regex:/(^|\s)(#.*)$/},{token:"string.start",regex:'"',push:[{token:"constant.language.escape",regex:/\\(?:[$`"\\]|$)/},{include:"variables"},{token:"keyword.operator",regex:/`/},{token:"string.end",regex:'"',next:"pop"},{defaultToken:"string"}]},{token:"string",regex:"\\$'",push:[{token:"constant.language.escape",regex:/\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/},{token:"string",regex:"'",next:"pop"},{defaultToken:"string"}]},{regex:"<<<",token:"keyword.operator"},{stateName:"heredoc",regex:"(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",onMatch:function(value,currentState,stack){var next="-"==value[2]?"indentedHeredoc":"heredoc",tokens=value.split(this.splitRegex);return stack.push(next,tokens[4]),[{type:"constant",value:tokens[1]},{type:"text",value:tokens[2]},{type:"string",value:tokens[3]},{type:"support.class",value:tokens[4]},{type:"string",value:tokens[5]}]},rules:{heredoc:[{onMatch:function(value,currentState,stack){return value===stack[1]?(stack.shift(),stack.shift(),this.next=stack[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}],indentedHeredoc:[{token:"string",regex:"^\t+"},{onMatch:function(value,currentState,stack){return value===stack[1]?(stack.shift(),stack.shift(),this.next=stack[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}]}},{regex:"$",token:"empty",next:function(currentState,stack){return"heredoc"===stack[0]||"indentedHeredoc"===stack[0]?stack[0]:currentState}},{token:["keyword","text","text","text","variable"],regex:/(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/},{token:"variable.language",regex:"(?:\\$(?:SHLVL|\\$|\\!|\\?))"},{token:"variable",regex:"(?:[a-zA-Z_][a-zA-Z0-9_]*(?==))"},{include:"variables"},{token:"support.function",regex:"(?:[a-zA-Z_][a-zA-Z0-9_]*\\s*\\(\\))"},{token:"support.function",regex:"(?:&(?:\\d+))"},{token:"string",start:"'",end:"'"},{token:"constant.numeric",regex:floatNumber},{token:"constant.numeric",regex:"(?:(?:[1-9]\\d*)|(?:0))\\b"},{token:keywordMapper,regex:"[a-zA-Z_][a-zA-Z0-9_]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"},{token:"punctuation.operator",regex:";"},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]]"},{token:"paren.rparen",regex:"[\\)\\}]",next:"pop"}],variables:[{token:"variable",regex:/(\$)(\w+)/},{token:["variable","paren.lparen"],regex:/(\$)(\()/,push:"start"},{token:["variable","paren.lparen","keyword.operator","variable","keyword.operator"],regex:/(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,push:"start"},{token:"variable",regex:/\$[*@#?\-$!0_]/},{token:["variable","paren.lparen"],regex:/(\$)(\{)/,push:"start"}]},this.normalizeRules()};oop.inherits(ShHighlightRules,TextHighlightRules),exports.ShHighlightRules=ShHighlightRules})),ace.define("ace/mode/sh",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sh_highlight_rules","ace/range","ace/mode/folding/cstyle"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),TextMode=require("./text").Mode,ShHighlightRules=require("./sh_highlight_rules").ShHighlightRules,Range=require("../range").Range,CStyleFoldMode=require("./folding/cstyle").FoldMode,Mode=function(){this.HighlightRules=ShHighlightRules,this.foldingRules=new CStyleFoldMode,this.$behaviour=this.$defaultBehaviour};oop.inherits(Mode,TextMode),function(){this.lineCommentStart="#",this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line),tokens=this.getTokenizer().getLineTokens(line,state).tokens;if(tokens.length&&"comment"==tokens[tokens.length-1].type)return indent;"start"==state&&(line.match(/^.*[\{\(\[:]\s*$/)&&(indent+=tab));return indent};var outdents={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(state,line,input){if("\r\n"!==input&&"\r"!==input&&"\n"!==input)return!1;var tokens=this.getTokenizer().getLineTokens(line.trim(),state).tokens;if(!tokens)return!1;do{var last=tokens.pop()}while(last&&("comment"==last.type||"text"==last.type&&last.value.match(/^\s+$/)));return!!last&&("keyword"==last.type&&outdents[last.value])},this.autoOutdent=function(state,doc,row){row+=1;var indent=this.$getIndent(doc.getLine(row)),tab=doc.getTabString();indent.slice(-tab.length)==tab&&doc.remove(new Range(row,indent.length-tab.length,row,indent.length))},this.$id="ace/mode/sh",this.snippetFileId="ace/snippets/sh"}.call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),lang=require("../lib/lang"),TextMode=require("./text").Mode,XmlHighlightRules=require("./xml_highlight_rules").XmlHighlightRules,XmlBehaviour=require("./behaviour/xml").XmlBehaviour,XmlFoldMode=require("./folding/xml").FoldMode,WorkerClient=require("../worker/worker_client").WorkerClient,Mode=function(){this.HighlightRules=XmlHighlightRules,this.$behaviour=new XmlBehaviour,this.foldingRules=new XmlFoldMode};oop.inherits(Mode,TextMode),function(){this.voidElements=lang.arrayToMap([]),this.blockComment={start:"\x3c!--",end:"--\x3e"},this.createWorker=function(session){var worker=new WorkerClient(["ace"],"ace/mode/xml_worker","Worker");return worker.attachToDocument(session.getDocument()),worker.on("error",(function(e){session.setAnnotations(e.data)})),worker.on("terminate",(function(){session.clearAnnotations()})),worker},this.$id="ace/mode/xml"}.call(Mode.prototype),exports.Mode=Mode})),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/behaviour/cstyle","ace/mode/text","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown","ace/mode/javascript","ace/mode/html","ace/mode/sh","ace/mode/sh","ace/mode/xml","ace/mode/css"],(function(require,exports,module){"use strict";var oop=require("../lib/oop"),CstyleBehaviour=require("./behaviour/cstyle").CstyleBehaviour,TextMode=require("./text").Mode,MarkdownHighlightRules=require("./markdown_highlight_rules").MarkdownHighlightRules,MarkdownFoldMode=require("./folding/markdown").FoldMode,Mode=function(){this.HighlightRules=MarkdownHighlightRules,this.createModeDelegates({javascript:require("./javascript").Mode,html:require("./html").Mode,bash:require("./sh").Mode,sh:require("./sh").Mode,xml:require("./xml").Mode,css:require("./css").Mode}),this.foldingRules=new MarkdownFoldMode,this.$behaviour=new CstyleBehaviour({braces:!0})};oop.inherits(Mode,TextMode),function(){this.type="text",this.blockComment={start:"\x3c!--",end:"--\x3e"},this.$quotes={'"':'"',"`":"`"},this.getNextLineIndent=function(state,line,tab){if("listblock"==state){var match=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(line);if(!match)return"";var marker=match[2];return marker||(marker=parseInt(match[3],10)+1+"."),match[1]+marker+match[4]}return this.$getIndent(line)},this.$id="ace/mode/markdown",this.snippetFileId="ace/snippets/markdown"}.call(Mode.prototype),exports.Mode=Mode})),ace.require(["ace/mode/markdown"],(function(m){module&&(module.exports=m)}))},"./node_modules/ace-builds/src-noconflict/theme-github.js":(module,__unused_webpack_exports,__webpack_require__)=>{module=__webpack_require__.nmd(module),ace.define("ace/theme/github-css",["require","exports","module"],(function(require,exports,module){module.exports='/* CSS style content from github\'s default pygments highlighter template.\n   Cursor and selection styles from textmate.css. */\n.ace-github .ace_gutter {\n  background: #e8e8e8;\n  color: #AAA;\n}\n\n.ace-github  {\n  background: #fff;\n  color: #000;\n}\n\n.ace-github .ace_keyword {\n  font-weight: bold;\n}\n\n.ace-github .ace_string {\n  color: #D14;\n}\n\n.ace-github .ace_variable.ace_class {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_numeric {\n  color: #099;\n}\n\n.ace-github .ace_constant.ace_buildin {\n  color: #0086B3;\n}\n\n.ace-github .ace_support.ace_function {\n  color: #0086B3;\n}\n\n.ace-github .ace_comment {\n  color: #998;\n  font-style: italic;\n}\n\n.ace-github .ace_variable.ace_language  {\n  color: #0086B3;\n}\n\n.ace-github .ace_paren {\n  font-weight: bold;\n}\n\n.ace-github .ace_boolean {\n  font-weight: bold;\n}\n\n.ace-github .ace_string.ace_regexp {\n  color: #009926;\n  font-weight: normal;\n}\n\n.ace-github .ace_variable.ace_instance {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_language {\n  font-weight: bold;\n}\n\n.ace-github .ace_cursor {\n  color: black;\n}\n\n.ace-github.ace_focus .ace_marker-layer .ace_active-line {\n  background: rgb(255, 255, 204);\n}\n.ace-github .ace_marker-layer .ace_active-line {\n  background: rgb(245, 245, 245);\n}\n\n.ace-github .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n\n.ace-github.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n/* bold keywords cause cursor issues for some fonts */\n/* this disables bold style for editor and keeps for static highlighter */\n.ace-github.ace_nobold .ace_line > span {\n    font-weight: normal !important;\n}\n\n.ace-github .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-github .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-github .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-github .ace_gutter-active-line {\n    background-color : rgba(0, 0, 0, 0.07);\n}\n\n.ace-github .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-github .ace_invisible {\n  color: #BFBFBF\n}\n\n.ace-github .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-github .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-github .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],(function(require,exports,module){exports.isDark=!1,exports.cssClass="ace-github",exports.cssText=require("./github-css"),require("../lib/dom").importCssString(exports.cssText,exports.cssClass,!1)})),ace.require(["ace/theme/github"],(function(m){module&&(module.exports=m)}))},"./node_modules/diff-match-patch/index.js":module=>{var diff_match_patch=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};diff_match_patch.Diff=function(op,text){return[op,text]},diff_match_patch.prototype.diff_main=function(text1,text2,opt_checklines,opt_deadline){void 0===opt_deadline&&(opt_deadline=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var deadline=opt_deadline;if(null==text1||null==text2)throw new Error("Null input. (diff_main)");if(text1==text2)return text1?[new diff_match_patch.Diff(0,text1)]:[];void 0===opt_checklines&&(opt_checklines=!0);var checklines=opt_checklines,commonlength=this.diff_commonPrefix(text1,text2),commonprefix=text1.substring(0,commonlength);text1=text1.substring(commonlength),text2=text2.substring(commonlength),commonlength=this.diff_commonSuffix(text1,text2);var commonsuffix=text1.substring(text1.length-commonlength);text1=text1.substring(0,text1.length-commonlength),text2=text2.substring(0,text2.length-commonlength);var diffs=this.diff_compute_(text1,text2,checklines,deadline);return commonprefix&&diffs.unshift(new diff_match_patch.Diff(0,commonprefix)),commonsuffix&&diffs.push(new diff_match_patch.Diff(0,commonsuffix)),this.diff_cleanupMerge(diffs),diffs},diff_match_patch.prototype.diff_compute_=function(text1,text2,checklines,deadline){var diffs;if(!text1)return[new diff_match_patch.Diff(1,text2)];if(!text2)return[new diff_match_patch.Diff(-1,text1)];var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1,i=longtext.indexOf(shorttext);if(-1!=i)return diffs=[new diff_match_patch.Diff(1,longtext.substring(0,i)),new diff_match_patch.Diff(0,shorttext),new diff_match_patch.Diff(1,longtext.substring(i+shorttext.length))],text1.length>text2.length&&(diffs[0][0]=diffs[2][0]=-1),diffs;if(1==shorttext.length)return[new diff_match_patch.Diff(-1,text1),new diff_match_patch.Diff(1,text2)];var hm=this.diff_halfMatch_(text1,text2);if(hm){var text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3],mid_common=hm[4],diffs_a=this.diff_main(text1_a,text2_a,checklines,deadline),diffs_b=this.diff_main(text1_b,text2_b,checklines,deadline);return diffs_a.concat([new diff_match_patch.Diff(0,mid_common)],diffs_b)}return checklines&&text1.length>100&&text2.length>100?this.diff_lineMode_(text1,text2,deadline):this.diff_bisect_(text1,text2,deadline)},diff_match_patch.prototype.diff_lineMode_=function(text1,text2,deadline){var a=this.diff_linesToChars_(text1,text2);text1=a.chars1,text2=a.chars2;var linearray=a.lineArray,diffs=this.diff_main(text1,text2,!1,deadline);this.diff_charsToLines_(diffs,linearray),this.diff_cleanupSemantic(diffs),diffs.push(new diff_match_patch.Diff(0,""));for(var pointer=0,count_delete=0,count_insert=0,text_delete="",text_insert="";pointer<diffs.length;){switch(diffs[pointer][0]){case 1:count_insert++,text_insert+=diffs[pointer][1];break;case-1:count_delete++,text_delete+=diffs[pointer][1];break;case 0:if(count_delete>=1&&count_insert>=1){diffs.splice(pointer-count_delete-count_insert,count_delete+count_insert),pointer=pointer-count_delete-count_insert;for(var subDiff=this.diff_main(text_delete,text_insert,!1,deadline),j=subDiff.length-1;j>=0;j--)diffs.splice(pointer,0,subDiff[j]);pointer+=subDiff.length}count_insert=0,count_delete=0,text_delete="",text_insert=""}pointer++}return diffs.pop(),diffs},diff_match_patch.prototype.diff_bisect_=function(text1,text2,deadline){for(var text1_length=text1.length,text2_length=text2.length,max_d=Math.ceil((text1_length+text2_length)/2),v_offset=max_d,v_length=2*max_d,v1=new Array(v_length),v2=new Array(v_length),x=0;x<v_length;x++)v1[x]=-1,v2[x]=-1;v1[v_offset+1]=0,v2[v_offset+1]=0;for(var delta=text1_length-text2_length,front=delta%2!=0,k1start=0,k1end=0,k2start=0,k2end=0,d=0;d<max_d&&!((new Date).getTime()>deadline);d++){for(var k1=-d+k1start;k1<=d-k1end;k1+=2){for(var k1_offset=v_offset+k1,y1=(x1=k1==-d||k1!=d&&v1[k1_offset-1]<v1[k1_offset+1]?v1[k1_offset+1]:v1[k1_offset-1]+1)-k1;x1<text1_length&&y1<text2_length&&text1.charAt(x1)==text2.charAt(y1);)x1++,y1++;if(v1[k1_offset]=x1,x1>text1_length)k1end+=2;else if(y1>text2_length)k1start+=2;else if(front){if((k2_offset=v_offset+delta-k1)>=0&&k2_offset<v_length&&-1!=v2[k2_offset])if(x1>=(x2=text1_length-v2[k2_offset]))return this.diff_bisectSplit_(text1,text2,x1,y1,deadline)}}for(var k2=-d+k2start;k2<=d-k2end;k2+=2){for(var x2,k2_offset=v_offset+k2,y2=(x2=k2==-d||k2!=d&&v2[k2_offset-1]<v2[k2_offset+1]?v2[k2_offset+1]:v2[k2_offset-1]+1)-k2;x2<text1_length&&y2<text2_length&&text1.charAt(text1_length-x2-1)==text2.charAt(text2_length-y2-1);)x2++,y2++;if(v2[k2_offset]=x2,x2>text1_length)k2end+=2;else if(y2>text2_length)k2start+=2;else if(!front){if((k1_offset=v_offset+delta-k2)>=0&&k1_offset<v_length&&-1!=v1[k1_offset]){var x1;y1=v_offset+(x1=v1[k1_offset])-k1_offset;if(x1>=(x2=text1_length-x2))return this.diff_bisectSplit_(text1,text2,x1,y1,deadline)}}}}return[new diff_match_patch.Diff(-1,text1),new diff_match_patch.Diff(1,text2)]},diff_match_patch.prototype.diff_bisectSplit_=function(text1,text2,x,y,deadline){var text1a=text1.substring(0,x),text2a=text2.substring(0,y),text1b=text1.substring(x),text2b=text2.substring(y),diffs=this.diff_main(text1a,text2a,!1,deadline),diffsb=this.diff_main(text1b,text2b,!1,deadline);return diffs.concat(diffsb)},diff_match_patch.prototype.diff_linesToChars_=function(text1,text2){var lineArray=[],lineHash={};function diff_linesToCharsMunge_(text){for(var chars="",lineStart=0,lineEnd=-1,lineArrayLength=lineArray.length;lineEnd<text.length-1;){-1==(lineEnd=text.indexOf("\n",lineStart))&&(lineEnd=text.length-1);var line=text.substring(lineStart,lineEnd+1);(lineHash.hasOwnProperty?lineHash.hasOwnProperty(line):void 0!==lineHash[line])?chars+=String.fromCharCode(lineHash[line]):(lineArrayLength==maxLines&&(line=text.substring(lineStart),lineEnd=text.length),chars+=String.fromCharCode(lineArrayLength),lineHash[line]=lineArrayLength,lineArray[lineArrayLength++]=line),lineStart=lineEnd+1}return chars}lineArray[0]="";var maxLines=4e4,chars1=diff_linesToCharsMunge_(text1);return maxLines=65535,{chars1,chars2:diff_linesToCharsMunge_(text2),lineArray}},diff_match_patch.prototype.diff_charsToLines_=function(diffs,lineArray){for(var i=0;i<diffs.length;i++){for(var chars=diffs[i][1],text=[],j=0;j<chars.length;j++)text[j]=lineArray[chars.charCodeAt(j)];diffs[i][1]=text.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(text1,text2){if(!text1||!text2||text1.charAt(0)!=text2.charAt(0))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerstart=0;pointermin<pointermid;)text1.substring(pointerstart,pointermid)==text2.substring(pointerstart,pointermid)?pointerstart=pointermin=pointermid:pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return pointermid},diff_match_patch.prototype.diff_commonSuffix=function(text1,text2){if(!text1||!text2||text1.charAt(text1.length-1)!=text2.charAt(text2.length-1))return 0;for(var pointermin=0,pointermax=Math.min(text1.length,text2.length),pointermid=pointermax,pointerend=0;pointermin<pointermid;)text1.substring(text1.length-pointermid,text1.length-pointerend)==text2.substring(text2.length-pointermid,text2.length-pointerend)?pointerend=pointermin=pointermid:pointermax=pointermid,pointermid=Math.floor((pointermax-pointermin)/2+pointermin);return pointermid},diff_match_patch.prototype.diff_commonOverlap_=function(text1,text2){var text1_length=text1.length,text2_length=text2.length;if(0==text1_length||0==text2_length)return 0;text1_length>text2_length?text1=text1.substring(text1_length-text2_length):text1_length<text2_length&&(text2=text2.substring(0,text1_length));var text_length=Math.min(text1_length,text2_length);if(text1==text2)return text_length;for(var best=0,length=1;;){var pattern=text1.substring(text_length-length),found=text2.indexOf(pattern);if(-1==found)return best;length+=found,0!=found&&text1.substring(text_length-length)!=text2.substring(0,length)||(best=length,length++)}},diff_match_patch.prototype.diff_halfMatch_=function(text1,text2){if(this.Diff_Timeout<=0)return null;var longtext=text1.length>text2.length?text1:text2,shorttext=text1.length>text2.length?text2:text1;if(longtext.length<4||2*shorttext.length<longtext.length)return null;var dmp=this;function diff_halfMatchI_(longtext,shorttext,i){for(var best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,seed=longtext.substring(i,i+Math.floor(longtext.length/4)),j=-1,best_common="";-1!=(j=shorttext.indexOf(seed,j+1));){var prefixLength=dmp.diff_commonPrefix(longtext.substring(i),shorttext.substring(j)),suffixLength=dmp.diff_commonSuffix(longtext.substring(0,i),shorttext.substring(0,j));best_common.length<suffixLength+prefixLength&&(best_common=shorttext.substring(j-suffixLength,j)+shorttext.substring(j,j+prefixLength),best_longtext_a=longtext.substring(0,i-suffixLength),best_longtext_b=longtext.substring(i+prefixLength),best_shorttext_a=shorttext.substring(0,j-suffixLength),best_shorttext_b=shorttext.substring(j+prefixLength))}return 2*best_common.length>=longtext.length?[best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,best_common]:null}var hm,text1_a,text1_b,text2_a,text2_b,hm1=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/4)),hm2=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/2));return hm1||hm2?(hm=hm2?hm1&&hm1[4].length>hm2[4].length?hm1:hm2:hm1,text1.length>text2.length?(text1_a=hm[0],text1_b=hm[1],text2_a=hm[2],text2_b=hm[3]):(text2_a=hm[0],text2_b=hm[1],text1_a=hm[2],text1_b=hm[3]),[text1_a,text1_b,text2_a,text2_b,hm[4]]):null},diff_match_patch.prototype.diff_cleanupSemantic=function(diffs){for(var changes=!1,equalities=[],equalitiesLength=0,lastEquality=null,pointer=0,length_insertions1=0,length_deletions1=0,length_insertions2=0,length_deletions2=0;pointer<diffs.length;)0==diffs[pointer][0]?(equalities[equalitiesLength++]=pointer,length_insertions1=length_insertions2,length_deletions1=length_deletions2,length_insertions2=0,length_deletions2=0,lastEquality=diffs[pointer][1]):(1==diffs[pointer][0]?length_insertions2+=diffs[pointer][1].length:length_deletions2+=diffs[pointer][1].length,lastEquality&&lastEquality.length<=Math.max(length_insertions1,length_deletions1)&&lastEquality.length<=Math.max(length_insertions2,length_deletions2)&&(diffs.splice(equalities[equalitiesLength-1],0,new diff_match_patch.Diff(-1,lastEquality)),diffs[equalities[equalitiesLength-1]+1][0]=1,equalitiesLength--,pointer=--equalitiesLength>0?equalities[equalitiesLength-1]:-1,length_insertions1=0,length_deletions1=0,length_insertions2=0,length_deletions2=0,lastEquality=null,changes=!0)),pointer++;for(changes&&this.diff_cleanupMerge(diffs),this.diff_cleanupSemanticLossless(diffs),pointer=1;pointer<diffs.length;){if(-1==diffs[pointer-1][0]&&1==diffs[pointer][0]){var deletion=diffs[pointer-1][1],insertion=diffs[pointer][1],overlap_length1=this.diff_commonOverlap_(deletion,insertion),overlap_length2=this.diff_commonOverlap_(insertion,deletion);overlap_length1>=overlap_length2?(overlap_length1>=deletion.length/2||overlap_length1>=insertion.length/2)&&(diffs.splice(pointer,0,new diff_match_patch.Diff(0,insertion.substring(0,overlap_length1))),diffs[pointer-1][1]=deletion.substring(0,deletion.length-overlap_length1),diffs[pointer+1][1]=insertion.substring(overlap_length1),pointer++):(overlap_length2>=deletion.length/2||overlap_length2>=insertion.length/2)&&(diffs.splice(pointer,0,new diff_match_patch.Diff(0,deletion.substring(0,overlap_length2))),diffs[pointer-1][0]=1,diffs[pointer-1][1]=insertion.substring(0,insertion.length-overlap_length2),diffs[pointer+1][0]=-1,diffs[pointer+1][1]=deletion.substring(overlap_length2),pointer++),pointer++}pointer++}},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(diffs){function diff_cleanupSemanticScore_(one,two){if(!one||!two)return 6;var char1=one.charAt(one.length-1),char2=two.charAt(0),nonAlphaNumeric1=char1.match(diff_match_patch.nonAlphaNumericRegex_),nonAlphaNumeric2=char2.match(diff_match_patch.nonAlphaNumericRegex_),whitespace1=nonAlphaNumeric1&&char1.match(diff_match_patch.whitespaceRegex_),whitespace2=nonAlphaNumeric2&&char2.match(diff_match_patch.whitespaceRegex_),lineBreak1=whitespace1&&char1.match(diff_match_patch.linebreakRegex_),lineBreak2=whitespace2&&char2.match(diff_match_patch.linebreakRegex_),blankLine1=lineBreak1&&one.match(diff_match_patch.blanklineEndRegex_),blankLine2=lineBreak2&&two.match(diff_match_patch.blanklineStartRegex_);return blankLine1||blankLine2?5:lineBreak1||lineBreak2?4:nonAlphaNumeric1&&!whitespace1&&whitespace2?3:whitespace1||whitespace2?2:nonAlphaNumeric1||nonAlphaNumeric2?1:0}for(var pointer=1;pointer<diffs.length-1;){if(0==diffs[pointer-1][0]&&0==diffs[pointer+1][0]){var equality1=diffs[pointer-1][1],edit=diffs[pointer][1],equality2=diffs[pointer+1][1],commonOffset=this.diff_commonSuffix(equality1,edit);if(commonOffset){var commonString=edit.substring(edit.length-commonOffset);equality1=equality1.substring(0,equality1.length-commonOffset),edit=commonString+edit.substring(0,edit.length-commonOffset),equality2=commonString+equality2}for(var bestEquality1=equality1,bestEdit=edit,bestEquality2=equality2,bestScore=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);edit.charAt(0)===equality2.charAt(0);){equality1+=edit.charAt(0),edit=edit.substring(1)+equality2.charAt(0),equality2=equality2.substring(1);var score=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);score>=bestScore&&(bestScore=score,bestEquality1=equality1,bestEdit=edit,bestEquality2=equality2)}diffs[pointer-1][1]!=bestEquality1&&(bestEquality1?diffs[pointer-1][1]=bestEquality1:(diffs.splice(pointer-1,1),pointer--),diffs[pointer][1]=bestEdit,bestEquality2?diffs[pointer+1][1]=bestEquality2:(diffs.splice(pointer+1,1),pointer--))}pointer++}},diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,diff_match_patch.whitespaceRegex_=/\s/,diff_match_patch.linebreakRegex_=/[\r\n]/,diff_match_patch.blanklineEndRegex_=/\n\r?\n$/,diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/,diff_match_patch.prototype.diff_cleanupEfficiency=function(diffs){for(var changes=!1,equalities=[],equalitiesLength=0,lastEquality=null,pointer=0,pre_ins=!1,pre_del=!1,post_ins=!1,post_del=!1;pointer<diffs.length;)0==diffs[pointer][0]?(diffs[pointer][1].length<this.Diff_EditCost&&(post_ins||post_del)?(equalities[equalitiesLength++]=pointer,pre_ins=post_ins,pre_del=post_del,lastEquality=diffs[pointer][1]):(equalitiesLength=0,lastEquality=null),post_ins=post_del=!1):(-1==diffs[pointer][0]?post_del=!0:post_ins=!0,lastEquality&&(pre_ins&&pre_del&&post_ins&&post_del||lastEquality.length<this.Diff_EditCost/2&&pre_ins+pre_del+post_ins+post_del==3)&&(diffs.splice(equalities[equalitiesLength-1],0,new diff_match_patch.Diff(-1,lastEquality)),diffs[equalities[equalitiesLength-1]+1][0]=1,equalitiesLength--,lastEquality=null,pre_ins&&pre_del?(post_ins=post_del=!0,equalitiesLength=0):(pointer=--equalitiesLength>0?equalities[equalitiesLength-1]:-1,post_ins=post_del=!1),changes=!0)),pointer++;changes&&this.diff_cleanupMerge(diffs)},diff_match_patch.prototype.diff_cleanupMerge=function(diffs){diffs.push(new diff_match_patch.Diff(0,""));for(var commonlength,pointer=0,count_delete=0,count_insert=0,text_delete="",text_insert="";pointer<diffs.length;)switch(diffs[pointer][0]){case 1:count_insert++,text_insert+=diffs[pointer][1],pointer++;break;case-1:count_delete++,text_delete+=diffs[pointer][1],pointer++;break;case 0:count_delete+count_insert>1?(0!==count_delete&&0!==count_insert&&(0!==(commonlength=this.diff_commonPrefix(text_insert,text_delete))&&(pointer-count_delete-count_insert>0&&0==diffs[pointer-count_delete-count_insert-1][0]?diffs[pointer-count_delete-count_insert-1][1]+=text_insert.substring(0,commonlength):(diffs.splice(0,0,new diff_match_patch.Diff(0,text_insert.substring(0,commonlength))),pointer++),text_insert=text_insert.substring(commonlength),text_delete=text_delete.substring(commonlength)),0!==(commonlength=this.diff_commonSuffix(text_insert,text_delete))&&(diffs[pointer][1]=text_insert.substring(text_insert.length-commonlength)+diffs[pointer][1],text_insert=text_insert.substring(0,text_insert.length-commonlength),text_delete=text_delete.substring(0,text_delete.length-commonlength))),pointer-=count_delete+count_insert,diffs.splice(pointer,count_delete+count_insert),text_delete.length&&(diffs.splice(pointer,0,new diff_match_patch.Diff(-1,text_delete)),pointer++),text_insert.length&&(diffs.splice(pointer,0,new diff_match_patch.Diff(1,text_insert)),pointer++),pointer++):0!==pointer&&0==diffs[pointer-1][0]?(diffs[pointer-1][1]+=diffs[pointer][1],diffs.splice(pointer,1)):pointer++,count_insert=0,count_delete=0,text_delete="",text_insert=""}""===diffs[diffs.length-1][1]&&diffs.pop();var changes=!1;for(pointer=1;pointer<diffs.length-1;)0==diffs[pointer-1][0]&&0==diffs[pointer+1][0]&&(diffs[pointer][1].substring(diffs[pointer][1].length-diffs[pointer-1][1].length)==diffs[pointer-1][1]?(diffs[pointer][1]=diffs[pointer-1][1]+diffs[pointer][1].substring(0,diffs[pointer][1].length-diffs[pointer-1][1].length),diffs[pointer+1][1]=diffs[pointer-1][1]+diffs[pointer+1][1],diffs.splice(pointer-1,1),changes=!0):diffs[pointer][1].substring(0,diffs[pointer+1][1].length)==diffs[pointer+1][1]&&(diffs[pointer-1][1]+=diffs[pointer+1][1],diffs[pointer][1]=diffs[pointer][1].substring(diffs[pointer+1][1].length)+diffs[pointer+1][1],diffs.splice(pointer+1,1),changes=!0)),pointer++;changes&&this.diff_cleanupMerge(diffs)},diff_match_patch.prototype.diff_xIndex=function(diffs,loc){var x,chars1=0,chars2=0,last_chars1=0,last_chars2=0;for(x=0;x<diffs.length&&(1!==diffs[x][0]&&(chars1+=diffs[x][1].length),-1!==diffs[x][0]&&(chars2+=diffs[x][1].length),!(chars1>loc));x++)last_chars1=chars1,last_chars2=chars2;return diffs.length!=x&&-1===diffs[x][0]?last_chars2:last_chars2+(loc-last_chars1)},diff_match_patch.prototype.diff_prettyHtml=function(diffs){for(var html=[],pattern_amp=/&/g,pattern_lt=/</g,pattern_gt=/>/g,pattern_para=/\n/g,x=0;x<diffs.length;x++){var op=diffs[x][0],text=diffs[x][1].replace(pattern_amp,"&amp;").replace(pattern_lt,"&lt;").replace(pattern_gt,"&gt;").replace(pattern_para,"&para;<br>");switch(op){case 1:html[x]='<ins style="background:#e6ffe6;">'+text+"</ins>";break;case-1:html[x]='<del style="background:#ffe6e6;">'+text+"</del>";break;case 0:html[x]="<span>"+text+"</span>"}}return html.join("")},diff_match_patch.prototype.diff_text1=function(diffs){for(var text=[],x=0;x<diffs.length;x++)1!==diffs[x][0]&&(text[x]=diffs[x][1]);return text.join("")},diff_match_patch.prototype.diff_text2=function(diffs){for(var text=[],x=0;x<diffs.length;x++)-1!==diffs[x][0]&&(text[x]=diffs[x][1]);return text.join("")},diff_match_patch.prototype.diff_levenshtein=function(diffs){for(var levenshtein=0,insertions=0,deletions=0,x=0;x<diffs.length;x++){var op=diffs[x][0],data=diffs[x][1];switch(op){case 1:insertions+=data.length;break;case-1:deletions+=data.length;break;case 0:levenshtein+=Math.max(insertions,deletions),insertions=0,deletions=0}}return levenshtein+=Math.max(insertions,deletions)},diff_match_patch.prototype.diff_toDelta=function(diffs){for(var text=[],x=0;x<diffs.length;x++)switch(diffs[x][0]){case 1:text[x]="+"+encodeURI(diffs[x][1]);break;case-1:text[x]="-"+diffs[x][1].length;break;case 0:text[x]="="+diffs[x][1].length}return text.join("\t").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(text1,delta){for(var diffs=[],diffsLength=0,pointer=0,tokens=delta.split(/\t/g),x=0;x<tokens.length;x++){var param=tokens[x].substring(1);switch(tokens[x].charAt(0)){case"+":try{diffs[diffsLength++]=new diff_match_patch.Diff(1,decodeURI(param))}catch(ex){throw new Error("Illegal escape in diff_fromDelta: "+param)}break;case"-":case"=":var n=parseInt(param,10);if(isNaN(n)||n<0)throw new Error("Invalid number in diff_fromDelta: "+param);var text=text1.substring(pointer,pointer+=n);"="==tokens[x].charAt(0)?diffs[diffsLength++]=new diff_match_patch.Diff(0,text):diffs[diffsLength++]=new diff_match_patch.Diff(-1,text);break;default:if(tokens[x])throw new Error("Invalid diff operation in diff_fromDelta: "+tokens[x])}}if(pointer!=text1.length)throw new Error("Delta length ("+pointer+") does not equal source text length ("+text1.length+").");return diffs},diff_match_patch.prototype.match_main=function(text,pattern,loc){if(null==text||null==pattern||null==loc)throw new Error("Null input. (match_main)");return loc=Math.max(0,Math.min(loc,text.length)),text==pattern?0:text.length?text.substring(loc,loc+pattern.length)==pattern?loc:this.match_bitap_(text,pattern,loc):-1},diff_match_patch.prototype.match_bitap_=function(text,pattern,loc){if(pattern.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(pattern),dmp=this;function match_bitapScore_(e,x){var accuracy=e/pattern.length,proximity=Math.abs(loc-x);return dmp.Match_Distance?accuracy+proximity/dmp.Match_Distance:proximity?1:accuracy}var score_threshold=this.Match_Threshold,best_loc=text.indexOf(pattern,loc);-1!=best_loc&&(score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold),-1!=(best_loc=text.lastIndexOf(pattern,loc+pattern.length))&&(score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold)));var bin_min,bin_mid,matchmask=1<<pattern.length-1;best_loc=-1;for(var last_rd,bin_max=pattern.length+text.length,d=0;d<pattern.length;d++){for(bin_min=0,bin_mid=bin_max;bin_min<bin_mid;)match_bitapScore_(d,loc+bin_mid)<=score_threshold?bin_min=bin_mid:bin_max=bin_mid,bin_mid=Math.floor((bin_max-bin_min)/2+bin_min);bin_max=bin_mid;var start=Math.max(1,loc-bin_mid+1),finish=Math.min(loc+bin_mid,text.length)+pattern.length,rd=Array(finish+2);rd[finish+1]=(1<<d)-1;for(var j=finish;j>=start;j--){var charMatch=s[text.charAt(j-1)];if(rd[j]=0===d?(rd[j+1]<<1|1)&charMatch:(rd[j+1]<<1|1)&charMatch|(last_rd[j+1]|last_rd[j])<<1|1|last_rd[j+1],rd[j]&matchmask){var score=match_bitapScore_(d,j-1);if(score<=score_threshold){if(score_threshold=score,!((best_loc=j-1)>loc))break;start=Math.max(1,2*loc-best_loc)}}}if(match_bitapScore_(d+1,loc)>score_threshold)break;last_rd=rd}return best_loc},diff_match_patch.prototype.match_alphabet_=function(pattern){for(var s={},i=0;i<pattern.length;i++)s[pattern.charAt(i)]=0;for(i=0;i<pattern.length;i++)s[pattern.charAt(i)]|=1<<pattern.length-i-1;return s},diff_match_patch.prototype.patch_addContext_=function(patch,text){if(0!=text.length){if(null===patch.start2)throw Error("patch not initialized");for(var pattern=text.substring(patch.start2,patch.start2+patch.length1),padding=0;text.indexOf(pattern)!=text.lastIndexOf(pattern)&&pattern.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)padding+=this.Patch_Margin,pattern=text.substring(patch.start2-padding,patch.start2+patch.length1+padding);padding+=this.Patch_Margin;var prefix=text.substring(patch.start2-padding,patch.start2);prefix&&patch.diffs.unshift(new diff_match_patch.Diff(0,prefix));var suffix=text.substring(patch.start2+patch.length1,patch.start2+patch.length1+padding);suffix&&patch.diffs.push(new diff_match_patch.Diff(0,suffix)),patch.start1-=prefix.length,patch.start2-=prefix.length,patch.length1+=prefix.length+suffix.length,patch.length2+=prefix.length+suffix.length}},diff_match_patch.prototype.patch_make=function(a,opt_b,opt_c){var text1,diffs;if("string"==typeof a&&"string"==typeof opt_b&&void 0===opt_c)text1=a,(diffs=this.diff_main(text1,opt_b,!0)).length>2&&(this.diff_cleanupSemantic(diffs),this.diff_cleanupEfficiency(diffs));else if(a&&"object"==typeof a&&void 0===opt_b&&void 0===opt_c)diffs=a,text1=this.diff_text1(diffs);else if("string"==typeof a&&opt_b&&"object"==typeof opt_b&&void 0===opt_c)text1=a,diffs=opt_b;else{if("string"!=typeof a||"string"!=typeof opt_b||!opt_c||"object"!=typeof opt_c)throw new Error("Unknown call format to patch_make.");text1=a,diffs=opt_c}if(0===diffs.length)return[];for(var patches=[],patch=new diff_match_patch.patch_obj,patchDiffLength=0,char_count1=0,char_count2=0,prepatch_text=text1,postpatch_text=text1,x=0;x<diffs.length;x++){var diff_type=diffs[x][0],diff_text=diffs[x][1];switch(patchDiffLength||0===diff_type||(patch.start1=char_count1,patch.start2=char_count2),diff_type){case 1:patch.diffs[patchDiffLength++]=diffs[x],patch.length2+=diff_text.length,postpatch_text=postpatch_text.substring(0,char_count2)+diff_text+postpatch_text.substring(char_count2);break;case-1:patch.length1+=diff_text.length,patch.diffs[patchDiffLength++]=diffs[x],postpatch_text=postpatch_text.substring(0,char_count2)+postpatch_text.substring(char_count2+diff_text.length);break;case 0:diff_text.length<=2*this.Patch_Margin&&patchDiffLength&&diffs.length!=x+1?(patch.diffs[patchDiffLength++]=diffs[x],patch.length1+=diff_text.length,patch.length2+=diff_text.length):diff_text.length>=2*this.Patch_Margin&&patchDiffLength&&(this.patch_addContext_(patch,prepatch_text),patches.push(patch),patch=new diff_match_patch.patch_obj,patchDiffLength=0,prepatch_text=postpatch_text,char_count1=char_count2)}1!==diff_type&&(char_count1+=diff_text.length),-1!==diff_type&&(char_count2+=diff_text.length)}return patchDiffLength&&(this.patch_addContext_(patch,prepatch_text),patches.push(patch)),patches},diff_match_patch.prototype.patch_deepCopy=function(patches){for(var patchesCopy=[],x=0;x<patches.length;x++){var patch=patches[x],patchCopy=new diff_match_patch.patch_obj;patchCopy.diffs=[];for(var y=0;y<patch.diffs.length;y++)patchCopy.diffs[y]=new diff_match_patch.Diff(patch.diffs[y][0],patch.diffs[y][1]);patchCopy.start1=patch.start1,patchCopy.start2=patch.start2,patchCopy.length1=patch.length1,patchCopy.length2=patch.length2,patchesCopy[x]=patchCopy}return patchesCopy},diff_match_patch.prototype.patch_apply=function(patches,text){if(0==patches.length)return[text,[]];patches=this.patch_deepCopy(patches);var nullPadding=this.patch_addPadding(patches);text=nullPadding+text+nullPadding,this.patch_splitMax(patches);for(var delta=0,results=[],x=0;x<patches.length;x++){var start_loc,text2,expected_loc=patches[x].start2+delta,text1=this.diff_text1(patches[x].diffs),end_loc=-1;if(text1.length>this.Match_MaxBits?-1!=(start_loc=this.match_main(text,text1.substring(0,this.Match_MaxBits),expected_loc))&&(-1==(end_loc=this.match_main(text,text1.substring(text1.length-this.Match_MaxBits),expected_loc+text1.length-this.Match_MaxBits))||start_loc>=end_loc)&&(start_loc=-1):start_loc=this.match_main(text,text1,expected_loc),-1==start_loc)results[x]=!1,delta-=patches[x].length2-patches[x].length1;else if(results[x]=!0,delta=start_loc-expected_loc,text1==(text2=-1==end_loc?text.substring(start_loc,start_loc+text1.length):text.substring(start_loc,end_loc+this.Match_MaxBits)))text=text.substring(0,start_loc)+this.diff_text2(patches[x].diffs)+text.substring(start_loc+text1.length);else{var diffs=this.diff_main(text1,text2,!1);if(text1.length>this.Match_MaxBits&&this.diff_levenshtein(diffs)/text1.length>this.Patch_DeleteThreshold)results[x]=!1;else{this.diff_cleanupSemanticLossless(diffs);for(var index2,index1=0,y=0;y<patches[x].diffs.length;y++){var mod=patches[x].diffs[y];0!==mod[0]&&(index2=this.diff_xIndex(diffs,index1)),1===mod[0]?text=text.substring(0,start_loc+index2)+mod[1]+text.substring(start_loc+index2):-1===mod[0]&&(text=text.substring(0,start_loc+index2)+text.substring(start_loc+this.diff_xIndex(diffs,index1+mod[1].length))),-1!==mod[0]&&(index1+=mod[1].length)}}}}return[text=text.substring(nullPadding.length,text.length-nullPadding.length),results]},diff_match_patch.prototype.patch_addPadding=function(patches){for(var paddingLength=this.Patch_Margin,nullPadding="",x=1;x<=paddingLength;x++)nullPadding+=String.fromCharCode(x);for(x=0;x<patches.length;x++)patches[x].start1+=paddingLength,patches[x].start2+=paddingLength;var patch=patches[0],diffs=patch.diffs;if(0==diffs.length||0!=diffs[0][0])diffs.unshift(new diff_match_patch.Diff(0,nullPadding)),patch.start1-=paddingLength,patch.start2-=paddingLength,patch.length1+=paddingLength,patch.length2+=paddingLength;else if(paddingLength>diffs[0][1].length){var extraLength=paddingLength-diffs[0][1].length;diffs[0][1]=nullPadding.substring(diffs[0][1].length)+diffs[0][1],patch.start1-=extraLength,patch.start2-=extraLength,patch.length1+=extraLength,patch.length2+=extraLength}if(0==(diffs=(patch=patches[patches.length-1]).diffs).length||0!=diffs[diffs.length-1][0])diffs.push(new diff_match_patch.Diff(0,nullPadding)),patch.length1+=paddingLength,patch.length2+=paddingLength;else if(paddingLength>diffs[diffs.length-1][1].length){extraLength=paddingLength-diffs[diffs.length-1][1].length;diffs[diffs.length-1][1]+=nullPadding.substring(0,extraLength),patch.length1+=extraLength,patch.length2+=extraLength}return nullPadding},diff_match_patch.prototype.patch_splitMax=function(patches){for(var patch_size=this.Match_MaxBits,x=0;x<patches.length;x++)if(!(patches[x].length1<=patch_size)){var bigpatch=patches[x];patches.splice(x--,1);for(var start1=bigpatch.start1,start2=bigpatch.start2,precontext="";0!==bigpatch.diffs.length;){var patch=new diff_match_patch.patch_obj,empty=!0;for(patch.start1=start1-precontext.length,patch.start2=start2-precontext.length,""!==precontext&&(patch.length1=patch.length2=precontext.length,patch.diffs.push(new diff_match_patch.Diff(0,precontext)));0!==bigpatch.diffs.length&&patch.length1<patch_size-this.Patch_Margin;){var diff_type=bigpatch.diffs[0][0],diff_text=bigpatch.diffs[0][1];1===diff_type?(patch.length2+=diff_text.length,start2+=diff_text.length,patch.diffs.push(bigpatch.diffs.shift()),empty=!1):-1===diff_type&&1==patch.diffs.length&&0==patch.diffs[0][0]&&diff_text.length>2*patch_size?(patch.length1+=diff_text.length,start1+=diff_text.length,empty=!1,patch.diffs.push(new diff_match_patch.Diff(diff_type,diff_text)),bigpatch.diffs.shift()):(diff_text=diff_text.substring(0,patch_size-patch.length1-this.Patch_Margin),patch.length1+=diff_text.length,start1+=diff_text.length,0===diff_type?(patch.length2+=diff_text.length,start2+=diff_text.length):empty=!1,patch.diffs.push(new diff_match_patch.Diff(diff_type,diff_text)),diff_text==bigpatch.diffs[0][1]?bigpatch.diffs.shift():bigpatch.diffs[0][1]=bigpatch.diffs[0][1].substring(diff_text.length))}precontext=(precontext=this.diff_text2(patch.diffs)).substring(precontext.length-this.Patch_Margin);var postcontext=this.diff_text1(bigpatch.diffs).substring(0,this.Patch_Margin);""!==postcontext&&(patch.length1+=postcontext.length,patch.length2+=postcontext.length,0!==patch.diffs.length&&0===patch.diffs[patch.diffs.length-1][0]?patch.diffs[patch.diffs.length-1][1]+=postcontext:patch.diffs.push(new diff_match_patch.Diff(0,postcontext))),empty||patches.splice(++x,0,patch)}}},diff_match_patch.prototype.patch_toText=function(patches){for(var text=[],x=0;x<patches.length;x++)text[x]=patches[x];return text.join("")},diff_match_patch.prototype.patch_fromText=function(textline){var patches=[];if(!textline)return patches;for(var text=textline.split("\n"),textPointer=0,patchHeader=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;textPointer<text.length;){var m=text[textPointer].match(patchHeader);if(!m)throw new Error("Invalid patch string: "+text[textPointer]);var patch=new diff_match_patch.patch_obj;for(patches.push(patch),patch.start1=parseInt(m[1],10),""===m[2]?(patch.start1--,patch.length1=1):"0"==m[2]?patch.length1=0:(patch.start1--,patch.length1=parseInt(m[2],10)),patch.start2=parseInt(m[3],10),""===m[4]?(patch.start2--,patch.length2=1):"0"==m[4]?patch.length2=0:(patch.start2--,patch.length2=parseInt(m[4],10)),textPointer++;textPointer<text.length;){var sign=text[textPointer].charAt(0);try{var line=decodeURI(text[textPointer].substring(1))}catch(ex){throw new Error("Illegal escape in patch_fromText: "+line)}if("-"==sign)patch.diffs.push(new diff_match_patch.Diff(-1,line));else if("+"==sign)patch.diffs.push(new diff_match_patch.Diff(1,line));else if(" "==sign)patch.diffs.push(new diff_match_patch.Diff(0,line));else{if("@"==sign)break;if(""!==sign)throw new Error('Invalid patch mode "'+sign+'" in: '+line)}textPointer++}}return patches},(diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var op,text=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],x=0;x<this.diffs.length;x++){switch(this.diffs[x][0]){case 1:op="+";break;case-1:op="-";break;case 0:op=" "}text[x+1]=op+encodeURI(this.diffs[x][1])+"\n"}return text.join("").replace(/%20/g," ")},module.exports=diff_match_patch,module.exports.diff_match_patch=diff_match_patch,module.exports.DIFF_DELETE=-1,module.exports.DIFF_INSERT=1,module.exports.DIFF_EQUAL=0},"./node_modules/extend/index.js":module=>{"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function isArray(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function isPlainObject(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var key,hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;for(key in obj);return void 0===key||hasOwn.call(obj,key)},setProperty=function setProperty(target,options){defineProperty&&"__proto__"===options.name?defineProperty(target,options.name,{enumerable:!0,configurable:!0,value:options.newValue,writable:!0}):target[options.name]=options.newValue},getProperty=function getProperty(obj,name){if("__proto__"===name){if(!hasOwn.call(obj,name))return;if(gOPD)return gOPD(obj,name).value}return obj[name]};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),(null==target||"object"!=typeof target&&"function"!=typeof target)&&(target={});i<length;++i)if(null!=(options=arguments[i]))for(name in options)src=getProperty(target,name),target!==(copy=getProperty(options,name))&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},setProperty(target,{name,newValue:extend(deep,clone,copy)})):void 0!==copy&&setProperty(target,{name,newValue:copy}));return target}},"./node_modules/inline-style-parser/index.js":module=>{var COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,EMPTY_STRING="";function trim(str){return str?str.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}module.exports=function(style,options){if("string"!=typeof style)throw new TypeError("First argument must be a string");if(!style)return[];options=options||{};var lineno=1,column=1;function updatePosition(str){var lines=str.match(NEWLINE_REGEX);lines&&(lineno+=lines.length);var i=str.lastIndexOf("\n");column=~i?str.length-i:column+str.length}function position(){var start={line:lineno,column};return function(node){return node.position=new Position(start),whitespace(),node}}function Position(start){this.start=start,this.end={line:lineno,column},this.source=options.source}Position.prototype.content=style;var errorsList=[];function error(msg){var err=new Error(options.source+":"+lineno+":"+column+": "+msg);if(err.reason=msg,err.filename=options.source,err.line=lineno,err.column=column,err.source=style,!options.silent)throw err;errorsList.push(err)}function match(re){var m=re.exec(style);if(m){var str=m[0];return updatePosition(str),style=style.slice(str.length),m}}function whitespace(){match(WHITESPACE_REGEX)}function comments(rules){var c;for(rules=rules||[];c=comment();)!1!==c&&rules.push(c);return rules}function comment(){var pos=position();if("/"==style.charAt(0)&&"*"==style.charAt(1)){for(var i=2;EMPTY_STRING!=style.charAt(i)&&("*"!=style.charAt(i)||"/"!=style.charAt(i+1));)++i;if(i+=2,EMPTY_STRING===style.charAt(i-1))return error("End of comment missing");var str=style.slice(2,i-2);return column+=2,updatePosition(str),style=style.slice(i),column+=2,pos({type:"comment",comment:str})}}function declaration(){var pos=position(),prop=match(PROPERTY_REGEX);if(prop){if(comment(),!match(COLON_REGEX))return error("property missing ':'");var val=match(VALUE_REGEX),ret=pos({type:"declaration",property:trim(prop[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:val?trim(val[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return match(SEMICOLON_REGEX),ret}}return whitespace(),function declarations(){var decl,decls=[];for(comments(decls);decl=declaration();)!1!==decl&&(decls.push(decl),comments(decls));return decls}()}},"./node_modules/is-buffer/index.js":module=>{module.exports=function isBuffer(obj){return null!=obj&&null!=obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}},"./node_modules/lodash.get/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function assocIndexOf(array,key){for(var value,other,length=array.length;length--;)if((value=array[length][0])===(other=key)||value!=value&&other!=other)return length;return-1}function baseGet(object,path){path=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;if("number"==type||"symbol"==type||"boolean"==type||null==value||isSymbol(value))return!0;return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}(path,object)?[path]:function castPath(value){return isArray(value)?value:stringToPath(value)}(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseIsNative(value){if(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))return!1;var pattern=function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)||function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}(value)?reIsNative:reIsHostCtor;return pattern.test(function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}(value))}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this};var stringToPath=memoize((function(string){string=function toString(value){return null==value?"":function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}(value)}(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,(function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)})),result}));function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;var isArray=Array.isArray;function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},"./node_modules/lodash.isequal/index.js":(module,exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);var HASH_UNDEFINED="__lodash_hash_undefined__",COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,symToStringTag=Symbol?Symbol.toStringTag:void 0,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=function overArg(func,transform){return function(arg){return func(transform(arg))}}(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function objectToString(value){return nativeObjectToString.call(value)}(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack)}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseKeys(object){if(!function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(key=othIndex,!seen.has(key)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex);var key}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function getAllKeys(object){return function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:function stubArray(){return[]},getTag=baseGetTag;function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;var isBuffer=nativeIsBuffer||function stubFalse(){return!1};function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isTypedArray=nodeIsTypedArray?function baseUnary(func){return function(value){return func(value)}}(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};function keys(object){return function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=function isEqual(value,other){return baseIsEqual(value,other)}},"./node_modules/react-ace/lib/ace.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var ace_builds_1=__webpack_require__("./node_modules/ace-builds/src-noconflict/ace.js"),PropTypes=__webpack_require__("./node_modules/prop-types/index.js"),React=__webpack_require__("./node_modules/react/index.js"),isEqual=__webpack_require__("./node_modules/lodash.isequal/index.js"),editorOptions_1=__webpack_require__("./node_modules/react-ace/lib/editorOptions.js"),ace=(0,editorOptions_1.getAceInstance)(),ReactAce=function(_super){function ReactAce(props){var _this=_super.call(this,props)||this;return editorOptions_1.editorEvents.forEach((function(method){_this[method]=_this[method].bind(_this)})),_this.debounce=editorOptions_1.debounce,_this}return __extends(ReactAce,_super),ReactAce.prototype.isInShadow=function(node){for(var parent=node&&node.parentNode;parent;){if("[object ShadowRoot]"===parent.toString())return!0;parent=parent.parentNode}return!1},ReactAce.prototype.componentDidMount=function(){var _this=this,_a=this.props,className=_a.className,onBeforeLoad=_a.onBeforeLoad,onValidate=_a.onValidate,mode=_a.mode,focus=_a.focus,theme=_a.theme,fontSize=_a.fontSize,value=_a.value,defaultValue=_a.defaultValue,showGutter=_a.showGutter,wrapEnabled=_a.wrapEnabled,showPrintMargin=_a.showPrintMargin,_b=_a.scrollMargin,scrollMargin=void 0===_b?[0,0,0,0]:_b,keyboardHandler=_a.keyboardHandler,onLoad=_a.onLoad,commands=_a.commands,annotations=_a.annotations,markers=_a.markers,placeholder=_a.placeholder;this.editor=ace.edit(this.refEditor),onBeforeLoad&&onBeforeLoad(ace);for(var editorProps=Object.keys(this.props.editorProps),i=0;i<editorProps.length;i++)this.editor[editorProps[i]]=this.props.editorProps[editorProps[i]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(scrollMargin[0],scrollMargin[1],scrollMargin[2],scrollMargin[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"==typeof mode?"ace/mode/".concat(mode):mode),theme&&""!==theme&&this.editor.setTheme("ace/theme/".concat(theme)),this.editor.setFontSize("number"==typeof fontSize?"".concat(fontSize,"px"):fontSize),this.editor.getSession().setValue(defaultValue||(value||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(showGutter),this.editor.getSession().setUseWrapMode(wrapEnabled),this.editor.setShowPrintMargin(showPrintMargin),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),placeholder&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),onValidate&&this.editor.getSession().on("changeAnnotation",(function(){var annotations=_this.editor.getSession().getAnnotations();_this.props.onValidate(annotations)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(annotations||[]),markers&&markers.length>0&&this.handleMarkers(markers);var availableOptions=this.editor.$options;editorOptions_1.editorOptions.forEach((function(option){availableOptions.hasOwnProperty(option)?_this.editor.setOption(option,_this.props[option]):_this.props[option]&&console.warn("ReactAce: editor option ".concat(option," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))})),this.handleOptions(this.props),Array.isArray(commands)&&commands.forEach((function(command){"string"==typeof command.exec?_this.editor.commands.bindKey(command.bindKey,command.exec):_this.editor.commands.addCommand(command)})),keyboardHandler&&this.editor.setKeyboardHandler("ace/keyboard/"+keyboardHandler),className&&(this.refEditor.className+=" "+className),onLoad&&onLoad(this.editor),this.editor.resize(),focus&&this.editor.focus()},ReactAce.prototype.componentDidUpdate=function(prevProps){for(var oldProps=prevProps,nextProps=this.props,i=0;i<editorOptions_1.editorOptions.length;i++){var option=editorOptions_1.editorOptions[i];nextProps[option]!==oldProps[option]&&this.editor.setOption(option,nextProps[option])}if(nextProps.className!==oldProps.className){var appliedClassesArray_1=this.refEditor.className.trim().split(" ");oldProps.className.trim().split(" ").forEach((function(oldClass){var index=appliedClassesArray_1.indexOf(oldClass);appliedClassesArray_1.splice(index,1)})),this.refEditor.className=" "+nextProps.className+" "+appliedClassesArray_1.join(" ")}var valueChanged=this.editor&&null!=nextProps.value&&this.editor.getValue()!==nextProps.value;if(valueChanged){this.silent=!0;var pos=this.editor.session.selection.toJSON();this.editor.setValue(nextProps.value,nextProps.cursorStart),this.editor.session.selection.fromJSON(pos),this.silent=!1}nextProps.placeholder!==oldProps.placeholder&&this.updatePlaceholder(),nextProps.mode!==oldProps.mode&&this.editor.getSession().setMode("string"==typeof nextProps.mode?"ace/mode/".concat(nextProps.mode):nextProps.mode),nextProps.theme!==oldProps.theme&&this.editor.setTheme("ace/theme/"+nextProps.theme),nextProps.keyboardHandler!==oldProps.keyboardHandler&&(nextProps.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+nextProps.keyboardHandler):this.editor.setKeyboardHandler(null)),nextProps.fontSize!==oldProps.fontSize&&this.editor.setFontSize("number"==typeof nextProps.fontSize?"".concat(nextProps.fontSize,"px"):nextProps.fontSize),nextProps.wrapEnabled!==oldProps.wrapEnabled&&this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled),nextProps.showPrintMargin!==oldProps.showPrintMargin&&this.editor.setShowPrintMargin(nextProps.showPrintMargin),nextProps.showGutter!==oldProps.showGutter&&this.editor.renderer.setShowGutter(nextProps.showGutter),isEqual(nextProps.setOptions,oldProps.setOptions)||this.handleOptions(nextProps),!valueChanged&&isEqual(nextProps.annotations,oldProps.annotations)||this.editor.getSession().setAnnotations(nextProps.annotations||[]),!isEqual(nextProps.markers,oldProps.markers)&&Array.isArray(nextProps.markers)&&this.handleMarkers(nextProps.markers),isEqual(nextProps.scrollMargin,oldProps.scrollMargin)||this.handleScrollMargins(nextProps.scrollMargin),prevProps.height===this.props.height&&prevProps.width===this.props.width||this.editor.resize(),this.props.focus&&!prevProps.focus&&this.editor.focus()},ReactAce.prototype.handleScrollMargins=function(margins){void 0===margins&&(margins=[0,0,0,0]),this.editor.renderer.setScrollMargin(margins[0],margins[1],margins[2],margins[3])},ReactAce.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},ReactAce.prototype.onChange=function(event){if(this.props.onChange&&!this.silent){var value=this.editor.getValue();this.props.onChange(value,event)}},ReactAce.prototype.onSelectionChange=function(event){if(this.props.onSelectionChange){var value=this.editor.getSelection();this.props.onSelectionChange(value,event)}},ReactAce.prototype.onCursorChange=function(event){if(this.props.onCursorChange){var value=this.editor.getSelection();this.props.onCursorChange(value,event)}},ReactAce.prototype.onInput=function(event){this.props.onInput&&this.props.onInput(event),this.props.placeholder&&this.updatePlaceholder()},ReactAce.prototype.onFocus=function(event){this.props.onFocus&&this.props.onFocus(event,this.editor)},ReactAce.prototype.onBlur=function(event){this.props.onBlur&&this.props.onBlur(event,this.editor)},ReactAce.prototype.onCopy=function(_a){var text=_a.text;this.props.onCopy&&this.props.onCopy(text)},ReactAce.prototype.onPaste=function(_a){var text=_a.text;this.props.onPaste&&this.props.onPaste(text)},ReactAce.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},ReactAce.prototype.handleOptions=function(props){for(var setOptions=Object.keys(props.setOptions),y=0;y<setOptions.length;y++)this.editor.setOption(setOptions[y],props.setOptions[setOptions[y]])},ReactAce.prototype.handleMarkers=function(markers){var _this=this,currentMarkers=this.editor.getSession().getMarkers(!0);for(var i in currentMarkers)currentMarkers.hasOwnProperty(i)&&this.editor.getSession().removeMarker(currentMarkers[i].id);for(var i in currentMarkers=this.editor.getSession().getMarkers(!1))currentMarkers.hasOwnProperty(i)&&"ace_active-line"!==currentMarkers[i].clazz&&"ace_selected-word"!==currentMarkers[i].clazz&&this.editor.getSession().removeMarker(currentMarkers[i].id);markers.forEach((function(_a){var startRow=_a.startRow,startCol=_a.startCol,endRow=_a.endRow,endCol=_a.endCol,className=_a.className,type=_a.type,_b=_a.inFront,inFront=void 0!==_b&&_b,range=new ace_builds_1.Range(startRow,startCol,endRow,endCol);_this.editor.getSession().addMarker(range,className,type,inFront)}))},ReactAce.prototype.updatePlaceholder=function(){var editor=this.editor,placeholder=this.props.placeholder,showPlaceholder=!editor.session.getValue().length,node=editor.renderer.placeholderNode;!showPlaceholder&&node?(editor.renderer.scroller.removeChild(editor.renderer.placeholderNode),editor.renderer.placeholderNode=null):showPlaceholder&&!node?((node=editor.renderer.placeholderNode=document.createElement("div")).textContent=placeholder||"",node.className="ace_comment ace_placeholder",node.style.padding="0 9px",node.style.position="absolute",node.style.zIndex="3",editor.renderer.scroller.appendChild(node)):showPlaceholder&&node&&(node.textContent=placeholder)},ReactAce.prototype.updateRef=function(item){this.refEditor=item},ReactAce.prototype.render=function(){var _a=this.props,name=_a.name,width=_a.width,height=_a.height,style=_a.style,divStyle=__assign({width,height},style);return React.createElement("div",{ref:this.updateRef,id:name,style:divStyle})},ReactAce.propTypes={mode:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),focus:PropTypes.bool,theme:PropTypes.string,name:PropTypes.string,className:PropTypes.string,height:PropTypes.string,width:PropTypes.string,fontSize:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),showGutter:PropTypes.bool,onChange:PropTypes.func,onCopy:PropTypes.func,onPaste:PropTypes.func,onFocus:PropTypes.func,onInput:PropTypes.func,onBlur:PropTypes.func,onScroll:PropTypes.func,value:PropTypes.string,defaultValue:PropTypes.string,onLoad:PropTypes.func,onSelectionChange:PropTypes.func,onCursorChange:PropTypes.func,onBeforeLoad:PropTypes.func,onValidate:PropTypes.func,minLines:PropTypes.number,maxLines:PropTypes.number,readOnly:PropTypes.bool,highlightActiveLine:PropTypes.bool,tabSize:PropTypes.number,showPrintMargin:PropTypes.bool,cursorStart:PropTypes.number,debounceChangePeriod:PropTypes.number,editorProps:PropTypes.object,setOptions:PropTypes.object,style:PropTypes.object,scrollMargin:PropTypes.array,annotations:PropTypes.array,markers:PropTypes.array,keyboardHandler:PropTypes.string,wrapEnabled:PropTypes.bool,enableSnippets:PropTypes.bool,enableBasicAutocompletion:PropTypes.oneOfType([PropTypes.bool,PropTypes.array]),enableLiveAutocompletion:PropTypes.oneOfType([PropTypes.bool,PropTypes.array]),navigateToFileEnd:PropTypes.bool,commands:PropTypes.array,placeholder:PropTypes.string},ReactAce.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},ReactAce}(React.Component);exports.default=ReactAce},"./node_modules/react-ace/lib/diff.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var PropTypes=__webpack_require__("./node_modules/prop-types/index.js"),React=__webpack_require__("./node_modules/react/index.js"),split_1=__webpack_require__("./node_modules/react-ace/lib/split.js"),DiffMatchPatch=__webpack_require__("./node_modules/diff-match-patch/index.js"),DiffComponent=function(_super){function DiffComponent(props){var _this=_super.call(this,props)||this;return _this.state={value:_this.props.value},_this.onChange=_this.onChange.bind(_this),_this.diff=_this.diff.bind(_this),_this}return __extends(DiffComponent,_super),DiffComponent.prototype.componentDidUpdate=function(){var value=this.props.value;value!==this.state.value&&this.setState({value})},DiffComponent.prototype.onChange=function(value){this.setState({value}),this.props.onChange&&this.props.onChange(value)},DiffComponent.prototype.diff=function(){var dmp=new DiffMatchPatch,lhString=this.state.value[0],rhString=this.state.value[1];if(0===lhString.length&&0===rhString.length)return[];var diff=dmp.diff_main(lhString,rhString);dmp.diff_cleanupSemantic(diff);var diffedLines=this.generateDiffedLines(diff);return this.setCodeMarkers(diffedLines)},DiffComponent.prototype.generateDiffedLines=function(diff){var C_DIFF_EQUAL=0,C_DIFF_DELETE=-1,C_DIFF_INSERT=1,diffedLines={left:[],right:[]},cursor={left:1,right:1};return diff.forEach((function(chunk){var chunkType=chunk[0],text=chunk[1],lines=text.split("\n").length-1;if(0!==text.length){var firstChar=text[0],lastChar=text[text.length-1],linesToHighlight=0;switch(chunkType){case C_DIFF_EQUAL:cursor.left+=lines,cursor.right+=lines;break;case C_DIFF_DELETE:"\n"===firstChar&&(cursor.left++,lines--),0===(linesToHighlight=lines)&&diffedLines.right.push({startLine:cursor.right,endLine:cursor.right}),"\n"===lastChar&&(linesToHighlight-=1),diffedLines.left.push({startLine:cursor.left,endLine:cursor.left+linesToHighlight}),cursor.left+=lines;break;case C_DIFF_INSERT:"\n"===firstChar&&(cursor.right++,lines--),0===(linesToHighlight=lines)&&diffedLines.left.push({startLine:cursor.left,endLine:cursor.left}),"\n"===lastChar&&(linesToHighlight-=1),diffedLines.right.push({startLine:cursor.right,endLine:cursor.right+linesToHighlight}),cursor.right+=lines;break;default:throw new Error("Diff type was not defined.")}}})),diffedLines},DiffComponent.prototype.setCodeMarkers=function(diffedLines){void 0===diffedLines&&(diffedLines={left:[],right:[]});for(var codeEditorSettings=[],newMarkerSet={left:[],right:[]},i=0;i<diffedLines.left.length;i++){var markerObj={startRow:diffedLines.left[i].startLine-1,endRow:diffedLines.left[i].endLine,type:"text",className:"codeMarker"};newMarkerSet.left.push(markerObj)}for(i=0;i<diffedLines.right.length;i++){markerObj={startRow:diffedLines.right[i].startLine-1,endRow:diffedLines.right[i].endLine,type:"text",className:"codeMarker"};newMarkerSet.right.push(markerObj)}return codeEditorSettings[0]=newMarkerSet.left,codeEditorSettings[1]=newMarkerSet.right,codeEditorSettings},DiffComponent.prototype.render=function(){var markers=this.diff();return React.createElement(split_1.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers})},DiffComponent.propTypes={cursorStart:PropTypes.number,editorProps:PropTypes.object,enableBasicAutocompletion:PropTypes.bool,enableLiveAutocompletion:PropTypes.bool,focus:PropTypes.bool,fontSize:PropTypes.number,height:PropTypes.string,highlightActiveLine:PropTypes.bool,maxLines:PropTypes.number,minLines:PropTypes.number,mode:PropTypes.string,name:PropTypes.string,className:PropTypes.string,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,onChange:PropTypes.func,orientation:PropTypes.string,readOnly:PropTypes.bool,scrollMargin:PropTypes.array,setOptions:PropTypes.object,showGutter:PropTypes.bool,showPrintMargin:PropTypes.bool,splits:PropTypes.number,style:PropTypes.object,tabSize:PropTypes.number,theme:PropTypes.string,value:PropTypes.array,width:PropTypes.string,wrapEnabled:PropTypes.bool},DiffComponent.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},DiffComponent}(React.Component);exports.default=DiffComponent},"./node_modules/react-ace/lib/editorOptions.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAceInstance=exports.debounce=exports.editorEvents=exports.editorOptions=void 0;exports.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];exports.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];exports.getAceInstance=function(){var ace;return"undefined"==typeof window?(__webpack_require__.g.window={},ace=__webpack_require__("./node_modules/ace-builds/src-noconflict/ace.js"),delete __webpack_require__.g.window):window.ace?(ace=window.ace).acequire=window.ace.require||window.ace.acequire:ace=__webpack_require__("./node_modules/ace-builds/src-noconflict/ace.js"),ace};exports.debounce=function(fn,delay){var timer=null;return function(){var context=this,args=arguments;clearTimeout(timer),timer=setTimeout((function(){fn.apply(context,args)}),delay)}}},"./node_modules/react-ace/lib/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var ace_1=__webpack_require__("./node_modules/react-ace/lib/ace.js");__webpack_require__("./node_modules/react-ace/lib/diff.js").default,__webpack_require__("./node_modules/react-ace/lib/split.js").default,exports.ZP=ace_1.default},"./node_modules/react-ace/lib/split.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)},function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var editorOptions_1=__webpack_require__("./node_modules/react-ace/lib/editorOptions.js"),ace=(0,editorOptions_1.getAceInstance)(),ace_builds_1=__webpack_require__("./node_modules/ace-builds/src-noconflict/ace.js"),ext_split_1=__webpack_require__("./node_modules/ace-builds/src-noconflict/ext-split.js"),PropTypes=__webpack_require__("./node_modules/prop-types/index.js"),React=__webpack_require__("./node_modules/react/index.js"),isEqual=__webpack_require__("./node_modules/lodash.isequal/index.js"),get=__webpack_require__("./node_modules/lodash.get/index.js"),SplitComponent=function(_super){function SplitComponent(props){var _this=_super.call(this,props)||this;return editorOptions_1.editorEvents.forEach((function(method){_this[method]=_this[method].bind(_this)})),_this.debounce=editorOptions_1.debounce,_this}return __extends(SplitComponent,_super),SplitComponent.prototype.isInShadow=function(node){for(var parent=node&&node.parentNode;parent;){if("[object ShadowRoot]"===parent.toString())return!0;parent=parent.parentNode}return!1},SplitComponent.prototype.componentDidMount=function(){var _this=this,_a=this.props,className=_a.className,onBeforeLoad=_a.onBeforeLoad,mode=_a.mode,focus=_a.focus,theme=_a.theme,fontSize=_a.fontSize,value=_a.value,defaultValue=_a.defaultValue,cursorStart=_a.cursorStart,showGutter=_a.showGutter,wrapEnabled=_a.wrapEnabled,showPrintMargin=_a.showPrintMargin,_b=_a.scrollMargin,scrollMargin=void 0===_b?[0,0,0,0]:_b,keyboardHandler=_a.keyboardHandler,onLoad=_a.onLoad,commands=_a.commands,annotations=_a.annotations,markers=_a.markers,splits=_a.splits;this.editor=ace.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(theme)),onBeforeLoad&&onBeforeLoad(ace);var editorProps=Object.keys(this.props.editorProps),split=new ext_split_1.Split(this.editor.container,"ace/theme/".concat(theme),splits);this.editor.env.split=split,this.splitEditor=split.getEditor(0),this.split=split,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var availableOptions=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),split.forEach((function(editor,index){for(var i=0;i<editorProps.length;i++)editor[editorProps[i]]=_this.props.editorProps[editorProps[i]];var defaultValueForEditor=get(defaultValue,index),valueForEditor=get(value,index,"");editor.session.setUndoManager(new ace.UndoManager),editor.setTheme("ace/theme/".concat(theme)),editor.renderer.setScrollMargin(scrollMargin[0],scrollMargin[1],scrollMargin[2],scrollMargin[3]),editor.getSession().setMode("ace/mode/".concat(mode)),editor.setFontSize(fontSize),editor.renderer.setShowGutter(showGutter),editor.getSession().setUseWrapMode(wrapEnabled),editor.setShowPrintMargin(showPrintMargin),editor.on("focus",_this.onFocus),editor.on("blur",_this.onBlur),editor.on("input",_this.onInput),editor.on("copy",_this.onCopy),editor.on("paste",_this.onPaste),editor.on("change",_this.onChange),editor.getSession().selection.on("changeSelection",_this.onSelectionChange),editor.getSession().selection.on("changeCursor",_this.onCursorChange),editor.session.on("changeScrollTop",_this.onScroll),editor.setValue(void 0===defaultValueForEditor?valueForEditor:defaultValueForEditor,cursorStart);var newAnnotations=get(annotations,index,[]),newMarkers=get(markers,index,[]);editor.getSession().setAnnotations(newAnnotations),newMarkers&&newMarkers.length>0&&_this.handleMarkers(newMarkers,editor);for(i=0;i<editorOptions_1.editorOptions.length;i++){var option=editorOptions_1.editorOptions[i];availableOptions.hasOwnProperty(option)?editor.setOption(option,_this.props[option]):_this.props[option]&&console.warn("ReaceAce: editor option ".concat(option," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}_this.handleOptions(_this.props,editor),Array.isArray(commands)&&commands.forEach((function(command){"string"==typeof command.exec?editor.commands.bindKey(command.bindKey,command.exec):editor.commands.addCommand(command)})),keyboardHandler&&editor.setKeyboardHandler("ace/keyboard/"+keyboardHandler)})),className&&(this.refEditor.className+=" "+className),focus&&this.splitEditor.focus();var sp=this.editor.env.split;sp.setOrientation("below"===this.props.orientation?sp.BELOW:sp.BESIDE),sp.resize(!0),onLoad&&onLoad(sp)},SplitComponent.prototype.componentDidUpdate=function(prevProps){var _this=this,oldProps=prevProps,nextProps=this.props,split=this.editor.env.split;if(nextProps.splits!==oldProps.splits&&split.setSplits(nextProps.splits),nextProps.orientation!==oldProps.orientation&&split.setOrientation("below"===nextProps.orientation?split.BELOW:split.BESIDE),split.forEach((function(editor,index){nextProps.mode!==oldProps.mode&&editor.getSession().setMode("ace/mode/"+nextProps.mode),nextProps.keyboardHandler!==oldProps.keyboardHandler&&(nextProps.keyboardHandler?editor.setKeyboardHandler("ace/keyboard/"+nextProps.keyboardHandler):editor.setKeyboardHandler(null)),nextProps.fontSize!==oldProps.fontSize&&editor.setFontSize(nextProps.fontSize),nextProps.wrapEnabled!==oldProps.wrapEnabled&&editor.getSession().setUseWrapMode(nextProps.wrapEnabled),nextProps.showPrintMargin!==oldProps.showPrintMargin&&editor.setShowPrintMargin(nextProps.showPrintMargin),nextProps.showGutter!==oldProps.showGutter&&editor.renderer.setShowGutter(nextProps.showGutter);for(var i=0;i<editorOptions_1.editorOptions.length;i++){var option=editorOptions_1.editorOptions[i];nextProps[option]!==oldProps[option]&&editor.setOption(option,nextProps[option])}isEqual(nextProps.setOptions,oldProps.setOptions)||_this.handleOptions(nextProps,editor);var nextValue=get(nextProps.value,index,"");if(editor.getValue()!==nextValue){_this.silent=!0;var pos=editor.session.selection.toJSON();editor.setValue(nextValue,nextProps.cursorStart),editor.session.selection.fromJSON(pos),_this.silent=!1}var newAnnotations=get(nextProps.annotations,index,[]),oldAnnotations=get(oldProps.annotations,index,[]);isEqual(newAnnotations,oldAnnotations)||editor.getSession().setAnnotations(newAnnotations);var newMarkers=get(nextProps.markers,index,[]),oldMarkers=get(oldProps.markers,index,[]);!isEqual(newMarkers,oldMarkers)&&Array.isArray(newMarkers)&&_this.handleMarkers(newMarkers,editor)})),nextProps.className!==oldProps.className){var appliedClassesArray_1=this.refEditor.className.trim().split(" ");oldProps.className.trim().split(" ").forEach((function(oldClass){var index=appliedClassesArray_1.indexOf(oldClass);appliedClassesArray_1.splice(index,1)})),this.refEditor.className=" "+nextProps.className+" "+appliedClassesArray_1.join(" ")}nextProps.theme!==oldProps.theme&&split.setTheme("ace/theme/"+nextProps.theme),nextProps.focus&&!oldProps.focus&&this.splitEditor.focus(),nextProps.height===this.props.height&&nextProps.width===this.props.width||this.editor.resize()},SplitComponent.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},SplitComponent.prototype.onChange=function(event){if(this.props.onChange&&!this.silent){var value_1=[];this.editor.env.split.forEach((function(editor){value_1.push(editor.getValue())})),this.props.onChange(value_1,event)}},SplitComponent.prototype.onSelectionChange=function(event){if(this.props.onSelectionChange){var value_2=[];this.editor.env.split.forEach((function(editor){value_2.push(editor.getSelection())})),this.props.onSelectionChange(value_2,event)}},SplitComponent.prototype.onCursorChange=function(event){if(this.props.onCursorChange){var value_3=[];this.editor.env.split.forEach((function(editor){value_3.push(editor.getSelection())})),this.props.onCursorChange(value_3,event)}},SplitComponent.prototype.onFocus=function(event){this.props.onFocus&&this.props.onFocus(event)},SplitComponent.prototype.onInput=function(event){this.props.onInput&&this.props.onInput(event)},SplitComponent.prototype.onBlur=function(event){this.props.onBlur&&this.props.onBlur(event)},SplitComponent.prototype.onCopy=function(text){this.props.onCopy&&this.props.onCopy(text)},SplitComponent.prototype.onPaste=function(text){this.props.onPaste&&this.props.onPaste(text)},SplitComponent.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},SplitComponent.prototype.handleOptions=function(props,editor){for(var setOptions=Object.keys(props.setOptions),y=0;y<setOptions.length;y++)editor.setOption(setOptions[y],props.setOptions[setOptions[y]])},SplitComponent.prototype.handleMarkers=function(markers,editor){var currentMarkers=editor.getSession().getMarkers(!0);for(var i in currentMarkers)currentMarkers.hasOwnProperty(i)&&editor.getSession().removeMarker(currentMarkers[i].id);for(var i in currentMarkers=editor.getSession().getMarkers(!1))currentMarkers.hasOwnProperty(i)&&editor.getSession().removeMarker(currentMarkers[i].id);markers.forEach((function(_a){var startRow=_a.startRow,startCol=_a.startCol,endRow=_a.endRow,endCol=_a.endCol,className=_a.className,type=_a.type,_b=_a.inFront,inFront=void 0!==_b&&_b,range=new ace_builds_1.Range(startRow,startCol,endRow,endCol);editor.getSession().addMarker(range,className,type,inFront)}))},SplitComponent.prototype.updateRef=function(item){this.refEditor=item},SplitComponent.prototype.render=function(){var _a=this.props,name=_a.name,width=_a.width,height=_a.height,style=_a.style,divStyle=__assign({width,height},style);return React.createElement("div",{ref:this.updateRef,id:name,style:divStyle})},SplitComponent.propTypes={className:PropTypes.string,debounceChangePeriod:PropTypes.number,defaultValue:PropTypes.arrayOf(PropTypes.string),focus:PropTypes.bool,fontSize:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),height:PropTypes.string,mode:PropTypes.string,name:PropTypes.string,onBlur:PropTypes.func,onChange:PropTypes.func,onCopy:PropTypes.func,onFocus:PropTypes.func,onInput:PropTypes.func,onLoad:PropTypes.func,onPaste:PropTypes.func,onScroll:PropTypes.func,orientation:PropTypes.string,showGutter:PropTypes.bool,splits:PropTypes.number,theme:PropTypes.string,value:PropTypes.arrayOf(PropTypes.string),width:PropTypes.string,onSelectionChange:PropTypes.func,onCursorChange:PropTypes.func,onBeforeLoad:PropTypes.func,minLines:PropTypes.number,maxLines:PropTypes.number,readOnly:PropTypes.bool,highlightActiveLine:PropTypes.bool,tabSize:PropTypes.number,showPrintMargin:PropTypes.bool,cursorStart:PropTypes.number,editorProps:PropTypes.object,setOptions:PropTypes.object,style:PropTypes.object,scrollMargin:PropTypes.array,annotations:PropTypes.array,markers:PropTypes.array,keyboardHandler:PropTypes.string,wrapEnabled:PropTypes.bool,enableBasicAutocompletion:PropTypes.oneOfType([PropTypes.bool,PropTypes.array]),enableLiveAutocompletion:PropTypes.oneOfType([PropTypes.bool,PropTypes.array]),commands:PropTypes.array},SplitComponent.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},SplitComponent}(React.Component);exports.default=SplitComponent},"./node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var u,b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen");function v(a){if("object"==typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}u=Symbol.for("react.module.reference"),exports.ContextConsumer=h,exports.ContextProvider=g,exports.Element=b,exports.ForwardRef=l,exports.Fragment=d,exports.Lazy=q,exports.Memo=p,exports.Portal=c,exports.Profiler=f,exports.StrictMode=e,exports.Suspense=m,exports.SuspenseList=n,exports.isAsyncMode=function(){return!1},exports.isConcurrentMode=function(){return!1},exports.isContextConsumer=function(a){return v(a)===h},exports.isContextProvider=function(a){return v(a)===g},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===b},exports.isForwardRef=function(a){return v(a)===l},exports.isFragment=function(a){return v(a)===d},exports.isLazy=function(a){return v(a)===q},exports.isMemo=function(a){return v(a)===p},exports.isPortal=function(a){return v(a)===c},exports.isProfiler=function(a){return v(a)===f},exports.isStrictMode=function(a){return v(a)===e},exports.isSuspense=function(a){return v(a)===m},exports.isSuspenseList=function(a){return v(a)===n},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===d||a===f||a===e||a===m||a===n||a===t||"object"==typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)},exports.typeOf=v},"./node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/reselect/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P1:()=>createSelector});var NOT_FOUND="NOT_FOUND";var defaultEqualityCheck=function defaultEqualityCheck(a,b){return a===b};function defaultMemoize(func,equalityCheckOrOptions){var providedOptions="object"==typeof equalityCheckOrOptions?equalityCheckOrOptions:{equalityCheck:equalityCheckOrOptions},_providedOptions$equa=providedOptions.equalityCheck,equalityCheck=void 0===_providedOptions$equa?defaultEqualityCheck:_providedOptions$equa,_providedOptions$maxS=providedOptions.maxSize,maxSize=void 0===_providedOptions$maxS?1:_providedOptions$maxS,resultEqualityCheck=providedOptions.resultEqualityCheck,comparator=function createCacheKeyComparator(equalityCheck){return function areArgumentsShallowlyEqual(prev,next){if(null===prev||null===next||prev.length!==next.length)return!1;for(var length=prev.length,i=0;i<length;i++)if(!equalityCheck(prev[i],next[i]))return!1;return!0}}(equalityCheck),cache=1===maxSize?function createSingletonCache(equals){var entry;return{get:function get(key){return entry&&equals(entry.key,key)?entry.value:NOT_FOUND},put:function put(key,value){entry={key,value}},getEntries:function getEntries(){return entry?[entry]:[]},clear:function clear(){entry=void 0}}}(comparator):function createLruCache(maxSize,equals){var entries=[];function get(key){var cacheIndex=entries.findIndex((function(entry){return equals(key,entry.key)}));if(cacheIndex>-1){var entry=entries[cacheIndex];return cacheIndex>0&&(entries.splice(cacheIndex,1),entries.unshift(entry)),entry.value}return NOT_FOUND}return{get,put:function put(key,value){get(key)===NOT_FOUND&&(entries.unshift({key,value}),entries.length>maxSize&&entries.pop())},getEntries:function getEntries(){return entries},clear:function clear(){entries=[]}}}(maxSize,comparator);function memoized(){var value=cache.get(arguments);if(value===NOT_FOUND){if(value=func.apply(null,arguments),resultEqualityCheck){var matchingEntry=cache.getEntries().find((function(entry){return resultEqualityCheck(entry.value,value)}));matchingEntry&&(value=matchingEntry.value)}cache.put(arguments,value)}return value}return memoized.clearCache=function(){return cache.clear()},memoized}function createSelectorCreator(memoize){for(var _len=arguments.length,memoizeOptionsFromArgs=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)memoizeOptionsFromArgs[_key-1]=arguments[_key];return function createSelector(){for(var _len2=arguments.length,funcs=new Array(_len2),_key2=0;_key2<_len2;_key2++)funcs[_key2]=arguments[_key2];var _lastResult,_recomputations=0,directlyPassedOptions={memoizeOptions:void 0},resultFunc=funcs.pop();if("object"==typeof resultFunc&&(directlyPassedOptions=resultFunc,resultFunc=funcs.pop()),"function"!=typeof resultFunc)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof resultFunc+"]");var _directlyPassedOption2=directlyPassedOptions.memoizeOptions,memoizeOptions=void 0===_directlyPassedOption2?memoizeOptionsFromArgs:_directlyPassedOption2,finalMemoizeOptions=Array.isArray(memoizeOptions)?memoizeOptions:[memoizeOptions],dependencies=function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every((function(dep){return"function"==typeof dep}))){var dependencyTypes=dependencies.map((function(dep){return"function"==typeof dep?"function "+(dep.name||"unnamed")+"()":typeof dep})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+dependencyTypes+"]")}return dependencies}(funcs),memoizedResultFunc=memoize.apply(void 0,[function recomputationWrapper(){return _recomputations++,resultFunc.apply(null,arguments)}].concat(finalMemoizeOptions)),selector=memoize((function dependenciesChecker(){for(var params=[],length=dependencies.length,i=0;i<length;i++)params.push(dependencies[i].apply(null,arguments));return _lastResult=memoizedResultFunc.apply(null,params)}));return Object.assign(selector,{resultFunc,memoizedResultFunc,dependencies,lastResult:function lastResult(){return _lastResult},recomputations:function recomputations(){return _recomputations},resetRecomputations:function resetRecomputations(){return _recomputations=0}}),selector}}var createSelector=createSelectorCreator(defaultMemoize)},"./node_modules/style-to-object/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var parse=__webpack_require__("./node_modules/inline-style-parser/index.js");function StyleToObject(style,iterator){var declaration,output=null;if(!style||"string"!=typeof style)return output;for(var property,value,declarations=parse(style),hasIterator="function"==typeof iterator,i=0,len=declarations.length;i<len;i++)property=(declaration=declarations[i]).property,value=declaration.value,hasIterator?iterator(property,value,declaration):value&&(output||(output={}),output[property]=value);return output}module.exports=StyleToObject,module.exports.default=StyleToObject},"./node_modules/tv4/tv4.js":function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=function(){var hasOwnProperty,hasDontEnumBug,dontEnums,dontEnumsLength;Object.keys||(Object.keys=(hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnumsLength=(dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(obj){if("object"!=typeof obj&&"function"!=typeof obj||null===obj)throw new TypeError("Object.keys called on non-object");var result=[];for(var prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(var i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result})),Object.create||(Object.create=function(){function F(){}return function(o){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return F.prototype=o,new F}}()),Array.isArray||(Array.isArray=function(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){if(null===this)throw new TypeError;var t=Object(this),len=t.length>>>0;if(0===len)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1}),Object.isFrozen||(Object.isFrozen=function(obj){for(var key="tv4_test_frozen_key";obj.hasOwnProperty(key);)key+=Math.random();try{return obj[key]=!0,delete obj[key],!1}catch(e){return!0}});var uriTemplateGlobalModifiers={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},uriTemplateSuffices={"*":!0};function notReallyPercentEncode(string){return encodeURI(string).replace(/%25[0-9][0-9]/g,(function(doubleEncoded){return"%"+doubleEncoded.substring(3)}))}function uriTemplateSubstitution(spec){var modifier="";uriTemplateGlobalModifiers[spec.charAt(0)]&&(modifier=spec.charAt(0),spec=spec.substring(1));var separator="",prefix="",shouldEscape=!0,showVariables=!1,trimEmptyString=!1;"+"===modifier?shouldEscape=!1:"."===modifier?(prefix=".",separator="."):"/"===modifier?(prefix="/",separator="/"):"#"===modifier?(prefix="#",shouldEscape=!1):";"===modifier?(prefix=";",separator=";",showVariables=!0,trimEmptyString=!0):"?"===modifier?(prefix="?",separator="&",showVariables=!0):"&"===modifier&&(prefix="&",separator="&",showVariables=!0);for(var varNames=[],varList=spec.split(","),varSpecs=[],varSpecMap={},i=0;i<varList.length;i++){var varName=varList[i],truncate=null;if(-1!==varName.indexOf(":")){var parts=varName.split(":");varName=parts[0],truncate=parseInt(parts[1],10)}for(var suffices={};uriTemplateSuffices[varName.charAt(varName.length-1)];)suffices[varName.charAt(varName.length-1)]=!0,varName=varName.substring(0,varName.length-1);var varSpec={truncate,name:varName,suffices};varSpecs.push(varSpec),varSpecMap[varName]=varSpec,varNames.push(varName)}var subFunction=function(valueFunction){for(var result="",startIndex=0,i=0;i<varSpecs.length;i++){var varSpec=varSpecs[i],value=valueFunction(varSpec.name);if(null==value||Array.isArray(value)&&0===value.length||"object"==typeof value&&0===Object.keys(value).length)startIndex++;else if(result+=i===startIndex?prefix:separator||",",Array.isArray(value)){showVariables&&(result+=varSpec.name+"=");for(var j=0;j<value.length;j++)j>0&&(result+=varSpec.suffices["*"]&&separator||",",varSpec.suffices["*"]&&showVariables&&(result+=varSpec.name+"=")),result+=shouldEscape?encodeURIComponent(value[j]).replace(/!/g,"%21"):notReallyPercentEncode(value[j])}else if("object"==typeof value){showVariables&&!varSpec.suffices["*"]&&(result+=varSpec.name+"=");var first=!0;for(var key in value)first||(result+=varSpec.suffices["*"]&&separator||","),first=!1,result+=shouldEscape?encodeURIComponent(key).replace(/!/g,"%21"):notReallyPercentEncode(key),result+=varSpec.suffices["*"]?"=":",",result+=shouldEscape?encodeURIComponent(value[key]).replace(/!/g,"%21"):notReallyPercentEncode(value[key])}else showVariables&&(result+=varSpec.name,trimEmptyString&&""===value||(result+="=")),null!=varSpec.truncate&&(value=value.substring(0,varSpec.truncate)),result+=shouldEscape?encodeURIComponent(value).replace(/!/g,"%21"):notReallyPercentEncode(value)}return result};return subFunction.varNames=varNames,{prefix,substitution:subFunction}}function UriTemplate(template){if(!(this instanceof UriTemplate))return new UriTemplate(template);for(var parts=template.split("{"),textParts=[parts.shift()],prefixes=[],substitutions=[],varNames=[];parts.length>0;){var part=parts.shift(),spec=part.split("}")[0],remainder=part.substring(spec.length+1),funcs=uriTemplateSubstitution(spec);substitutions.push(funcs.substitution),prefixes.push(funcs.prefix),textParts.push(remainder),varNames=varNames.concat(funcs.substitution.varNames)}this.fill=function(valueFunction){for(var result=textParts[0],i=0;i<substitutions.length;i++)result+=(0,substitutions[i])(valueFunction),result+=textParts[i+1];return result},this.varNames=varNames,this.template=template}UriTemplate.prototype={toString:function(){return this.template},fillFromObject:function(obj){return this.fill((function(varName){return obj[varName]}))}};var ValidatorContext=function ValidatorContext(parent,collectMultiple,errorReporter,checkRecursive,trackUnknownProperties){if(this.missing=[],this.missingMap={},this.formatValidators=parent?Object.create(parent.formatValidators):{},this.schemas=parent?Object.create(parent.schemas):{},this.collectMultiple=collectMultiple,this.errors=[],this.handleError=collectMultiple?this.collectError:this.returnError,checkRecursive&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),trackUnknownProperties&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=errorReporter||defaultErrorReporter("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},parent)for(var key in parent.definedKeywords)this.definedKeywords[key]=parent.definedKeywords[key].slice(0)};function recursiveCompare(A,B){if(A===B)return!0;if(A&&B&&"object"==typeof A&&"object"==typeof B){if(Array.isArray(A)!==Array.isArray(B))return!1;if(Array.isArray(A)){if(A.length!==B.length)return!1;for(var i=0;i<A.length;i++)if(!recursiveCompare(A[i],B[i]))return!1}else{var key;for(key in A)if(void 0===B[key]&&void 0!==A[key])return!1;for(key in B)if(void 0===A[key]&&void 0!==B[key])return!1;for(key in A)if(!recursiveCompare(A[key],B[key]))return!1}return!0}return!1}ValidatorContext.prototype.defineKeyword=function(keyword,keywordFunction){this.definedKeywords[keyword]=this.definedKeywords[keyword]||[],this.definedKeywords[keyword].push(keywordFunction)},ValidatorContext.prototype.createError=function(code,messageParams,dataPath,schemaPath,subErrors,data,schema){var error=new ValidationError(code,messageParams,dataPath,schemaPath,subErrors);return error.message=this.errorReporter(error,data,schema),error},ValidatorContext.prototype.returnError=function(error){return error},ValidatorContext.prototype.collectError=function(error){return error&&this.errors.push(error),null},ValidatorContext.prototype.prefixErrors=function(startIndex,dataPath,schemaPath){for(var i=startIndex;i<this.errors.length;i++)this.errors[i]=this.errors[i].prefixWith(dataPath,schemaPath);return this},ValidatorContext.prototype.banUnknownProperties=function(data,schema){for(var unknownPath in this.unknownPropertyPaths){var error=this.createError(ErrorCodes.UNKNOWN_PROPERTY,{path:unknownPath},unknownPath,"",null,data,schema),result=this.handleError(error);if(result)return result}return null},ValidatorContext.prototype.addFormat=function(format,validator){if("object"==typeof format){for(var key in format)this.addFormat(key,format[key]);return this}this.formatValidators[format]=validator},ValidatorContext.prototype.resolveRefs=function(schema,urlHistory){if(void 0!==schema.$ref){if((urlHistory=urlHistory||{})[schema.$ref])return this.createError(ErrorCodes.CIRCULAR_REFERENCE,{urls:Object.keys(urlHistory).join(", ")},"","",null,void 0,schema);urlHistory[schema.$ref]=!0,schema=this.getSchema(schema.$ref,urlHistory)}return schema},ValidatorContext.prototype.getSchema=function(url,urlHistory){var schema;if(void 0!==this.schemas[url])return schema=this.schemas[url],this.resolveRefs(schema,urlHistory);var baseUrl=url,fragment="";if(-1!==url.indexOf("#")&&(fragment=url.substring(url.indexOf("#")+1),baseUrl=url.substring(0,url.indexOf("#"))),"object"==typeof this.schemas[baseUrl]){schema=this.schemas[baseUrl];var pointerPath=decodeURIComponent(fragment);if(""===pointerPath)return this.resolveRefs(schema,urlHistory);if("/"!==pointerPath.charAt(0))return;for(var parts=pointerPath.split("/").slice(1),i=0;i<parts.length;i++){var component=parts[i].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===schema[component]){schema=void 0;break}schema=schema[component]}if(void 0!==schema)return this.resolveRefs(schema,urlHistory)}void 0===this.missing[baseUrl]&&(this.missing.push(baseUrl),this.missing[baseUrl]=baseUrl,this.missingMap[baseUrl]=baseUrl)},ValidatorContext.prototype.searchSchemas=function(schema,url){if(Array.isArray(schema))for(var i=0;i<schema.length;i++)this.searchSchemas(schema[i],url);else if(schema&&"object"==typeof schema)for(var key in"string"==typeof schema.id&&isTrustedUrl(url,schema.id)&&void 0===this.schemas[schema.id]&&(this.schemas[schema.id]=schema),schema)if("enum"!==key)if("object"==typeof schema[key])this.searchSchemas(schema[key],url);else if("$ref"===key){var uri=getDocumentUri(schema[key]);uri&&void 0===this.schemas[uri]&&void 0===this.missingMap[uri]&&(this.missingMap[uri]=uri)}},ValidatorContext.prototype.addSchema=function(url,schema){if("string"!=typeof url||void 0===schema){if("object"!=typeof url||"string"!=typeof url.id)return;url=(schema=url).id}url===getDocumentUri(url)+"#"&&(url=getDocumentUri(url)),this.schemas[url]=schema,delete this.missingMap[url],normSchema(schema,url),this.searchSchemas(schema,url)},ValidatorContext.prototype.getSchemaMap=function(){var map={};for(var key in this.schemas)map[key]=this.schemas[key];return map},ValidatorContext.prototype.getSchemaUris=function(filterRegExp){var list=[];for(var key in this.schemas)filterRegExp&&!filterRegExp.test(key)||list.push(key);return list},ValidatorContext.prototype.getMissingUris=function(filterRegExp){var list=[];for(var key in this.missingMap)filterRegExp&&!filterRegExp.test(key)||list.push(key);return list},ValidatorContext.prototype.dropSchemas=function(){this.schemas={},this.reset()},ValidatorContext.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},ValidatorContext.prototype.validateAll=function(data,schema,dataPathParts,schemaPathParts,dataPointerPath){var topLevel;if(!(schema=this.resolveRefs(schema)))return null;if(schema instanceof ValidationError)return this.errors.push(schema),schema;var frozenIndex,startErrorCount=this.errors.length,scannedFrozenSchemaIndex=null,scannedSchemasIndex=null;if(this.checkRecursive&&data&&"object"==typeof data){if(topLevel=!this.scanned.length,data[this.validatedSchemasKey]){var schemaIndex=data[this.validatedSchemasKey].indexOf(schema);if(-1!==schemaIndex)return this.errors=this.errors.concat(data[this.validationErrorsKey][schemaIndex]),null}if(Object.isFrozen(data)&&-1!==(frozenIndex=this.scannedFrozen.indexOf(data))){var frozenSchemaIndex=this.scannedFrozenSchemas[frozenIndex].indexOf(schema);if(-1!==frozenSchemaIndex)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]),null}if(this.scanned.push(data),Object.isFrozen(data))-1===frozenIndex&&(frozenIndex=this.scannedFrozen.length,this.scannedFrozen.push(data),this.scannedFrozenSchemas.push([])),scannedFrozenSchemaIndex=this.scannedFrozenSchemas[frozenIndex].length,this.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex]=schema,this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex]=[];else{if(!data[this.validatedSchemasKey])try{Object.defineProperty(data,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(data,this.validationErrorsKey,{value:[],configurable:!0})}catch(e){data[this.validatedSchemasKey]=[],data[this.validationErrorsKey]=[]}scannedSchemasIndex=data[this.validatedSchemasKey].length,data[this.validatedSchemasKey][scannedSchemasIndex]=schema,data[this.validationErrorsKey][scannedSchemasIndex]=[]}}var errorCount=this.errors.length,error=this.validateBasic(data,schema,dataPointerPath)||this.validateNumeric(data,schema,dataPointerPath)||this.validateString(data,schema,dataPointerPath)||this.validateArray(data,schema,dataPointerPath)||this.validateObject(data,schema,dataPointerPath)||this.validateCombinations(data,schema,dataPointerPath)||this.validateHypermedia(data,schema,dataPointerPath)||this.validateFormat(data,schema,dataPointerPath)||this.validateDefinedKeywords(data,schema,dataPointerPath)||null;if(topLevel){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(error||errorCount!==this.errors.length)for(;dataPathParts&&dataPathParts.length||schemaPathParts&&schemaPathParts.length;){var dataPart=dataPathParts&&dataPathParts.length?""+dataPathParts.pop():null,schemaPart=schemaPathParts&&schemaPathParts.length?""+schemaPathParts.pop():null;error&&(error=error.prefixWith(dataPart,schemaPart)),this.prefixErrors(errorCount,dataPart,schemaPart)}return null!==scannedFrozenSchemaIndex?this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex]=this.errors.slice(startErrorCount):null!==scannedSchemasIndex&&(data[this.validationErrorsKey][scannedSchemasIndex]=this.errors.slice(startErrorCount)),this.handleError(error)},ValidatorContext.prototype.validateFormat=function(data,schema){if("string"!=typeof schema.format||!this.formatValidators[schema.format])return null;var errorMessage=this.formatValidators[schema.format].call(null,data,schema);return"string"==typeof errorMessage||"number"==typeof errorMessage?this.createError(ErrorCodes.FORMAT_CUSTOM,{message:errorMessage},"","/format",null,data,schema):errorMessage&&"object"==typeof errorMessage?this.createError(ErrorCodes.FORMAT_CUSTOM,{message:errorMessage.message||"?"},errorMessage.dataPath||"",errorMessage.schemaPath||"/format",null,data,schema):null},ValidatorContext.prototype.validateDefinedKeywords=function(data,schema,dataPointerPath){for(var key in this.definedKeywords)if(void 0!==schema[key])for(var validationFunctions=this.definedKeywords[key],i=0;i<validationFunctions.length;i++){var result=(0,validationFunctions[i])(data,schema[key],schema,dataPointerPath);if("string"==typeof result||"number"==typeof result)return this.createError(ErrorCodes.KEYWORD_CUSTOM,{key,message:result},"","",null,data,schema).prefixWith(null,key);if(result&&"object"==typeof result){var code=result.code;if("string"==typeof code){if(!ErrorCodes[code])throw new Error("Undefined error code (use defineError): "+code);code=ErrorCodes[code]}else"number"!=typeof code&&(code=ErrorCodes.KEYWORD_CUSTOM);var messageParams="object"==typeof result.message?result.message:{key,message:result.message||"?"},schemaPath=result.schemaPath||"/"+key.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(code,messageParams,result.dataPath||null,schemaPath,null,data,schema)}}return null},ValidatorContext.prototype.validateBasic=function validateBasic(data,schema,dataPointerPath){var error;return(error=this.validateType(data,schema,dataPointerPath))||(error=this.validateEnum(data,schema,dataPointerPath))?error.prefixWith(null,"type"):null},ValidatorContext.prototype.validateType=function validateType(data,schema){if(void 0===schema.type)return null;var dataType=typeof data;null===data?dataType="null":Array.isArray(data)&&(dataType="array");var allowedTypes=schema.type;Array.isArray(allowedTypes)||(allowedTypes=[allowedTypes]);for(var i=0;i<allowedTypes.length;i++){var type=allowedTypes[i];if(type===dataType||"integer"===type&&"number"===dataType&&data%1==0)return null}return this.createError(ErrorCodes.INVALID_TYPE,{type:dataType,expected:allowedTypes.join("/")},"","",null,data,schema)},ValidatorContext.prototype.validateEnum=function validateEnum(data,schema){if(void 0===schema.enum)return null;for(var i=0;i<schema.enum.length;i++)if(recursiveCompare(data,schema.enum[i]))return null;return this.createError(ErrorCodes.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(data):data},"","",null,data,schema)},ValidatorContext.prototype.validateNumeric=function validateNumeric(data,schema,dataPointerPath){return this.validateMultipleOf(data,schema,dataPointerPath)||this.validateMinMax(data,schema,dataPointerPath)||this.validateNaN(data,schema,dataPointerPath)||null};var CLOSE_ENOUGH_LOW=Math.pow(2,-51),CLOSE_ENOUGH_HIGH=1-CLOSE_ENOUGH_LOW;function parseURI(url){var m=String(url).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return m?{href:m[0]||"",protocol:m[1]||"",authority:m[2]||"",host:m[3]||"",hostname:m[4]||"",port:m[5]||"",pathname:m[6]||"",search:m[7]||"",hash:m[8]||""}:null}function resolveUrl(base,href){function removeDotSegments(input){var output=[];return input.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(p){"/.."===p?output.pop():output.push(p)})),output.join("").replace(/^\//,"/"===input.charAt(0)?"/":"")}return href=parseURI(href||""),base=parseURI(base||""),href&&base?(href.protocol||base.protocol)+(href.protocol||href.authority?href.authority:base.authority)+removeDotSegments(href.protocol||href.authority||"/"===href.pathname.charAt(0)?href.pathname:href.pathname?(base.authority&&!base.pathname?"/":"")+base.pathname.slice(0,base.pathname.lastIndexOf("/")+1)+href.pathname:base.pathname)+(href.protocol||href.authority||href.pathname?href.search:href.search||base.search)+href.hash:null}function getDocumentUri(uri){return uri.split("#")[0]}function normSchema(schema,baseUri){if(schema&&"object"==typeof schema)if(void 0===baseUri?baseUri=schema.id:"string"==typeof schema.id&&(baseUri=resolveUrl(baseUri,schema.id),schema.id=baseUri),Array.isArray(schema))for(var i=0;i<schema.length;i++)normSchema(schema[i],baseUri);else for(var key in"string"==typeof schema.$ref&&(schema.$ref=resolveUrl(baseUri,schema.$ref)),schema)"enum"!==key&&normSchema(schema[key],baseUri)}function defaultErrorReporter(language){var errorMessages=languages[language=language||"en"];return function(error){var messageTemplate=errorMessages[error.code]||ErrorMessagesDefault[error.code];if("string"!=typeof messageTemplate)return"Unknown error code "+error.code+": "+JSON.stringify(error.messageParams);var messageParams=error.params;return messageTemplate.replace(/\{([^{}]*)\}/g,(function(whole,varName){var subValue=messageParams[varName];return"string"==typeof subValue||"number"==typeof subValue?subValue:whole}))}}ValidatorContext.prototype.validateMultipleOf=function validateMultipleOf(data,schema){var multipleOf=schema.multipleOf||schema.divisibleBy;if(void 0===multipleOf)return null;if("number"==typeof data){var remainder=data/multipleOf%1;if(remainder>=CLOSE_ENOUGH_LOW&&remainder<CLOSE_ENOUGH_HIGH)return this.createError(ErrorCodes.NUMBER_MULTIPLE_OF,{value:data,multipleOf},"","",null,data,schema)}return null},ValidatorContext.prototype.validateMinMax=function validateMinMax(data,schema){if("number"!=typeof data)return null;if(void 0!==schema.minimum){if(data<schema.minimum)return this.createError(ErrorCodes.NUMBER_MINIMUM,{value:data,minimum:schema.minimum},"","/minimum",null,data,schema);if(schema.exclusiveMinimum&&data===schema.minimum)return this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE,{value:data,minimum:schema.minimum},"","/exclusiveMinimum",null,data,schema)}if(void 0!==schema.maximum){if(data>schema.maximum)return this.createError(ErrorCodes.NUMBER_MAXIMUM,{value:data,maximum:schema.maximum},"","/maximum",null,data,schema);if(schema.exclusiveMaximum&&data===schema.maximum)return this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE,{value:data,maximum:schema.maximum},"","/exclusiveMaximum",null,data,schema)}return null},ValidatorContext.prototype.validateNaN=function validateNaN(data,schema){return"number"!=typeof data?null:!0===isNaN(data)||data===1/0||data===-1/0?this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER,{value:data},"","/type",null,data,schema):null},ValidatorContext.prototype.validateString=function validateString(data,schema,dataPointerPath){return this.validateStringLength(data,schema,dataPointerPath)||this.validateStringPattern(data,schema,dataPointerPath)||null},ValidatorContext.prototype.validateStringLength=function validateStringLength(data,schema){return"string"!=typeof data?null:void 0!==schema.minLength&&data.length<schema.minLength?this.createError(ErrorCodes.STRING_LENGTH_SHORT,{length:data.length,minimum:schema.minLength},"","/minLength",null,data,schema):void 0!==schema.maxLength&&data.length>schema.maxLength?this.createError(ErrorCodes.STRING_LENGTH_LONG,{length:data.length,maximum:schema.maxLength},"","/maxLength",null,data,schema):null},ValidatorContext.prototype.validateStringPattern=function validateStringPattern(data,schema){if("string"!=typeof data||"string"!=typeof schema.pattern&&!(schema.pattern instanceof RegExp))return null;var regexp;if(schema.pattern instanceof RegExp)regexp=schema.pattern;else{var body,flags="",literal=schema.pattern.match(/^\/(.+)\/([img]*)$/);literal?(body=literal[1],flags=literal[2]):body=schema.pattern,regexp=new RegExp(body,flags)}return regexp.test(data)?null:this.createError(ErrorCodes.STRING_PATTERN,{pattern:schema.pattern},"","/pattern",null,data,schema)},ValidatorContext.prototype.validateArray=function validateArray(data,schema,dataPointerPath){return Array.isArray(data)&&(this.validateArrayLength(data,schema,dataPointerPath)||this.validateArrayUniqueItems(data,schema,dataPointerPath)||this.validateArrayItems(data,schema,dataPointerPath))||null},ValidatorContext.prototype.validateArrayLength=function validateArrayLength(data,schema){var error;return void 0!==schema.minItems&&data.length<schema.minItems&&(error=this.createError(ErrorCodes.ARRAY_LENGTH_SHORT,{length:data.length,minimum:schema.minItems},"","/minItems",null,data,schema),this.handleError(error))||void 0!==schema.maxItems&&data.length>schema.maxItems&&(error=this.createError(ErrorCodes.ARRAY_LENGTH_LONG,{length:data.length,maximum:schema.maxItems},"","/maxItems",null,data,schema),this.handleError(error))?error:null},ValidatorContext.prototype.validateArrayUniqueItems=function validateArrayUniqueItems(data,schema){if(schema.uniqueItems)for(var i=0;i<data.length;i++)for(var j=i+1;j<data.length;j++)if(recursiveCompare(data[i],data[j])){var error=this.createError(ErrorCodes.ARRAY_UNIQUE,{match1:i,match2:j},"","/uniqueItems",null,data,schema);if(this.handleError(error))return error}return null},ValidatorContext.prototype.validateArrayItems=function validateArrayItems(data,schema,dataPointerPath){if(void 0===schema.items)return null;var error,i;if(Array.isArray(schema.items)){for(i=0;i<data.length;i++)if(i<schema.items.length){if(error=this.validateAll(data[i],schema.items[i],[i],["items",i],dataPointerPath+"/"+i))return error}else if(void 0!==schema.additionalItems)if("boolean"==typeof schema.additionalItems){if(!schema.additionalItems&&(error=this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS,{},"/"+i,"/additionalItems",null,data,schema),this.handleError(error)))return error}else if(error=this.validateAll(data[i],schema.additionalItems,[i],["additionalItems"],dataPointerPath+"/"+i))return error}else for(i=0;i<data.length;i++)if(error=this.validateAll(data[i],schema.items,[i],["items"],dataPointerPath+"/"+i))return error;return null},ValidatorContext.prototype.validateObject=function validateObject(data,schema,dataPointerPath){return"object"!=typeof data||null===data||Array.isArray(data)?null:this.validateObjectMinMaxProperties(data,schema,dataPointerPath)||this.validateObjectRequiredProperties(data,schema,dataPointerPath)||this.validateObjectProperties(data,schema,dataPointerPath)||this.validateObjectDependencies(data,schema,dataPointerPath)||null},ValidatorContext.prototype.validateObjectMinMaxProperties=function validateObjectMinMaxProperties(data,schema){var error,keys=Object.keys(data);return void 0!==schema.minProperties&&keys.length<schema.minProperties&&(error=this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM,{propertyCount:keys.length,minimum:schema.minProperties},"","/minProperties",null,data,schema),this.handleError(error))||void 0!==schema.maxProperties&&keys.length>schema.maxProperties&&(error=this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:keys.length,maximum:schema.maxProperties},"","/maxProperties",null,data,schema),this.handleError(error))?error:null},ValidatorContext.prototype.validateObjectRequiredProperties=function validateObjectRequiredProperties(data,schema){if(void 0!==schema.required)for(var i=0;i<schema.required.length;i++){var key=schema.required[i];if(void 0===data[key]){var error=this.createError(ErrorCodes.OBJECT_REQUIRED,{key},"","/required/"+i,null,data,schema);if(this.handleError(error))return error}}return null},ValidatorContext.prototype.validateObjectProperties=function validateObjectProperties(data,schema,dataPointerPath){var error;for(var key in data){var keyPointerPath=dataPointerPath+"/"+key.replace(/~/g,"~0").replace(/\//g,"~1"),foundMatch=!1;if(void 0!==schema.properties&&void 0!==schema.properties[key]&&(foundMatch=!0,error=this.validateAll(data[key],schema.properties[key],[key],["properties",key],keyPointerPath)))return error;if(void 0!==schema.patternProperties)for(var patternKey in schema.patternProperties)if(new RegExp(patternKey).test(key)&&(foundMatch=!0,error=this.validateAll(data[key],schema.patternProperties[patternKey],[key],["patternProperties",patternKey],keyPointerPath)))return error;if(foundMatch)this.trackUnknownProperties&&(this.knownPropertyPaths[keyPointerPath]=!0,delete this.unknownPropertyPaths[keyPointerPath]);else if(void 0!==schema.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[keyPointerPath]=!0,delete this.unknownPropertyPaths[keyPointerPath]),"boolean"==typeof schema.additionalProperties){if(!schema.additionalProperties&&(error=this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES,{key},"","/additionalProperties",null,data,schema).prefixWith(key,null),this.handleError(error)))return error}else if(error=this.validateAll(data[key],schema.additionalProperties,[key],["additionalProperties"],keyPointerPath))return error}else this.trackUnknownProperties&&!this.knownPropertyPaths[keyPointerPath]&&(this.unknownPropertyPaths[keyPointerPath]=!0)}return null},ValidatorContext.prototype.validateObjectDependencies=function validateObjectDependencies(data,schema,dataPointerPath){var error;if(void 0!==schema.dependencies)for(var depKey in schema.dependencies)if(void 0!==data[depKey]){var dep=schema.dependencies[depKey];if("string"==typeof dep){if(void 0===data[dep]&&(error=this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY,{key:depKey,missing:dep},"","",null,data,schema).prefixWith(null,depKey).prefixWith(null,"dependencies"),this.handleError(error)))return error}else if(Array.isArray(dep))for(var i=0;i<dep.length;i++){var requiredKey=dep[i];if(void 0===data[requiredKey]&&(error=this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY,{key:depKey,missing:requiredKey},"","/"+i,null,data,schema).prefixWith(null,depKey).prefixWith(null,"dependencies"),this.handleError(error)))return error}else if(error=this.validateAll(data,dep,[],["dependencies",depKey],dataPointerPath))return error}return null},ValidatorContext.prototype.validateCombinations=function validateCombinations(data,schema,dataPointerPath){return this.validateAllOf(data,schema,dataPointerPath)||this.validateAnyOf(data,schema,dataPointerPath)||this.validateOneOf(data,schema,dataPointerPath)||this.validateNot(data,schema,dataPointerPath)||null},ValidatorContext.prototype.validateAllOf=function validateAllOf(data,schema,dataPointerPath){if(void 0===schema.allOf)return null;for(var error,i=0;i<schema.allOf.length;i++){var subSchema=schema.allOf[i];if(error=this.validateAll(data,subSchema,[],["allOf",i],dataPointerPath))return error}return null},ValidatorContext.prototype.validateAnyOf=function validateAnyOf(data,schema,dataPointerPath){if(void 0===schema.anyOf)return null;var oldUnknownPropertyPaths,oldKnownPropertyPaths,errors=[],startErrorCount=this.errors.length;this.trackUnknownProperties&&(oldUnknownPropertyPaths=this.unknownPropertyPaths,oldKnownPropertyPaths=this.knownPropertyPaths);for(var errorAtEnd=!0,i=0;i<schema.anyOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var subSchema=schema.anyOf[i],errorCount=this.errors.length,error=this.validateAll(data,subSchema,[],["anyOf",i],dataPointerPath);if(null===error&&errorCount===this.errors.length){if(this.errors=this.errors.slice(0,startErrorCount),this.trackUnknownProperties){for(var knownKey in this.knownPropertyPaths)oldKnownPropertyPaths[knownKey]=!0,delete oldUnknownPropertyPaths[knownKey];for(var unknownKey in this.unknownPropertyPaths)oldKnownPropertyPaths[unknownKey]||(oldUnknownPropertyPaths[unknownKey]=!0);errorAtEnd=!1;continue}return null}error&&errors.push(error.prefixWith(null,""+i).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=oldUnknownPropertyPaths,this.knownPropertyPaths=oldKnownPropertyPaths),errorAtEnd?(errors=errors.concat(this.errors.slice(startErrorCount)),this.errors=this.errors.slice(0,startErrorCount),this.createError(ErrorCodes.ANY_OF_MISSING,{},"","/anyOf",errors,data,schema)):void 0},ValidatorContext.prototype.validateOneOf=function validateOneOf(data,schema,dataPointerPath){if(void 0===schema.oneOf)return null;var oldUnknownPropertyPaths,oldKnownPropertyPaths,validIndex=null,errors=[],startErrorCount=this.errors.length;this.trackUnknownProperties&&(oldUnknownPropertyPaths=this.unknownPropertyPaths,oldKnownPropertyPaths=this.knownPropertyPaths);for(var i=0;i<schema.oneOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var subSchema=schema.oneOf[i],errorCount=this.errors.length,error=this.validateAll(data,subSchema,[],["oneOf",i],dataPointerPath);if(null===error&&errorCount===this.errors.length){if(null!==validIndex)return this.errors=this.errors.slice(0,startErrorCount),this.createError(ErrorCodes.ONE_OF_MULTIPLE,{index1:validIndex,index2:i},"","/oneOf",null,data,schema);if(validIndex=i,this.trackUnknownProperties){for(var knownKey in this.knownPropertyPaths)oldKnownPropertyPaths[knownKey]=!0,delete oldUnknownPropertyPaths[knownKey];for(var unknownKey in this.unknownPropertyPaths)oldKnownPropertyPaths[unknownKey]||(oldUnknownPropertyPaths[unknownKey]=!0)}}else error&&errors.push(error)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=oldUnknownPropertyPaths,this.knownPropertyPaths=oldKnownPropertyPaths),null===validIndex?(errors=errors.concat(this.errors.slice(startErrorCount)),this.errors=this.errors.slice(0,startErrorCount),this.createError(ErrorCodes.ONE_OF_MISSING,{},"","/oneOf",errors,data,schema)):(this.errors=this.errors.slice(0,startErrorCount),null)},ValidatorContext.prototype.validateNot=function validateNot(data,schema,dataPointerPath){if(void 0===schema.not)return null;var oldUnknownPropertyPaths,oldKnownPropertyPaths,oldErrorCount=this.errors.length;this.trackUnknownProperties&&(oldUnknownPropertyPaths=this.unknownPropertyPaths,oldKnownPropertyPaths=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var error=this.validateAll(data,schema.not,null,null,dataPointerPath),notErrors=this.errors.slice(oldErrorCount);return this.errors=this.errors.slice(0,oldErrorCount),this.trackUnknownProperties&&(this.unknownPropertyPaths=oldUnknownPropertyPaths,this.knownPropertyPaths=oldKnownPropertyPaths),null===error&&0===notErrors.length?this.createError(ErrorCodes.NOT_PASSED,{},"","/not",null,data,schema):null},ValidatorContext.prototype.validateHypermedia=function validateCombinations(data,schema,dataPointerPath){if(!schema.links)return null;for(var error,i=0;i<schema.links.length;i++){var ldo=schema.links[i];if("describedby"===ldo.rel){for(var template=new UriTemplate(ldo.href),allPresent=!0,j=0;j<template.varNames.length;j++)if(!(template.varNames[j]in data)){allPresent=!1;break}if(allPresent){var subSchema={$ref:template.fillFromObject(data)};if(error=this.validateAll(data,subSchema,[],["links",i],dataPointerPath))return error}}}};var ErrorCodes={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},ErrorCodeLookup={};for(var key in ErrorCodes)ErrorCodeLookup[ErrorCodes[key]]=key;var ErrorMessagesDefault={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function ValidationError(code,params,dataPath,schemaPath,subErrors){if(Error.call(this),void 0===code)throw new Error("No error code supplied: "+schemaPath);this.message="",this.params=params,this.code=code,this.dataPath=dataPath||"",this.schemaPath=schemaPath||"",this.subErrors=subErrors||null;var err=new Error(this.message);if(this.stack=err.stack||err.stacktrace,!this.stack)try{throw err}catch(err){this.stack=err.stack||err.stacktrace}}function isTrustedUrl(baseUrl,testUrl){if(testUrl.substring(0,baseUrl.length)===baseUrl){var remainder=testUrl.substring(baseUrl.length);if(testUrl.length>0&&"/"===testUrl.charAt(baseUrl.length-1)||"#"===remainder.charAt(0)||"?"===remainder.charAt(0))return!0}return!1}ValidationError.prototype=Object.create(Error.prototype),ValidationError.prototype.constructor=ValidationError,ValidationError.prototype.name="ValidationError",ValidationError.prototype.prefixWith=function(dataPrefix,schemaPrefix){if(null!==dataPrefix&&(dataPrefix=dataPrefix.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+dataPrefix+this.dataPath),null!==schemaPrefix&&(schemaPrefix=schemaPrefix.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+schemaPrefix+this.schemaPath),null!==this.subErrors)for(var i=0;i<this.subErrors.length;i++)this.subErrors[i].prefixWith(dataPrefix,schemaPrefix);return this};var languages={};function createApi(language){var currentLanguage,customErrorReporter,globalContext=new ValidatorContext,api={setErrorReporter:function(reporter){return"string"==typeof reporter?this.language(reporter):(customErrorReporter=reporter,!0)},addFormat:function(){globalContext.addFormat.apply(globalContext,arguments)},language:function(code){return code?(languages[code]||(code=code.split("-")[0]),!!languages[code]&&(currentLanguage=code,code)):currentLanguage},addLanguage:function(code,messageMap){var key;for(key in ErrorCodes)messageMap[key]&&!messageMap[ErrorCodes[key]]&&(messageMap[ErrorCodes[key]]=messageMap[key]);var rootCode=code.split("-")[0];if(languages[rootCode])for(key in languages[code]=Object.create(languages[rootCode]),messageMap)void 0===languages[rootCode][key]&&(languages[rootCode][key]=messageMap[key]),languages[code][key]=messageMap[key];else languages[code]=messageMap,languages[rootCode]=messageMap;return this},freshApi:function(language){var result=createApi();return language&&result.language(language),result},validate:function(data,schema,checkRecursive,banUnknownProperties){var def=defaultErrorReporter(currentLanguage),errorReporter=customErrorReporter?function(error,data,schema){return customErrorReporter(error,data,schema)||def(error,data,schema)}:def,context=new ValidatorContext(globalContext,!1,errorReporter,checkRecursive,banUnknownProperties);"string"==typeof schema&&(schema={$ref:schema}),context.addSchema("",schema);var error=context.validateAll(data,schema,null,null,"");return!error&&banUnknownProperties&&(error=context.banUnknownProperties(data,schema)),this.error=error,this.missing=context.missing,this.valid=null===error,this.valid},validateResult:function(){var result={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(result,arguments),result},validateMultiple:function(data,schema,checkRecursive,banUnknownProperties){var def=defaultErrorReporter(currentLanguage),errorReporter=customErrorReporter?function(error,data,schema){return customErrorReporter(error,data,schema)||def(error,data,schema)}:def,context=new ValidatorContext(globalContext,!0,errorReporter,checkRecursive,banUnknownProperties);"string"==typeof schema&&(schema={$ref:schema}),context.addSchema("",schema),context.validateAll(data,schema,null,null,""),banUnknownProperties&&context.banUnknownProperties(data,schema);var result={toString:function(){return this.valid?"valid":this.error.message}};return result.errors=context.errors,result.missing=context.missing,result.valid=0===result.errors.length,result},addSchema:function(){return globalContext.addSchema.apply(globalContext,arguments)},getSchema:function(){return globalContext.getSchema.apply(globalContext,arguments)},getSchemaMap:function(){return globalContext.getSchemaMap.apply(globalContext,arguments)},getSchemaUris:function(){return globalContext.getSchemaUris.apply(globalContext,arguments)},getMissingUris:function(){return globalContext.getMissingUris.apply(globalContext,arguments)},dropSchemas:function(){globalContext.dropSchemas.apply(globalContext,arguments)},defineKeyword:function(){globalContext.defineKeyword.apply(globalContext,arguments)},defineError:function(codeName,codeNumber,defaultMessage){if("string"!=typeof codeName||!/^[A-Z]+(_[A-Z]+)*$/.test(codeName))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof codeNumber||codeNumber%1!=0||codeNumber<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==ErrorCodes[codeName])throw new Error("Error already defined: "+codeName+" as "+ErrorCodes[codeName]);if(void 0!==ErrorCodeLookup[codeNumber])throw new Error("Error code already used: "+ErrorCodeLookup[codeNumber]+" as "+codeNumber);for(var langCode in ErrorCodes[codeName]=codeNumber,ErrorCodeLookup[codeNumber]=codeName,ErrorMessagesDefault[codeName]=ErrorMessagesDefault[codeNumber]=defaultMessage,languages){var language=languages[langCode];language[codeName]&&(language[codeNumber]=language[codeNumber]||language[codeName])}},reset:function(){globalContext.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema,resolveUrl,getDocumentUri,errorCodes:ErrorCodes};return api.language(language||"en"),api}var tv4=createApi();return tv4.addLanguage("en-gb",ErrorMessagesDefault),tv4.tv4=tv4,tv4},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./node_modules/react-markdown/lib/react-markdown.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>ReactMarkdown});var constructs_namespaceObject={};__webpack_require__.r(constructs_namespaceObject),__webpack_require__.d(constructs_namespaceObject,{attentionMarkers:()=>attentionMarkers,contentInitial:()=>contentInitial,disable:()=>disable,document:()=>constructs_document,flow:()=>constructs_flow,flowInitial:()=>flowInitial,insideSpan:()=>insideSpan,string:()=>constructs_string,text:()=>constructs_text});var types_namespaceObject={};__webpack_require__.r(types_namespaceObject),__webpack_require__.d(types_namespaceObject,{boolean:()=>types_boolean,booleanish:()=>booleanish,commaOrSpaceSeparated:()=>commaOrSpaceSeparated,commaSeparated:()=>commaSeparated,number:()=>number,overloadedBoolean:()=>overloadedBoolean,spaceSeparated:()=>spaceSeparated});var react=__webpack_require__("./node_modules/react/index.js"),is_buffer=__webpack_require__("./node_modules/is-buffer/index.js");function stringifyPosition(value){return value&&"object"==typeof value?"position"in value||"type"in value?position(value.position):"start"in value||"end"in value?position(value):"line"in value||"column"in value?point(value):"":""}function point(point){return index(point&&point.line)+":"+index(point&&point.column)}function position(pos){return point(pos&&pos.start)+"-"+point(pos&&pos.end)}function index(value){return value&&"number"==typeof value?value:1}class VFileMessage extends Error{constructor(reason,place,origin){const parts=[null,null];let position={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"==typeof place&&(origin=place,place=void 0),"string"==typeof origin){const index=origin.indexOf(":");-1===index?parts[1]=origin:(parts[0]=origin.slice(0,index),parts[1]=origin.slice(index+1))}place&&("type"in place||"position"in place?place.position&&(position=place.position):"start"in place||"end"in place?position=place:("line"in place||"column"in place)&&(position.start=place)),this.name=stringifyPosition(place)||"1:1",this.message="object"==typeof reason?reason.message:reason,this.stack="","object"==typeof reason&&reason.stack&&(this.stack=reason.stack),this.reason=this.message,this.fatal,this.line=position.start.line,this.column=position.start.column,this.position=position,this.source=parts[0],this.ruleId=parts[1],this.file,this.actual,this.expected,this.url,this.note}}VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.fatal=null,VFileMessage.prototype.column=null,VFileMessage.prototype.line=null,VFileMessage.prototype.source=null,VFileMessage.prototype.ruleId=null,VFileMessage.prototype.position=null;const path={basename:function basename(path,ext){if(void 0!==ext&&"string"!=typeof ext)throw new TypeError('"ext" argument must be a string');assertPath(path);let seenNonSlash,start=0,end=-1,index=path.length;if(void 0===ext||0===ext.length||ext.length>path.length){for(;index--;)if(47===path.charCodeAt(index)){if(seenNonSlash){start=index+1;break}}else end<0&&(seenNonSlash=!0,end=index+1);return end<0?"":path.slice(start,end)}if(ext===path)return"";let firstNonSlashEnd=-1,extIndex=ext.length-1;for(;index--;)if(47===path.charCodeAt(index)){if(seenNonSlash){start=index+1;break}}else firstNonSlashEnd<0&&(seenNonSlash=!0,firstNonSlashEnd=index+1),extIndex>-1&&(path.charCodeAt(index)===ext.charCodeAt(extIndex--)?extIndex<0&&(end=index):(extIndex=-1,end=firstNonSlashEnd));start===end?end=firstNonSlashEnd:end<0&&(end=path.length);return path.slice(start,end)},dirname:function dirname(path){if(assertPath(path),0===path.length)return".";let unmatchedSlash,end=-1,index=path.length;for(;--index;)if(47===path.charCodeAt(index)){if(unmatchedSlash){end=index;break}}else unmatchedSlash||(unmatchedSlash=!0);return end<0?47===path.charCodeAt(0)?"/":".":1===end&&47===path.charCodeAt(0)?"//":path.slice(0,end)},extname:function extname(path){assertPath(path);let unmatchedSlash,index=path.length,end=-1,startPart=0,startDot=-1,preDotState=0;for(;index--;){const code=path.charCodeAt(index);if(47!==code)end<0&&(unmatchedSlash=!0,end=index+1),46===code?startDot<0?startDot=index:1!==preDotState&&(preDotState=1):startDot>-1&&(preDotState=-1);else if(unmatchedSlash){startPart=index+1;break}}if(startDot<0||end<0||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1)return"";return path.slice(startDot,end)},join:function join(...segments){let joined,index=-1;for(;++index<segments.length;)assertPath(segments[index]),segments[index]&&(joined=void 0===joined?segments[index]:joined+"/"+segments[index]);return void 0===joined?".":function normalize(path){assertPath(path);const absolute=47===path.charCodeAt(0);let value=function normalizeString(path,allowAboveRoot){let code,lastSlashIndex,result="",lastSegmentLength=0,lastSlash=-1,dots=0,index=-1;for(;++index<=path.length;){if(index<path.length)code=path.charCodeAt(index);else{if(47===code)break;code=47}if(47===code){if(lastSlash===index-1||1===dots);else if(lastSlash!==index-1&&2===dots){if(result.length<2||2!==lastSegmentLength||46!==result.charCodeAt(result.length-1)||46!==result.charCodeAt(result.length-2))if(result.length>2){if(lastSlashIndex=result.lastIndexOf("/"),lastSlashIndex!==result.length-1){lastSlashIndex<0?(result="",lastSegmentLength=0):(result=result.slice(0,lastSlashIndex),lastSegmentLength=result.length-1-result.lastIndexOf("/")),lastSlash=index,dots=0;continue}}else if(result.length>0){result="",lastSegmentLength=0,lastSlash=index,dots=0;continue}allowAboveRoot&&(result=result.length>0?result+"/..":"..",lastSegmentLength=2)}else result.length>0?result+="/"+path.slice(lastSlash+1,index):result=path.slice(lastSlash+1,index),lastSegmentLength=index-lastSlash-1;lastSlash=index,dots=0}else 46===code&&dots>-1?dots++:dots=-1}return result}(path,!absolute);0!==value.length||absolute||(value=".");value.length>0&&47===path.charCodeAt(path.length-1)&&(value+="/");return absolute?"/"+value:value}(joined)},sep:"/"};function assertPath(path){if("string"!=typeof path)throw new TypeError("Path must be a string. Received "+JSON.stringify(path))}const proc={cwd:function cwd(){return"/"}};function isUrl(fileUrlOrPath){return null!==fileUrlOrPath&&"object"==typeof fileUrlOrPath&&fileUrlOrPath.href&&fileUrlOrPath.origin}function urlToPath(path){if("string"==typeof path)path=new URL(path);else if(!isUrl(path)){const error=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+path+"`");throw error.code="ERR_INVALID_ARG_TYPE",error}if("file:"!==path.protocol){const error=new TypeError("The URL must be of scheme file");throw error.code="ERR_INVALID_URL_SCHEME",error}return function getPathFromURLPosix(url){if(""!==url.hostname){const error=new TypeError('File URL host must be "localhost" or empty on darwin');throw error.code="ERR_INVALID_FILE_URL_HOST",error}const pathname=url.pathname;let index=-1;for(;++index<pathname.length;)if(37===pathname.charCodeAt(index)&&50===pathname.charCodeAt(index+1)){const third=pathname.charCodeAt(index+2);if(70===third||102===third){const error=new TypeError("File URL path must not include encoded / characters");throw error.code="ERR_INVALID_FILE_URL_PATH",error}}return decodeURIComponent(pathname)}(path)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(value){let options;options=value?"string"==typeof value||function buffer(value){return is_buffer(value)}(value)?{value}:isUrl(value)?{path:value}:value:{},this.data={},this.messages=[],this.history=[],this.cwd=proc.cwd(),this.value,this.stored,this.result,this.map;let prop,index=-1;for(;++index<order.length;){const prop=order[index];prop in options&&void 0!==options[prop]&&null!==options[prop]&&(this[prop]="history"===prop?[...options[prop]]:options[prop])}for(prop in options)order.includes(prop)||(this[prop]=options[prop])}get path(){return this.history[this.history.length-1]}set path(path){isUrl(path)&&(path=urlToPath(path)),assertNonEmpty(path,"path"),this.path!==path&&this.history.push(path)}get dirname(){return"string"==typeof this.path?path.dirname(this.path):void 0}set dirname(dirname){lib_assertPath(this.basename,"dirname"),this.path=path.join(dirname||"",this.basename)}get basename(){return"string"==typeof this.path?path.basename(this.path):void 0}set basename(basename){assertNonEmpty(basename,"basename"),assertPart(basename,"basename"),this.path=path.join(this.dirname||"",basename)}get extname(){return"string"==typeof this.path?path.extname(this.path):void 0}set extname(extname){if(assertPart(extname,"extname"),lib_assertPath(this.dirname,"extname"),extname){if(46!==extname.charCodeAt(0))throw new Error("`extname` must start with `.`");if(extname.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=path.join(this.dirname,this.stem+(extname||""))}get stem(){return"string"==typeof this.path?path.basename(this.path,this.extname):void 0}set stem(stem){assertNonEmpty(stem,"stem"),assertPart(stem,"stem"),this.path=path.join(this.dirname||"",stem+(this.extname||""))}toString(encoding){return(this.value||"").toString(encoding||void 0)}message(reason,place,origin){const message=new VFileMessage(reason,place,origin);return this.path&&(message.name=this.path+":"+message.name,message.file=this.path),message.fatal=!1,this.messages.push(message),message}info(reason,place,origin){const message=this.message(reason,place,origin);return message.fatal=null,message}fail(reason,place,origin){const message=this.message(reason,place,origin);throw message.fatal=!0,message}}function assertPart(part,name){if(part&&part.includes(path.sep))throw new Error("`"+name+"` cannot be a path: did not expect `"+path.sep+"`")}function assertNonEmpty(part,name){if(!part)throw new Error("`"+name+"` cannot be empty")}function lib_assertPath(path,name){if(!path)throw new Error("Setting `"+name+"` requires `path` to be set too")}function bail(error){if(error)throw error}var extend=__webpack_require__("./node_modules/extend/index.js");function isPlainObject(value){if("object"!=typeof value||null===value)return!1;const prototype=Object.getPrototypeOf(value);return!(null!==prototype&&prototype!==Object.prototype&&null!==Object.getPrototypeOf(prototype)||Symbol.toStringTag in value||Symbol.iterator in value)}function trough(){const fns=[],pipeline={run:function run(...values){let middlewareIndex=-1;const callback=values.pop();if("function"!=typeof callback)throw new TypeError("Expected function as last argument, not "+callback);!function next(error,...output){const fn=fns[++middlewareIndex];let index=-1;if(error)callback(error);else{for(;++index<values.length;)null!==output[index]&&void 0!==output[index]||(output[index]=values[index]);values=output,fn?function wrap(middleware,callback){let called;return wrapped;function wrapped(...parameters){const fnExpectsCallback=middleware.length>parameters.length;let result;fnExpectsCallback&&parameters.push(done);try{result=middleware.apply(this,parameters)}catch(error){if(fnExpectsCallback&&called)throw error;return done(error)}fnExpectsCallback||(result instanceof Promise?result.then(then,done):result instanceof Error?done(result):then(result))}function done(error,...output){called||(called=!0,callback(error,...output))}function then(value){done(null,value)}}(fn,next)(...output):callback(null,...output)}}(null,...values)},use:function use(middelware){if("function"!=typeof middelware)throw new TypeError("Expected `middelware` to be a function, not "+middelware);return fns.push(middelware),pipeline}};return pipeline}const unified=function base(){const transformers=trough(),attachers=[];let frozen,namespace={},freezeIndex=-1;return processor.data=function data(key,value){if("string"==typeof key)return 2===arguments.length?(assertUnfrozen("data",frozen),namespace[key]=value,processor):own.call(namespace,key)&&namespace[key]||null;if(key)return assertUnfrozen("data",frozen),namespace=key,processor;return namespace},processor.Parser=void 0,processor.Compiler=void 0,processor.freeze=function freeze(){if(frozen)return processor;for(;++freezeIndex<attachers.length;){const[attacher,...options]=attachers[freezeIndex];if(!1===options[0])continue;!0===options[0]&&(options[0]=void 0);const transformer=attacher.call(processor,...options);"function"==typeof transformer&&transformers.use(transformer)}return frozen=!0,freezeIndex=Number.POSITIVE_INFINITY,processor},processor.attachers=attachers,processor.use=function use(value,...options){let settings;if(assertUnfrozen("use",frozen),null==value);else if("function"==typeof value)addPlugin(value,...options);else{if("object"!=typeof value)throw new TypeError("Expected usable value, not `"+value+"`");Array.isArray(value)?addList(value):addPreset(value)}settings&&(namespace.settings=Object.assign(namespace.settings||{},settings));return processor;function add(value){if("function"==typeof value)addPlugin(value);else{if("object"!=typeof value)throw new TypeError("Expected usable value, not `"+value+"`");if(Array.isArray(value)){const[plugin,...options]=value;addPlugin(plugin,...options)}else addPreset(value)}}function addPreset(result){addList(result.plugins),result.settings&&(settings=Object.assign(settings||{},result.settings))}function addList(plugins){let index=-1;if(null==plugins);else{if(!Array.isArray(plugins))throw new TypeError("Expected a list of plugins, not `"+plugins+"`");for(;++index<plugins.length;){add(plugins[index])}}}function addPlugin(plugin,value){let entry,index=-1;for(;++index<attachers.length;)if(attachers[index][0]===plugin){entry=attachers[index];break}entry?(isPlainObject(entry[1])&&isPlainObject(value)&&(value=extend(!0,entry[1],value)),entry[1]=value):attachers.push([...arguments])}},processor.parse=function parse(doc){processor.freeze();const file=vfile(doc),Parser=processor.Parser;if(assertParser("parse",Parser),newable(Parser,"parse"))return new Parser(String(file),file).parse();return Parser(String(file),file)},processor.stringify=function stringify(node,doc){processor.freeze();const file=vfile(doc),Compiler=processor.Compiler;if(assertCompiler("stringify",Compiler),assertNode(node),newable(Compiler,"compile"))return new Compiler(node,file).compile();return Compiler(node,file)},processor.run=function run(node,doc,callback){assertNode(node),processor.freeze(),callback||"function"!=typeof doc||(callback=doc,doc=void 0);if(!callback)return new Promise(executor);function executor(resolve,reject){function done(error,tree,file){tree=tree||node,error?reject(error):resolve?resolve(tree):callback(null,tree,file)}transformers.run(node,vfile(doc),done)}executor(null,callback)},processor.runSync=function runSync(node,file){let result,complete;return processor.run(node,file,done),assertDone("runSync","run",complete),result;function done(error,tree){bail(error),result=tree,complete=!0}},processor.process=function process(doc,callback){if(processor.freeze(),assertParser("process",processor.Parser),assertCompiler("process",processor.Compiler),!callback)return new Promise(executor);function executor(resolve,reject){const file=vfile(doc);function done(error,file){error||!file?reject(error):resolve?resolve(file):callback(null,file)}processor.run(processor.parse(file),file,((error,tree,file)=>{if(!error&&tree&&file){const result=processor.stringify(tree,file);null==result||(!function looksLikeAVFileValue(value){return"string"==typeof value||is_buffer(value)}(result)?file.result=result:file.value=result),done(error,file)}else done(error)}))}executor(null,callback)},processor.processSync=function processSync(doc){let complete;processor.freeze(),assertParser("processSync",processor.Parser),assertCompiler("processSync",processor.Compiler);const file=vfile(doc);return processor.process(file,done),assertDone("processSync","process",complete),file;function done(error){complete=!0,bail(error)}},processor;function processor(){const destination=base();let index=-1;for(;++index<attachers.length;)destination.use(...attachers[index]);return destination.data(extend(!0,{},namespace)),destination}}().freeze(),own={}.hasOwnProperty;function newable(value,name){return"function"==typeof value&&value.prototype&&(function keys(value){let key;for(key in value)if(own.call(value,key))return!0;return!1}(value.prototype)||name in value.prototype)}function assertParser(name,value){if("function"!=typeof value)throw new TypeError("Cannot `"+name+"` without `Parser`")}function assertCompiler(name,value){if("function"!=typeof value)throw new TypeError("Cannot `"+name+"` without `Compiler`")}function assertUnfrozen(name,frozen){if(frozen)throw new Error("Cannot call `"+name+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(node){if(!isPlainObject(node)||"string"!=typeof node.type)throw new TypeError("Expected node, got `"+node+"`")}function assertDone(name,asyncName,complete){if(!complete)throw new Error("`"+name+"` finished async. Use `"+asyncName+"` instead")}function vfile(value){return function looksLikeAVFile(value){return Boolean(value&&"object"==typeof value&&"message"in value&&"messages"in value)}(value)?value:new VFile(value)}const emptyOptions={};function one(value,includeImageAlt,includeHtml){if(function node(value){return Boolean(value&&"object"==typeof value)}(value)){if("value"in value)return"html"!==value.type||includeHtml?value.value:"";if(includeImageAlt&&"alt"in value&&value.alt)return value.alt;if("children"in value)return lib_all(value.children,includeImageAlt,includeHtml)}return Array.isArray(value)?lib_all(value,includeImageAlt,includeHtml):""}function lib_all(values,includeImageAlt,includeHtml){const result=[];let index=-1;for(;++index<values.length;)result[index]=one(values[index],includeImageAlt,includeHtml);return result.join("")}function splice(list,start,remove,items){const end=list.length;let parameters,chunkStart=0;if(start=start<0?-start>end?0:end+start:start>end?end:start,remove=remove>0?remove:0,items.length<1e4)parameters=Array.from(items),parameters.unshift(start,remove),list.splice(...parameters);else for(remove&&list.splice(start,remove);chunkStart<items.length;)parameters=items.slice(chunkStart,chunkStart+1e4),parameters.unshift(start,0),list.splice(...parameters),chunkStart+=1e4,start+=1e4}function push(list,items){return list.length>0?(splice(list,list.length,0,items),list):items}const micromark_util_combine_extensions_hasOwnProperty={}.hasOwnProperty;function syntaxExtension(all,extension){let hook;for(hook in extension){const left=(micromark_util_combine_extensions_hasOwnProperty.call(all,hook)?all[hook]:void 0)||(all[hook]={}),right=extension[hook];let code;if(right)for(code in right){micromark_util_combine_extensions_hasOwnProperty.call(left,code)||(left[code]=[]);const value=right[code];constructs(left[code],Array.isArray(value)?value:value?[value]:[])}}}function constructs(existing,list){let index=-1;const before=[];for(;++index<list.length;)("after"===list[index].add?existing:before).push(list[index]);splice(existing,0,0,before)}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(code){return null!==code&&(code<32||127===code)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding(code){return null!==code&&code<-2}function markdownLineEndingOrSpace(code){return null!==code&&(code<0||32===code)}function markdownSpace(code){return-2===code||-1===code||32===code}const unicodePunctuation=regexCheck(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),unicodeWhitespace=regexCheck(/\s/);function regexCheck(regex){return function check(code){return null!==code&&regex.test(String.fromCharCode(code))}}function factorySpace(effects,ok,type,max){const limit=max?max-1:Number.POSITIVE_INFINITY;let size=0;return function start(code){if(markdownSpace(code))return effects.enter(type),prefix(code);return ok(code)};function prefix(code){return markdownSpace(code)&&size++<limit?(effects.consume(code),prefix):(effects.exit(type),ok(code))}}const content={tokenize:function initializeContent(effects){const contentStart=effects.attempt(this.parser.constructs.contentInitial,(function afterContentStartConstruct(code){if(null===code)return void effects.consume(code);return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,contentStart,"linePrefix")}),(function paragraphInitial(code){return effects.enter("paragraph"),lineStart(code)}));let previous;return contentStart;function lineStart(code){const token=effects.enter("chunkText",{contentType:"text",previous});return previous&&(previous.next=token),previous=token,data(code)}function data(code){return null===code?(effects.exit("chunkText"),effects.exit("paragraph"),void effects.consume(code)):markdownLineEnding(code)?(effects.consume(code),effects.exit("chunkText"),lineStart):(effects.consume(code),data)}}};const document_document={tokenize:function initializeDocument(effects){const self=this,stack=[];let childFlow,childToken,lineStartOffset,continued=0;return start;function start(code){if(continued<stack.length){const item=stack[continued];return self.containerState=item[1],effects.attempt(item[0].continuation,documentContinue,checkNewContainers)(code)}return checkNewContainers(code)}function documentContinue(code){if(continued++,self.containerState._closeFlow){self.containerState._closeFlow=void 0,childFlow&&closeFlow();const indexBeforeExits=self.events.length;let point,indexBeforeFlow=indexBeforeExits;for(;indexBeforeFlow--;)if("exit"===self.events[indexBeforeFlow][0]&&"chunkFlow"===self.events[indexBeforeFlow][1].type){point=self.events[indexBeforeFlow][1].end;break}exitContainers(continued);let index=indexBeforeExits;for(;index<self.events.length;)self.events[index][1].end=Object.assign({},point),index++;return splice(self.events,indexBeforeFlow+1,0,self.events.slice(indexBeforeExits)),self.events.length=index,checkNewContainers(code)}return start(code)}function checkNewContainers(code){if(continued===stack.length){if(!childFlow)return documentContinued(code);if(childFlow.currentConstruct&&childFlow.currentConstruct.concrete)return flowStart(code);self.interrupt=Boolean(childFlow.currentConstruct&&!childFlow._gfmTableDynamicInterruptHack)}return self.containerState={},effects.check(containerConstruct,thereIsANewContainer,thereIsNoNewContainer)(code)}function thereIsANewContainer(code){return childFlow&&closeFlow(),exitContainers(continued),documentContinued(code)}function thereIsNoNewContainer(code){return self.parser.lazy[self.now().line]=continued!==stack.length,lineStartOffset=self.now().offset,flowStart(code)}function documentContinued(code){return self.containerState={},effects.attempt(containerConstruct,containerContinue,flowStart)(code)}function containerContinue(code){return continued++,stack.push([self.currentConstruct,self.containerState]),documentContinued(code)}function flowStart(code){return null===code?(childFlow&&closeFlow(),exitContainers(0),void effects.consume(code)):(childFlow=childFlow||self.parser.flow(self.now()),effects.enter("chunkFlow",{contentType:"flow",previous:childToken,_tokenizer:childFlow}),flowContinue(code))}function flowContinue(code){return null===code?(writeToChild(effects.exit("chunkFlow"),!0),exitContainers(0),void effects.consume(code)):markdownLineEnding(code)?(effects.consume(code),writeToChild(effects.exit("chunkFlow")),continued=0,self.interrupt=void 0,start):(effects.consume(code),flowContinue)}function writeToChild(token,eof){const stream=self.sliceStream(token);if(eof&&stream.push(null),token.previous=childToken,childToken&&(childToken.next=token),childToken=token,childFlow.defineSkip(token.start),childFlow.write(stream),self.parser.lazy[token.start.line]){let index=childFlow.events.length;for(;index--;)if(childFlow.events[index][1].start.offset<lineStartOffset&&(!childFlow.events[index][1].end||childFlow.events[index][1].end.offset>lineStartOffset))return;const indexBeforeExits=self.events.length;let seen,point,indexBeforeFlow=indexBeforeExits;for(;indexBeforeFlow--;)if("exit"===self.events[indexBeforeFlow][0]&&"chunkFlow"===self.events[indexBeforeFlow][1].type){if(seen){point=self.events[indexBeforeFlow][1].end;break}seen=!0}for(exitContainers(continued),index=indexBeforeExits;index<self.events.length;)self.events[index][1].end=Object.assign({},point),index++;splice(self.events,indexBeforeFlow+1,0,self.events.slice(indexBeforeExits)),self.events.length=index}}function exitContainers(size){let index=stack.length;for(;index-- >size;){const entry=stack[index];self.containerState=entry[1],entry[0].exit.call(self,effects)}stack.length=size}function closeFlow(){childFlow.write([null]),childToken=void 0,childFlow=void 0,self.containerState._closeFlow=void 0}}},containerConstruct={tokenize:function tokenizeContainer(effects,ok,nok){return factorySpace(effects,effects.attempt(this.parser.constructs.document,ok,nok),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const blankLine={tokenize:function tokenizeBlankLine(effects,ok,nok){return function start(code){return markdownSpace(code)?factorySpace(effects,after,"linePrefix")(code):after(code)};function after(code){return null===code||markdownLineEnding(code)?ok(code):nok(code)}},partial:!0};function subtokenize(events){const jumps={};let event,lineIndex,otherIndex,otherEvent,parameters,subevents,more,index=-1;for(;++index<events.length;){for(;index in jumps;)index=jumps[index];if(event=events[index],index&&"chunkFlow"===event[1].type&&"listItemPrefix"===events[index-1][1].type&&(subevents=event[1]._tokenizer.events,otherIndex=0,otherIndex<subevents.length&&"lineEndingBlank"===subevents[otherIndex][1].type&&(otherIndex+=2),otherIndex<subevents.length&&"content"===subevents[otherIndex][1].type))for(;++otherIndex<subevents.length&&"content"!==subevents[otherIndex][1].type;)"chunkText"===subevents[otherIndex][1].type&&(subevents[otherIndex][1]._isInFirstContentOfListItem=!0,otherIndex++);if("enter"===event[0])event[1].contentType&&(Object.assign(jumps,subcontent(events,index)),index=jumps[index],more=!0);else if(event[1]._container){for(otherIndex=index,lineIndex=void 0;otherIndex--&&(otherEvent=events[otherIndex],"lineEnding"===otherEvent[1].type||"lineEndingBlank"===otherEvent[1].type);)"enter"===otherEvent[0]&&(lineIndex&&(events[lineIndex][1].type="lineEndingBlank"),otherEvent[1].type="lineEnding",lineIndex=otherIndex);lineIndex&&(event[1].end=Object.assign({},events[lineIndex][1].start),parameters=events.slice(lineIndex,index),parameters.unshift(event),splice(events,lineIndex,index-lineIndex+1,parameters))}}return!more}function subcontent(events,eventIndex){const token=events[eventIndex][1],context=events[eventIndex][2];let startPosition=eventIndex-1;const startPositions=[],tokenizer=token._tokenizer||context.parser[token.contentType](token.start),childEvents=tokenizer.events,jumps=[],gaps={};let stream,previous,index=-1,current=token,adjust=0,start=0;const breaks=[start];for(;current;){for(;events[++startPosition][1]!==current;);startPositions.push(startPosition),current._tokenizer||(stream=context.sliceStream(current),current.next||stream.push(null),previous&&tokenizer.defineSkip(current.start),current._isInFirstContentOfListItem&&(tokenizer._gfmTasklistFirstContentOfListItem=!0),tokenizer.write(stream),current._isInFirstContentOfListItem&&(tokenizer._gfmTasklistFirstContentOfListItem=void 0)),previous=current,current=current.next}for(current=token;++index<childEvents.length;)"exit"===childEvents[index][0]&&"enter"===childEvents[index-1][0]&&childEvents[index][1].type===childEvents[index-1][1].type&&childEvents[index][1].start.line!==childEvents[index][1].end.line&&(start=index+1,breaks.push(start),current._tokenizer=void 0,current.previous=void 0,current=current.next);for(tokenizer.events=[],current?(current._tokenizer=void 0,current.previous=void 0):breaks.pop(),index=breaks.length;index--;){const slice=childEvents.slice(breaks[index],breaks[index+1]),start=startPositions.pop();jumps.unshift([start,start+slice.length-1]),splice(events,start,2,slice)}for(index=-1;++index<jumps.length;)gaps[adjust+jumps[index][0]]=adjust+jumps[index][1],adjust+=jumps[index][1]-jumps[index][0]-1;return gaps}const content_content={tokenize:function tokenizeContent(effects,ok){let previous;return function chunkStart(code){return effects.enter("content"),previous=effects.enter("chunkContent",{contentType:"content"}),chunkInside(code)};function chunkInside(code){return null===code?contentEnd(code):markdownLineEnding(code)?effects.check(continuationConstruct,contentContinue,contentEnd)(code):(effects.consume(code),chunkInside)}function contentEnd(code){return effects.exit("chunkContent"),effects.exit("content"),ok(code)}function contentContinue(code){return effects.consume(code),effects.exit("chunkContent"),previous.next=effects.enter("chunkContent",{contentType:"content",previous}),previous=previous.next,chunkInside}},resolve:function resolveContent(events){return subtokenize(events),events}},continuationConstruct={tokenize:function tokenizeContinuation(effects,ok,nok){const self=this;return function startLookahead(code){return effects.exit("chunkContent"),effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,prefixed,"linePrefix")};function prefixed(code){if(null===code||markdownLineEnding(code))return nok(code);const tail=self.events[self.events.length-1];return!self.parser.constructs.disable.null.includes("codeIndented")&&tail&&"linePrefix"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length>=4?ok(code):effects.interrupt(self.parser.constructs.flow,nok,ok)(code)}},partial:!0};const flow={tokenize:function initializeFlow(effects){const self=this,initial=effects.attempt(blankLine,(function atBlankEnding(code){if(null===code)return void effects.consume(code);return effects.enter("lineEndingBlank"),effects.consume(code),effects.exit("lineEndingBlank"),self.currentConstruct=void 0,initial}),effects.attempt(this.parser.constructs.flowInitial,afterConstruct,factorySpace(effects,effects.attempt(this.parser.constructs.flow,afterConstruct,effects.attempt(content_content,afterConstruct)),"linePrefix")));return initial;function afterConstruct(code){if(null!==code)return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),self.currentConstruct=void 0,initial;effects.consume(code)}}};const resolver={resolveAll:createResolver()},string=initializeFactory("string"),text_text=initializeFactory("text");function initializeFactory(field){return{tokenize:function initializeText(effects){const self=this,constructs=this.parser.constructs[field],text=effects.attempt(constructs,start,notText);return start;function start(code){return atBreak(code)?text(code):notText(code)}function notText(code){if(null!==code)return effects.enter("data"),effects.consume(code),data;effects.consume(code)}function data(code){return atBreak(code)?(effects.exit("data"),text(code)):(effects.consume(code),data)}function atBreak(code){if(null===code)return!0;const list=constructs[code];let index=-1;if(list)for(;++index<list.length;){const item=list[index];if(!item.previous||item.previous.call(self,self.previous))return!0}return!1}},resolveAll:createResolver("text"===field?resolveAllLineSuffixes:void 0)}}function createResolver(extraResolver){return function resolveAllText(events,context){let enter,index=-1;for(;++index<=events.length;)void 0===enter?events[index]&&"data"===events[index][1].type&&(enter=index,index++):events[index]&&"data"===events[index][1].type||(index!==enter+2&&(events[enter][1].end=events[index-1][1].end,events.splice(enter+2,index-enter-2),index=enter+2),enter=void 0);return extraResolver?extraResolver(events,context):events}}function resolveAllLineSuffixes(events,context){let eventIndex=0;for(;++eventIndex<=events.length;)if((eventIndex===events.length||"lineEnding"===events[eventIndex][1].type)&&"data"===events[eventIndex-1][1].type){const data=events[eventIndex-1][1],chunks=context.sliceStream(data);let tabs,index=chunks.length,bufferIndex=-1,size=0;for(;index--;){const chunk=chunks[index];if("string"==typeof chunk){for(bufferIndex=chunk.length;32===chunk.charCodeAt(bufferIndex-1);)size++,bufferIndex--;if(bufferIndex)break;bufferIndex=-1}else if(-2===chunk)tabs=!0,size++;else if(-1!==chunk){index++;break}}if(size){const token={type:eventIndex===events.length||tabs||size<2?"lineSuffix":"hardBreakTrailing",start:{line:data.end.line,column:data.end.column-size,offset:data.end.offset-size,_index:data.start._index+index,_bufferIndex:index?bufferIndex:data.start._bufferIndex+bufferIndex},end:Object.assign({},data.end)};data.end=Object.assign({},token.start),data.start.offset===data.end.offset?Object.assign(data,token):(events.splice(eventIndex,0,["enter",token,context],["exit",token,context]),eventIndex+=2)}eventIndex++}return events}function resolveAll(constructs,events,context){const called=[];let index=-1;for(;++index<constructs.length;){const resolve=constructs[index].resolveAll;resolve&&!called.includes(resolve)&&(events=resolve(events,context),called.push(resolve))}return events}function createTokenizer(parser,initialize,from){let point=Object.assign(from?Object.assign({},from):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const columnStart={},resolveAllConstructs=[];let chunks=[],stack=[],consumed=!0;const effects={consume:function consume(code){markdownLineEnding(code)?(point.line++,point.column=1,point.offset+=-3===code?2:1,accountForPotentialSkip()):-1!==code&&(point.column++,point.offset++);point._bufferIndex<0?point._index++:(point._bufferIndex++,point._bufferIndex===chunks[point._index].length&&(point._bufferIndex=-1,point._index++));context.previous=code,consumed=!0},enter:function enter(type,fields){const token=fields||{};return token.type=type,token.start=now(),context.events.push(["enter",token,context]),stack.push(token),token},exit:function exit(type){const token=stack.pop();return token.end=now(),context.events.push(["exit",token,context]),token},attempt:constructFactory((function onsuccessfulconstruct(construct,info){addResult(construct,info.from)})),check:constructFactory(onsuccessfulcheck),interrupt:constructFactory(onsuccessfulcheck,{interrupt:!0})},context={previous:null,code:null,containerState:{},events:[],parser,sliceStream,sliceSerialize:function sliceSerialize(token,expandTabs){return function serializeChunks(chunks,expandTabs){let index=-1;const result=[];let atTab;for(;++index<chunks.length;){const chunk=chunks[index];let value;if("string"==typeof chunk)value=chunk;else switch(chunk){case-5:value="\r";break;case-4:value="\n";break;case-3:value="\r\n";break;case-2:value=expandTabs?" ":"\t";break;case-1:if(!expandTabs&&atTab)continue;value=" ";break;default:value=String.fromCharCode(chunk)}atTab=-2===chunk,result.push(value)}return result.join("")}(sliceStream(token),expandTabs)},now,defineSkip:function defineSkip(value){columnStart[value.line]=value.column,accountForPotentialSkip()},write:function write(slice){if(chunks=push(chunks,slice),main(),null!==chunks[chunks.length-1])return[];return addResult(initialize,0),context.events=resolveAll(resolveAllConstructs,context.events,context),context.events}};let expectedCode,state=initialize.tokenize.call(context,effects);return initialize.resolveAll&&resolveAllConstructs.push(initialize),context;function sliceStream(token){return function sliceChunks(chunks,token){const startIndex=token.start._index,startBufferIndex=token.start._bufferIndex,endIndex=token.end._index,endBufferIndex=token.end._bufferIndex;let view;if(startIndex===endIndex)view=[chunks[startIndex].slice(startBufferIndex,endBufferIndex)];else{if(view=chunks.slice(startIndex,endIndex),startBufferIndex>-1){const head=view[0];"string"==typeof head?view[0]=head.slice(startBufferIndex):view.shift()}endBufferIndex>0&&view.push(chunks[endIndex].slice(0,endBufferIndex))}return view}(chunks,token)}function now(){const{line,column,offset,_index,_bufferIndex}=point;return{line,column,offset,_index,_bufferIndex}}function main(){let chunkIndex;for(;point._index<chunks.length;){const chunk=chunks[point._index];if("string"==typeof chunk)for(chunkIndex=point._index,point._bufferIndex<0&&(point._bufferIndex=0);point._index===chunkIndex&&point._bufferIndex<chunk.length;)go(chunk.charCodeAt(point._bufferIndex));else go(chunk)}}function go(code){consumed=void 0,expectedCode=code,state=state(code)}function onsuccessfulcheck(_,info){info.restore()}function constructFactory(onreturn,fields){return function hook(constructs,returnState,bogusState){let listOfConstructs,constructIndex,currentConstruct,info;return Array.isArray(constructs)?handleListOfConstructs(constructs):"tokenize"in constructs?handleListOfConstructs([constructs]):function handleMapOfConstructs(map){return start;function start(code){const def=null!==code&&map[code],all=null!==code&&map.null;return handleListOfConstructs([...Array.isArray(def)?def:def?[def]:[],...Array.isArray(all)?all:all?[all]:[]])(code)}}(constructs);function handleListOfConstructs(list){return listOfConstructs=list,constructIndex=0,0===list.length?bogusState:handleConstruct(list[constructIndex])}function handleConstruct(construct){return function start(code){info=function store(){const startPoint=now(),startPrevious=context.previous,startCurrentConstruct=context.currentConstruct,startEventsIndex=context.events.length,startStack=Array.from(stack);return{restore,from:startEventsIndex};function restore(){point=startPoint,context.previous=startPrevious,context.currentConstruct=startCurrentConstruct,context.events.length=startEventsIndex,stack=startStack,accountForPotentialSkip()}}(),currentConstruct=construct,construct.partial||(context.currentConstruct=construct);if(construct.name&&context.parser.constructs.disable.null.includes(construct.name))return nok(code);return construct.tokenize.call(fields?Object.assign(Object.create(context),fields):context,effects,ok,nok)(code)}}function ok(code){return consumed=!0,onreturn(currentConstruct,info),returnState}function nok(code){return consumed=!0,info.restore(),++constructIndex<listOfConstructs.length?handleConstruct(listOfConstructs[constructIndex]):bogusState}}}function addResult(construct,from){construct.resolveAll&&!resolveAllConstructs.includes(construct)&&resolveAllConstructs.push(construct),construct.resolve&&splice(context.events,from,context.events.length-from,construct.resolve(context.events.slice(from),context)),construct.resolveTo&&(context.events=construct.resolveTo(context.events,context))}function accountForPotentialSkip(){point.line in columnStart&&point.column<2&&(point.column=columnStart[point.line],point.offset+=columnStart[point.line]-1)}}const thematicBreak={name:"thematicBreak",tokenize:function tokenizeThematicBreak(effects,ok,nok){let marker,size=0;return function start(code){return effects.enter("thematicBreak"),function before(code){return marker=code,atBreak(code)}(code)};function atBreak(code){return code===marker?(effects.enter("thematicBreakSequence"),sequence(code)):size>=3&&(null===code||markdownLineEnding(code))?(effects.exit("thematicBreak"),ok(code)):nok(code)}function sequence(code){return code===marker?(effects.consume(code),size++,sequence):(effects.exit("thematicBreakSequence"),markdownSpace(code)?factorySpace(effects,atBreak,"whitespace")(code):atBreak(code))}}};const list={name:"list",tokenize:function tokenizeListStart(effects,ok,nok){const self=this,tail=self.events[self.events.length-1];let initialSize=tail&&"linePrefix"===tail[1].type?tail[2].sliceSerialize(tail[1],!0).length:0,size=0;return function start(code){const kind=self.containerState.type||(42===code||43===code||45===code?"listUnordered":"listOrdered");if("listUnordered"===kind?!self.containerState.marker||code===self.containerState.marker:asciiDigit(code)){if(self.containerState.type||(self.containerState.type=kind,effects.enter(kind,{_container:!0})),"listUnordered"===kind)return effects.enter("listItemPrefix"),42===code||45===code?effects.check(thematicBreak,nok,atMarker)(code):atMarker(code);if(!self.interrupt||49===code)return effects.enter("listItemPrefix"),effects.enter("listItemValue"),inside(code)}return nok(code)};function inside(code){return asciiDigit(code)&&++size<10?(effects.consume(code),inside):(!self.interrupt||size<2)&&(self.containerState.marker?code===self.containerState.marker:41===code||46===code)?(effects.exit("listItemValue"),atMarker(code)):nok(code)}function atMarker(code){return effects.enter("listItemMarker"),effects.consume(code),effects.exit("listItemMarker"),self.containerState.marker=self.containerState.marker||code,effects.check(blankLine,self.interrupt?nok:onBlank,effects.attempt(listItemPrefixWhitespaceConstruct,endOfPrefix,otherPrefix))}function onBlank(code){return self.containerState.initialBlankLine=!0,initialSize++,endOfPrefix(code)}function otherPrefix(code){return markdownSpace(code)?(effects.enter("listItemPrefixWhitespace"),effects.consume(code),effects.exit("listItemPrefixWhitespace"),endOfPrefix):nok(code)}function endOfPrefix(code){return self.containerState.size=initialSize+self.sliceSerialize(effects.exit("listItemPrefix"),!0).length,ok(code)}},continuation:{tokenize:function tokenizeListContinuation(effects,ok,nok){const self=this;return self.containerState._closeFlow=void 0,effects.check(blankLine,onBlank,notBlank);function onBlank(code){return self.containerState.furtherBlankLines=self.containerState.furtherBlankLines||self.containerState.initialBlankLine,factorySpace(effects,ok,"listItemIndent",self.containerState.size+1)(code)}function notBlank(code){return self.containerState.furtherBlankLines||!markdownSpace(code)?(self.containerState.furtherBlankLines=void 0,self.containerState.initialBlankLine=void 0,notInCurrentItem(code)):(self.containerState.furtherBlankLines=void 0,self.containerState.initialBlankLine=void 0,effects.attempt(indentConstruct,ok,notInCurrentItem)(code))}function notInCurrentItem(code){return self.containerState._closeFlow=!0,self.interrupt=void 0,factorySpace(effects,effects.attempt(list,ok,nok),"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code)}}},exit:function tokenizeListEnd(effects){effects.exit(this.containerState.type)}},listItemPrefixWhitespaceConstruct={tokenize:function tokenizeListItemPrefixWhitespace(effects,ok,nok){const self=this;return factorySpace(effects,(function afterPrefix(code){const tail=self.events[self.events.length-1];return!markdownSpace(code)&&tail&&"listItemPrefixWhitespace"===tail[1].type?ok(code):nok(code)}),"listItemPrefixWhitespace",self.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},indentConstruct={tokenize:function tokenizeIndent(effects,ok,nok){const self=this;return factorySpace(effects,(function afterPrefix(code){const tail=self.events[self.events.length-1];return tail&&"listItemIndent"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length===self.containerState.size?ok(code):nok(code)}),"listItemIndent",self.containerState.size+1)},partial:!0};const blockQuote={name:"blockQuote",tokenize:function tokenizeBlockQuoteStart(effects,ok,nok){const self=this;return function start(code){if(62===code){const state=self.containerState;return state.open||(effects.enter("blockQuote",{_container:!0}),state.open=!0),effects.enter("blockQuotePrefix"),effects.enter("blockQuoteMarker"),effects.consume(code),effects.exit("blockQuoteMarker"),after}return nok(code)};function after(code){return markdownSpace(code)?(effects.enter("blockQuotePrefixWhitespace"),effects.consume(code),effects.exit("blockQuotePrefixWhitespace"),effects.exit("blockQuotePrefix"),ok):(effects.exit("blockQuotePrefix"),ok(code))}},continuation:{tokenize:function tokenizeBlockQuoteContinuation(effects,ok,nok){const self=this;return function contStart(code){if(markdownSpace(code))return factorySpace(effects,contBefore,"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code);return contBefore(code)};function contBefore(code){return effects.attempt(blockQuote,ok,nok)(code)}}},exit:function exit(effects){effects.exit("blockQuote")}};function factoryDestination(effects,ok,nok,type,literalType,literalMarkerType,rawType,stringType,max){const limit=max||Number.POSITIVE_INFINITY;let balance=0;return function start(code){if(60===code)return effects.enter(type),effects.enter(literalType),effects.enter(literalMarkerType),effects.consume(code),effects.exit(literalMarkerType),enclosedBefore;if(null===code||32===code||41===code||asciiControl(code))return nok(code);return effects.enter(type),effects.enter(rawType),effects.enter(stringType),effects.enter("chunkString",{contentType:"string"}),raw(code)};function enclosedBefore(code){return 62===code?(effects.enter(literalMarkerType),effects.consume(code),effects.exit(literalMarkerType),effects.exit(literalType),effects.exit(type),ok):(effects.enter(stringType),effects.enter("chunkString",{contentType:"string"}),enclosed(code))}function enclosed(code){return 62===code?(effects.exit("chunkString"),effects.exit(stringType),enclosedBefore(code)):null===code||60===code||markdownLineEnding(code)?nok(code):(effects.consume(code),92===code?enclosedEscape:enclosed)}function enclosedEscape(code){return 60===code||62===code||92===code?(effects.consume(code),enclosed):enclosed(code)}function raw(code){return balance||null!==code&&41!==code&&!markdownLineEndingOrSpace(code)?balance<limit&&40===code?(effects.consume(code),balance++,raw):41===code?(effects.consume(code),balance--,raw):null===code||32===code||40===code||asciiControl(code)?nok(code):(effects.consume(code),92===code?rawEscape:raw):(effects.exit("chunkString"),effects.exit(stringType),effects.exit(rawType),effects.exit(type),ok(code))}function rawEscape(code){return 40===code||41===code||92===code?(effects.consume(code),raw):raw(code)}}function factoryLabel(effects,ok,nok,type,markerType,stringType){const self=this;let seen,size=0;return function start(code){return effects.enter(type),effects.enter(markerType),effects.consume(code),effects.exit(markerType),effects.enter(stringType),atBreak};function atBreak(code){return size>999||null===code||91===code||93===code&&!seen||94===code&&!size&&"_hiddenFootnoteSupport"in self.parser.constructs?nok(code):93===code?(effects.exit(stringType),effects.enter(markerType),effects.consume(code),effects.exit(markerType),effects.exit(type),ok):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),atBreak):(effects.enter("chunkString",{contentType:"string"}),labelInside(code))}function labelInside(code){return null===code||91===code||93===code||markdownLineEnding(code)||size++>999?(effects.exit("chunkString"),atBreak(code)):(effects.consume(code),seen||(seen=!markdownSpace(code)),92===code?labelEscape:labelInside)}function labelEscape(code){return 91===code||92===code||93===code?(effects.consume(code),size++,labelInside):labelInside(code)}}function factoryTitle(effects,ok,nok,type,markerType,stringType){let marker;return function start(code){if(34===code||39===code||40===code)return effects.enter(type),effects.enter(markerType),effects.consume(code),effects.exit(markerType),marker=40===code?41:code,begin;return nok(code)};function begin(code){return code===marker?(effects.enter(markerType),effects.consume(code),effects.exit(markerType),effects.exit(type),ok):(effects.enter(stringType),atBreak(code))}function atBreak(code){return code===marker?(effects.exit(stringType),begin(marker)):null===code?nok(code):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,atBreak,"linePrefix")):(effects.enter("chunkString",{contentType:"string"}),inside(code))}function inside(code){return code===marker||null===code||markdownLineEnding(code)?(effects.exit("chunkString"),atBreak(code)):(effects.consume(code),92===code?escape:inside)}function escape(code){return code===marker||92===code?(effects.consume(code),inside):inside(code)}}function factoryWhitespace(effects,ok){let seen;return function start(code){if(markdownLineEnding(code))return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),seen=!0,start;if(markdownSpace(code))return factorySpace(effects,start,seen?"linePrefix":"lineSuffix")(code);return ok(code)}}function normalizeIdentifier(value){return value.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const definition={name:"definition",tokenize:function tokenizeDefinition(effects,ok,nok){const self=this;let identifier;return function start(code){return effects.enter("definition"),function before(code){return factoryLabel.call(self,effects,labelAfter,nok,"definitionLabel","definitionLabelMarker","definitionLabelString")(code)}(code)};function labelAfter(code){return identifier=normalizeIdentifier(self.sliceSerialize(self.events[self.events.length-1][1]).slice(1,-1)),58===code?(effects.enter("definitionMarker"),effects.consume(code),effects.exit("definitionMarker"),markerAfter):nok(code)}function markerAfter(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,destinationBefore)(code):destinationBefore(code)}function destinationBefore(code){return factoryDestination(effects,destinationAfter,nok,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(code)}function destinationAfter(code){return effects.attempt(titleBefore,after,after)(code)}function after(code){return markdownSpace(code)?factorySpace(effects,afterWhitespace,"whitespace")(code):afterWhitespace(code)}function afterWhitespace(code){return null===code||markdownLineEnding(code)?(effects.exit("definition"),self.parser.defined.push(identifier),ok(code)):nok(code)}}},titleBefore={tokenize:function tokenizeTitleBefore(effects,ok,nok){return function titleBefore(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,beforeMarker)(code):nok(code)};function beforeMarker(code){return factoryTitle(effects,titleAfter,nok,"definitionTitle","definitionTitleMarker","definitionTitleString")(code)}function titleAfter(code){return markdownSpace(code)?factorySpace(effects,titleAfterOptionalWhitespace,"whitespace")(code):titleAfterOptionalWhitespace(code)}function titleAfterOptionalWhitespace(code){return null===code||markdownLineEnding(code)?ok(code):nok(code)}},partial:!0};const codeIndented={name:"codeIndented",tokenize:function tokenizeCodeIndented(effects,ok,nok){const self=this;return function start(code){return effects.enter("codeIndented"),factorySpace(effects,afterPrefix,"linePrefix",5)(code)};function afterPrefix(code){const tail=self.events[self.events.length-1];return tail&&"linePrefix"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length>=4?atBreak(code):nok(code)}function atBreak(code){return null===code?after(code):markdownLineEnding(code)?effects.attempt(furtherStart,atBreak,after)(code):(effects.enter("codeFlowValue"),inside(code))}function inside(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFlowValue"),atBreak(code)):(effects.consume(code),inside)}function after(code){return effects.exit("codeIndented"),ok(code)}}},furtherStart={tokenize:function tokenizeFurtherStart(effects,ok,nok){const self=this;return furtherStart;function furtherStart(code){return self.parser.lazy[self.now().line]?nok(code):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),furtherStart):factorySpace(effects,afterPrefix,"linePrefix",5)(code)}function afterPrefix(code){const tail=self.events[self.events.length-1];return tail&&"linePrefix"===tail[1].type&&tail[2].sliceSerialize(tail[1],!0).length>=4?ok(code):markdownLineEnding(code)?furtherStart(code):nok(code)}},partial:!0};const headingAtx={name:"headingAtx",tokenize:function tokenizeHeadingAtx(effects,ok,nok){let size=0;return function start(code){return effects.enter("atxHeading"),function before(code){return effects.enter("atxHeadingSequence"),sequenceOpen(code)}(code)};function sequenceOpen(code){return 35===code&&size++<6?(effects.consume(code),sequenceOpen):null===code||markdownLineEndingOrSpace(code)?(effects.exit("atxHeadingSequence"),atBreak(code)):nok(code)}function atBreak(code){return 35===code?(effects.enter("atxHeadingSequence"),sequenceFurther(code)):null===code||markdownLineEnding(code)?(effects.exit("atxHeading"),ok(code)):markdownSpace(code)?factorySpace(effects,atBreak,"whitespace")(code):(effects.enter("atxHeadingText"),data(code))}function sequenceFurther(code){return 35===code?(effects.consume(code),sequenceFurther):(effects.exit("atxHeadingSequence"),atBreak(code))}function data(code){return null===code||35===code||markdownLineEndingOrSpace(code)?(effects.exit("atxHeadingText"),atBreak(code)):(effects.consume(code),data)}},resolve:function resolveHeadingAtx(events,context){let content,text,contentEnd=events.length-2,contentStart=3;"whitespace"===events[contentStart][1].type&&(contentStart+=2);contentEnd-2>contentStart&&"whitespace"===events[contentEnd][1].type&&(contentEnd-=2);"atxHeadingSequence"===events[contentEnd][1].type&&(contentStart===contentEnd-1||contentEnd-4>contentStart&&"whitespace"===events[contentEnd-2][1].type)&&(contentEnd-=contentStart+1===contentEnd?2:4);contentEnd>contentStart&&(content={type:"atxHeadingText",start:events[contentStart][1].start,end:events[contentEnd][1].end},text={type:"chunkText",start:events[contentStart][1].start,end:events[contentEnd][1].end,contentType:"text"},splice(events,contentStart,contentEnd-contentStart+1,[["enter",content,context],["enter",text,context],["exit",text,context],["exit",content,context]]));return events}};const setextUnderline={name:"setextUnderline",tokenize:function tokenizeSetextUnderline(effects,ok,nok){const self=this;let marker;return function start(code){let paragraph,index=self.events.length;for(;index--;)if("lineEnding"!==self.events[index][1].type&&"linePrefix"!==self.events[index][1].type&&"content"!==self.events[index][1].type){paragraph="paragraph"===self.events[index][1].type;break}if(!self.parser.lazy[self.now().line]&&(self.interrupt||paragraph))return effects.enter("setextHeadingLine"),marker=code,function before(code){return effects.enter("setextHeadingLineSequence"),inside(code)}(code);return nok(code)};function inside(code){return code===marker?(effects.consume(code),inside):(effects.exit("setextHeadingLineSequence"),markdownSpace(code)?factorySpace(effects,after,"lineSuffix")(code):after(code))}function after(code){return null===code||markdownLineEnding(code)?(effects.exit("setextHeadingLine"),ok(code)):nok(code)}},resolveTo:function resolveToSetextUnderline(events,context){let content,text,definition,index=events.length;for(;index--;)if("enter"===events[index][0]){if("content"===events[index][1].type){content=index;break}"paragraph"===events[index][1].type&&(text=index)}else"content"===events[index][1].type&&events.splice(index,1),definition||"definition"!==events[index][1].type||(definition=index);const heading={type:"setextHeading",start:Object.assign({},events[text][1].start),end:Object.assign({},events[events.length-1][1].end)};events[text][1].type="setextHeadingText",definition?(events.splice(text,0,["enter",heading,context]),events.splice(definition+1,0,["exit",events[content][1],context]),events[content][1].end=Object.assign({},events[definition][1].end)):events[content][1]=heading;return events.push(["exit",heading,context]),events}};const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={name:"htmlFlow",tokenize:function tokenizeHtmlFlow(effects,ok,nok){const self=this;let marker,closingTag,buffer,index,markerB;return function start(code){return function before(code){return effects.enter("htmlFlow"),effects.enter("htmlFlowData"),effects.consume(code),open}(code)};function open(code){return 33===code?(effects.consume(code),declarationOpen):47===code?(effects.consume(code),closingTag=!0,tagCloseStart):63===code?(effects.consume(code),marker=3,self.interrupt?ok:continuationDeclarationInside):asciiAlpha(code)?(effects.consume(code),buffer=String.fromCharCode(code),tagName):nok(code)}function declarationOpen(code){return 45===code?(effects.consume(code),marker=2,commentOpenInside):91===code?(effects.consume(code),marker=5,index=0,cdataOpenInside):asciiAlpha(code)?(effects.consume(code),marker=4,self.interrupt?ok:continuationDeclarationInside):nok(code)}function commentOpenInside(code){return 45===code?(effects.consume(code),self.interrupt?ok:continuationDeclarationInside):nok(code)}function cdataOpenInside(code){return code==="CDATA[".charCodeAt(index++)?(effects.consume(code),6===index?self.interrupt?ok:continuation:cdataOpenInside):nok(code)}function tagCloseStart(code){return asciiAlpha(code)?(effects.consume(code),buffer=String.fromCharCode(code),tagName):nok(code)}function tagName(code){if(null===code||47===code||62===code||markdownLineEndingOrSpace(code)){const slash=47===code,name=buffer.toLowerCase();return slash||closingTag||!htmlRawNames.includes(name)?htmlBlockNames.includes(buffer.toLowerCase())?(marker=6,slash?(effects.consume(code),basicSelfClosing):self.interrupt?ok(code):continuation(code)):(marker=7,self.interrupt&&!self.parser.lazy[self.now().line]?nok(code):closingTag?completeClosingTagAfter(code):completeAttributeNameBefore(code)):(marker=1,self.interrupt?ok(code):continuation(code))}return 45===code||asciiAlphanumeric(code)?(effects.consume(code),buffer+=String.fromCharCode(code),tagName):nok(code)}function basicSelfClosing(code){return 62===code?(effects.consume(code),self.interrupt?ok:continuation):nok(code)}function completeClosingTagAfter(code){return markdownSpace(code)?(effects.consume(code),completeClosingTagAfter):completeEnd(code)}function completeAttributeNameBefore(code){return 47===code?(effects.consume(code),completeEnd):58===code||95===code||asciiAlpha(code)?(effects.consume(code),completeAttributeName):markdownSpace(code)?(effects.consume(code),completeAttributeNameBefore):completeEnd(code)}function completeAttributeName(code){return 45===code||46===code||58===code||95===code||asciiAlphanumeric(code)?(effects.consume(code),completeAttributeName):completeAttributeNameAfter(code)}function completeAttributeNameAfter(code){return 61===code?(effects.consume(code),completeAttributeValueBefore):markdownSpace(code)?(effects.consume(code),completeAttributeNameAfter):completeAttributeNameBefore(code)}function completeAttributeValueBefore(code){return null===code||60===code||61===code||62===code||96===code?nok(code):34===code||39===code?(effects.consume(code),markerB=code,completeAttributeValueQuoted):markdownSpace(code)?(effects.consume(code),completeAttributeValueBefore):completeAttributeValueUnquoted(code)}function completeAttributeValueQuoted(code){return code===markerB?(effects.consume(code),markerB=null,completeAttributeValueQuotedAfter):null===code||markdownLineEnding(code)?nok(code):(effects.consume(code),completeAttributeValueQuoted)}function completeAttributeValueUnquoted(code){return null===code||34===code||39===code||47===code||60===code||61===code||62===code||96===code||markdownLineEndingOrSpace(code)?completeAttributeNameAfter(code):(effects.consume(code),completeAttributeValueUnquoted)}function completeAttributeValueQuotedAfter(code){return 47===code||62===code||markdownSpace(code)?completeAttributeNameBefore(code):nok(code)}function completeEnd(code){return 62===code?(effects.consume(code),completeAfter):nok(code)}function completeAfter(code){return null===code||markdownLineEnding(code)?continuation(code):markdownSpace(code)?(effects.consume(code),completeAfter):nok(code)}function continuation(code){return 45===code&&2===marker?(effects.consume(code),continuationCommentInside):60===code&&1===marker?(effects.consume(code),continuationRawTagOpen):62===code&&4===marker?(effects.consume(code),continuationClose):63===code&&3===marker?(effects.consume(code),continuationDeclarationInside):93===code&&5===marker?(effects.consume(code),continuationCdataInside):!markdownLineEnding(code)||6!==marker&&7!==marker?null===code||markdownLineEnding(code)?(effects.exit("htmlFlowData"),continuationStart(code)):(effects.consume(code),continuation):(effects.exit("htmlFlowData"),effects.check(blankLineBefore,continuationAfter,continuationStart)(code))}function continuationStart(code){return effects.check(nonLazyContinuationStart,continuationStartNonLazy,continuationAfter)(code)}function continuationStartNonLazy(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),continuationBefore}function continuationBefore(code){return null===code||markdownLineEnding(code)?continuationStart(code):(effects.enter("htmlFlowData"),continuation(code))}function continuationCommentInside(code){return 45===code?(effects.consume(code),continuationDeclarationInside):continuation(code)}function continuationRawTagOpen(code){return 47===code?(effects.consume(code),buffer="",continuationRawEndTag):continuation(code)}function continuationRawEndTag(code){if(62===code){const name=buffer.toLowerCase();return htmlRawNames.includes(name)?(effects.consume(code),continuationClose):continuation(code)}return asciiAlpha(code)&&buffer.length<8?(effects.consume(code),buffer+=String.fromCharCode(code),continuationRawEndTag):continuation(code)}function continuationCdataInside(code){return 93===code?(effects.consume(code),continuationDeclarationInside):continuation(code)}function continuationDeclarationInside(code){return 62===code?(effects.consume(code),continuationClose):45===code&&2===marker?(effects.consume(code),continuationDeclarationInside):continuation(code)}function continuationClose(code){return null===code||markdownLineEnding(code)?(effects.exit("htmlFlowData"),continuationAfter(code)):(effects.consume(code),continuationClose)}function continuationAfter(code){return effects.exit("htmlFlow"),ok(code)}},resolveTo:function resolveToHtmlFlow(events){let index=events.length;for(;index--&&("enter"!==events[index][0]||"htmlFlow"!==events[index][1].type););index>1&&"linePrefix"===events[index-2][1].type&&(events[index][1].start=events[index-2][1].start,events[index+1][1].start=events[index-2][1].start,events.splice(index-2,2));return events},concrete:!0},blankLineBefore={tokenize:function tokenizeBlankLineBefore(effects,ok,nok){return function start(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),effects.attempt(blankLine,ok,nok)}},partial:!0},nonLazyContinuationStart={tokenize:function tokenizeNonLazyContinuationStart(effects,ok,nok){const self=this;return function start(code){if(markdownLineEnding(code))return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),after;return nok(code)};function after(code){return self.parser.lazy[self.now().line]?nok(code):ok(code)}},partial:!0};const nonLazyContinuation={tokenize:function tokenizeNonLazyContinuation(effects,ok,nok){const self=this;return function start(code){if(null===code)return nok(code);return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),lineStart};function lineStart(code){return self.parser.lazy[self.now().line]?nok(code):ok(code)}},partial:!0},codeFenced={name:"codeFenced",tokenize:function tokenizeCodeFenced(effects,ok,nok){const self=this,closeStart={tokenize:function tokenizeCloseStart(effects,ok,nok){let size=0;return startBefore;function startBefore(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),start}function start(code){return effects.enter("codeFencedFence"),markdownSpace(code)?factorySpace(effects,beforeSequenceClose,"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code):beforeSequenceClose(code)}function beforeSequenceClose(code){return code===marker?(effects.enter("codeFencedFenceSequence"),sequenceClose(code)):nok(code)}function sequenceClose(code){return code===marker?(size++,effects.consume(code),sequenceClose):size>=sizeOpen?(effects.exit("codeFencedFenceSequence"),markdownSpace(code)?factorySpace(effects,sequenceCloseAfter,"whitespace")(code):sequenceCloseAfter(code)):nok(code)}function sequenceCloseAfter(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFencedFence"),ok(code)):nok(code)}},partial:!0};let marker,initialPrefix=0,sizeOpen=0;return function start(code){return function beforeSequenceOpen(code){const tail=self.events[self.events.length-1];return initialPrefix=tail&&"linePrefix"===tail[1].type?tail[2].sliceSerialize(tail[1],!0).length:0,marker=code,effects.enter("codeFenced"),effects.enter("codeFencedFence"),effects.enter("codeFencedFenceSequence"),sequenceOpen(code)}(code)};function sequenceOpen(code){return code===marker?(sizeOpen++,effects.consume(code),sequenceOpen):sizeOpen<3?nok(code):(effects.exit("codeFencedFenceSequence"),markdownSpace(code)?factorySpace(effects,infoBefore,"whitespace")(code):infoBefore(code))}function infoBefore(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFencedFence"),self.interrupt?ok(code):effects.check(nonLazyContinuation,atNonLazyBreak,after)(code)):(effects.enter("codeFencedFenceInfo"),effects.enter("chunkString",{contentType:"string"}),info(code))}function info(code){return null===code||markdownLineEnding(code)?(effects.exit("chunkString"),effects.exit("codeFencedFenceInfo"),infoBefore(code)):markdownSpace(code)?(effects.exit("chunkString"),effects.exit("codeFencedFenceInfo"),factorySpace(effects,metaBefore,"whitespace")(code)):96===code&&code===marker?nok(code):(effects.consume(code),info)}function metaBefore(code){return null===code||markdownLineEnding(code)?infoBefore(code):(effects.enter("codeFencedFenceMeta"),effects.enter("chunkString",{contentType:"string"}),meta(code))}function meta(code){return null===code||markdownLineEnding(code)?(effects.exit("chunkString"),effects.exit("codeFencedFenceMeta"),infoBefore(code)):96===code&&code===marker?nok(code):(effects.consume(code),meta)}function atNonLazyBreak(code){return effects.attempt(closeStart,after,contentBefore)(code)}function contentBefore(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),contentStart}function contentStart(code){return initialPrefix>0&&markdownSpace(code)?factorySpace(effects,beforeContentChunk,"linePrefix",initialPrefix+1)(code):beforeContentChunk(code)}function beforeContentChunk(code){return null===code||markdownLineEnding(code)?effects.check(nonLazyContinuation,atNonLazyBreak,after)(code):(effects.enter("codeFlowValue"),contentChunk(code))}function contentChunk(code){return null===code||markdownLineEnding(code)?(effects.exit("codeFlowValue"),beforeContentChunk(code)):(effects.consume(code),contentChunk)}function after(code){return effects.exit("codeFenced"),ok(code)}},concrete:!0};const index_dom_element=document.createElement("i");function decodeNamedCharacterReference(value){const characterReference="&"+value+";";index_dom_element.innerHTML=characterReference;const char=index_dom_element.textContent;return(59!==char.charCodeAt(char.length-1)||"semi"===value)&&(char!==characterReference&&char)}const characterReference={name:"characterReference",tokenize:function tokenizeCharacterReference(effects,ok,nok){const self=this;let max,test,size=0;return function start(code){return effects.enter("characterReference"),effects.enter("characterReferenceMarker"),effects.consume(code),effects.exit("characterReferenceMarker"),open};function open(code){return 35===code?(effects.enter("characterReferenceMarkerNumeric"),effects.consume(code),effects.exit("characterReferenceMarkerNumeric"),numeric):(effects.enter("characterReferenceValue"),max=31,test=asciiAlphanumeric,value(code))}function numeric(code){return 88===code||120===code?(effects.enter("characterReferenceMarkerHexadecimal"),effects.consume(code),effects.exit("characterReferenceMarkerHexadecimal"),effects.enter("characterReferenceValue"),max=6,test=asciiHexDigit,value):(effects.enter("characterReferenceValue"),max=7,test=asciiDigit,value(code))}function value(code){if(59===code&&size){const token=effects.exit("characterReferenceValue");return test!==asciiAlphanumeric||decodeNamedCharacterReference(self.sliceSerialize(token))?(effects.enter("characterReferenceMarker"),effects.consume(code),effects.exit("characterReferenceMarker"),effects.exit("characterReference"),ok):nok(code)}return test(code)&&size++<max?(effects.consume(code),value):nok(code)}}};const characterEscape={name:"characterEscape",tokenize:function tokenizeCharacterEscape(effects,ok,nok){return function start(code){return effects.enter("characterEscape"),effects.enter("escapeMarker"),effects.consume(code),effects.exit("escapeMarker"),inside};function inside(code){return asciiPunctuation(code)?(effects.enter("characterEscapeValue"),effects.consume(code),effects.exit("characterEscapeValue"),effects.exit("characterEscape"),ok):nok(code)}}};const lineEnding={name:"lineEnding",tokenize:function tokenizeLineEnding(effects,ok){return function start(code){return effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),factorySpace(effects,ok,"linePrefix")}}};const labelEnd={name:"labelEnd",tokenize:function tokenizeLabelEnd(effects,ok,nok){const self=this;let labelStart,defined,index=self.events.length;for(;index--;)if(("labelImage"===self.events[index][1].type||"labelLink"===self.events[index][1].type)&&!self.events[index][1]._balanced){labelStart=self.events[index][1];break}return function start(code){if(!labelStart)return nok(code);if(labelStart._inactive)return labelEndNok(code);return defined=self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize({start:labelStart.end,end:self.now()}))),effects.enter("labelEnd"),effects.enter("labelMarker"),effects.consume(code),effects.exit("labelMarker"),effects.exit("labelEnd"),after};function after(code){return 40===code?effects.attempt(resourceConstruct,labelEndOk,defined?labelEndOk:labelEndNok)(code):91===code?effects.attempt(referenceFullConstruct,labelEndOk,defined?referenceNotFull:labelEndNok)(code):defined?labelEndOk(code):labelEndNok(code)}function referenceNotFull(code){return effects.attempt(referenceCollapsedConstruct,labelEndOk,labelEndNok)(code)}function labelEndOk(code){return ok(code)}function labelEndNok(code){return labelStart._balanced=!0,nok(code)}},resolveTo:function resolveToLabelEnd(events,context){let token,open,close,media,index=events.length,offset=0;for(;index--;)if(token=events[index][1],open){if("link"===token.type||"labelLink"===token.type&&token._inactive)break;"enter"===events[index][0]&&"labelLink"===token.type&&(token._inactive=!0)}else if(close){if("enter"===events[index][0]&&("labelImage"===token.type||"labelLink"===token.type)&&!token._balanced&&(open=index,"labelLink"!==token.type)){offset=2;break}}else"labelEnd"===token.type&&(close=index);const group={type:"labelLink"===events[open][1].type?"link":"image",start:Object.assign({},events[open][1].start),end:Object.assign({},events[events.length-1][1].end)},label={type:"label",start:Object.assign({},events[open][1].start),end:Object.assign({},events[close][1].end)},text={type:"labelText",start:Object.assign({},events[open+offset+2][1].end),end:Object.assign({},events[close-2][1].start)};return media=[["enter",group,context],["enter",label,context]],media=push(media,events.slice(open+1,open+offset+3)),media=push(media,[["enter",text,context]]),media=push(media,resolveAll(context.parser.constructs.insideSpan.null,events.slice(open+offset+4,close-3),context)),media=push(media,[["exit",text,context],events[close-2],events[close-1],["exit",label,context]]),media=push(media,events.slice(close+1)),media=push(media,[["exit",group,context]]),splice(events,open,events.length,media),events},resolveAll:function resolveAllLabelEnd(events){let index=-1;for(;++index<events.length;){const token=events[index][1];"labelImage"!==token.type&&"labelLink"!==token.type&&"labelEnd"!==token.type||(events.splice(index+1,"labelImage"===token.type?4:2),token.type="data",index++)}return events}},resourceConstruct={tokenize:function tokenizeResource(effects,ok,nok){return function resourceStart(code){return effects.enter("resource"),effects.enter("resourceMarker"),effects.consume(code),effects.exit("resourceMarker"),resourceBefore};function resourceBefore(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,resourceOpen)(code):resourceOpen(code)}function resourceOpen(code){return 41===code?resourceEnd(code):factoryDestination(effects,resourceDestinationAfter,resourceDestinationMissing,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(code)}function resourceDestinationAfter(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,resourceBetween)(code):resourceEnd(code)}function resourceDestinationMissing(code){return nok(code)}function resourceBetween(code){return 34===code||39===code||40===code?factoryTitle(effects,resourceTitleAfter,nok,"resourceTitle","resourceTitleMarker","resourceTitleString")(code):resourceEnd(code)}function resourceTitleAfter(code){return markdownLineEndingOrSpace(code)?factoryWhitespace(effects,resourceEnd)(code):resourceEnd(code)}function resourceEnd(code){return 41===code?(effects.enter("resourceMarker"),effects.consume(code),effects.exit("resourceMarker"),effects.exit("resource"),ok):nok(code)}}},referenceFullConstruct={tokenize:function tokenizeReferenceFull(effects,ok,nok){const self=this;return function referenceFull(code){return factoryLabel.call(self,effects,referenceFullAfter,referenceFullMissing,"reference","referenceMarker","referenceString")(code)};function referenceFullAfter(code){return self.parser.defined.includes(normalizeIdentifier(self.sliceSerialize(self.events[self.events.length-1][1]).slice(1,-1)))?ok(code):nok(code)}function referenceFullMissing(code){return nok(code)}}},referenceCollapsedConstruct={tokenize:function tokenizeReferenceCollapsed(effects,ok,nok){return function referenceCollapsedStart(code){return effects.enter("reference"),effects.enter("referenceMarker"),effects.consume(code),effects.exit("referenceMarker"),referenceCollapsedOpen};function referenceCollapsedOpen(code){return 93===code?(effects.enter("referenceMarker"),effects.consume(code),effects.exit("referenceMarker"),effects.exit("reference"),ok):nok(code)}}};const labelStartImage={name:"labelStartImage",tokenize:function tokenizeLabelStartImage(effects,ok,nok){const self=this;return function start(code){return effects.enter("labelImage"),effects.enter("labelImageMarker"),effects.consume(code),effects.exit("labelImageMarker"),open};function open(code){return 91===code?(effects.enter("labelMarker"),effects.consume(code),effects.exit("labelMarker"),effects.exit("labelImage"),after):nok(code)}function after(code){return 94===code&&"_hiddenFootnoteSupport"in self.parser.constructs?nok(code):ok(code)}},resolveAll:labelEnd.resolveAll};function classifyCharacter(code){return null===code||markdownLineEndingOrSpace(code)||unicodeWhitespace(code)?1:unicodePunctuation(code)?2:void 0}const attention={name:"attention",tokenize:function tokenizeAttention(effects,ok){const attentionMarkers=this.parser.constructs.attentionMarkers.null,previous=this.previous,before=classifyCharacter(previous);let marker;return function start(code){return marker=code,effects.enter("attentionSequence"),inside(code)};function inside(code){if(code===marker)return effects.consume(code),inside;const token=effects.exit("attentionSequence"),after=classifyCharacter(code),open=!after||2===after&&before||attentionMarkers.includes(code),close=!before||2===before&&after||attentionMarkers.includes(previous);return token._open=Boolean(42===marker?open:open&&(before||!close)),token._close=Boolean(42===marker?close:close&&(after||!open)),ok(code)}},resolveAll:function resolveAllAttention(events,context){let open,group,text,openingSequence,closingSequence,use,nextEvents,offset,index=-1;for(;++index<events.length;)if("enter"===events[index][0]&&"attentionSequence"===events[index][1].type&&events[index][1]._close)for(open=index;open--;)if("exit"===events[open][0]&&"attentionSequence"===events[open][1].type&&events[open][1]._open&&context.sliceSerialize(events[open][1]).charCodeAt(0)===context.sliceSerialize(events[index][1]).charCodeAt(0)){if((events[open][1]._close||events[index][1]._open)&&(events[index][1].end.offset-events[index][1].start.offset)%3&&!((events[open][1].end.offset-events[open][1].start.offset+events[index][1].end.offset-events[index][1].start.offset)%3))continue;use=events[open][1].end.offset-events[open][1].start.offset>1&&events[index][1].end.offset-events[index][1].start.offset>1?2:1;const start=Object.assign({},events[open][1].end),end=Object.assign({},events[index][1].start);movePoint(start,-use),movePoint(end,use),openingSequence={type:use>1?"strongSequence":"emphasisSequence",start,end:Object.assign({},events[open][1].end)},closingSequence={type:use>1?"strongSequence":"emphasisSequence",start:Object.assign({},events[index][1].start),end},text={type:use>1?"strongText":"emphasisText",start:Object.assign({},events[open][1].end),end:Object.assign({},events[index][1].start)},group={type:use>1?"strong":"emphasis",start:Object.assign({},openingSequence.start),end:Object.assign({},closingSequence.end)},events[open][1].end=Object.assign({},openingSequence.start),events[index][1].start=Object.assign({},closingSequence.end),nextEvents=[],events[open][1].end.offset-events[open][1].start.offset&&(nextEvents=push(nextEvents,[["enter",events[open][1],context],["exit",events[open][1],context]])),nextEvents=push(nextEvents,[["enter",group,context],["enter",openingSequence,context],["exit",openingSequence,context],["enter",text,context]]),nextEvents=push(nextEvents,resolveAll(context.parser.constructs.insideSpan.null,events.slice(open+1,index),context)),nextEvents=push(nextEvents,[["exit",text,context],["enter",closingSequence,context],["exit",closingSequence,context],["exit",group,context]]),events[index][1].end.offset-events[index][1].start.offset?(offset=2,nextEvents=push(nextEvents,[["enter",events[index][1],context],["exit",events[index][1],context]])):offset=0,splice(events,open-1,index-open+3,nextEvents),index=open+nextEvents.length-offset-2;break}index=-1;for(;++index<events.length;)"attentionSequence"===events[index][1].type&&(events[index][1].type="data");return events}};function movePoint(point,offset){point.column+=offset,point.offset+=offset,point._bufferIndex+=offset}const autolink={name:"autolink",tokenize:function tokenizeAutolink(effects,ok,nok){let size=0;return function start(code){return effects.enter("autolink"),effects.enter("autolinkMarker"),effects.consume(code),effects.exit("autolinkMarker"),effects.enter("autolinkProtocol"),open};function open(code){return asciiAlpha(code)?(effects.consume(code),schemeOrEmailAtext):emailAtext(code)}function schemeOrEmailAtext(code){return 43===code||45===code||46===code||asciiAlphanumeric(code)?(size=1,schemeInsideOrEmailAtext(code)):emailAtext(code)}function schemeInsideOrEmailAtext(code){return 58===code?(effects.consume(code),size=0,urlInside):(43===code||45===code||46===code||asciiAlphanumeric(code))&&size++<32?(effects.consume(code),schemeInsideOrEmailAtext):(size=0,emailAtext(code))}function urlInside(code){return 62===code?(effects.exit("autolinkProtocol"),effects.enter("autolinkMarker"),effects.consume(code),effects.exit("autolinkMarker"),effects.exit("autolink"),ok):null===code||32===code||60===code||asciiControl(code)?nok(code):(effects.consume(code),urlInside)}function emailAtext(code){return 64===code?(effects.consume(code),emailAtSignOrDot):asciiAtext(code)?(effects.consume(code),emailAtext):nok(code)}function emailAtSignOrDot(code){return asciiAlphanumeric(code)?emailLabel(code):nok(code)}function emailLabel(code){return 46===code?(effects.consume(code),size=0,emailAtSignOrDot):62===code?(effects.exit("autolinkProtocol").type="autolinkEmail",effects.enter("autolinkMarker"),effects.consume(code),effects.exit("autolinkMarker"),effects.exit("autolink"),ok):emailValue(code)}function emailValue(code){if((45===code||asciiAlphanumeric(code))&&size++<63){const next=45===code?emailValue:emailLabel;return effects.consume(code),next}return nok(code)}}};const htmlText={name:"htmlText",tokenize:function tokenizeHtmlText(effects,ok,nok){const self=this;let marker,index,returnState;return function start(code){return effects.enter("htmlText"),effects.enter("htmlTextData"),effects.consume(code),open};function open(code){return 33===code?(effects.consume(code),declarationOpen):47===code?(effects.consume(code),tagCloseStart):63===code?(effects.consume(code),instruction):asciiAlpha(code)?(effects.consume(code),tagOpen):nok(code)}function declarationOpen(code){return 45===code?(effects.consume(code),commentOpenInside):91===code?(effects.consume(code),index=0,cdataOpenInside):asciiAlpha(code)?(effects.consume(code),declaration):nok(code)}function commentOpenInside(code){return 45===code?(effects.consume(code),commentEnd):nok(code)}function comment(code){return null===code?nok(code):45===code?(effects.consume(code),commentClose):markdownLineEnding(code)?(returnState=comment,lineEndingBefore(code)):(effects.consume(code),comment)}function commentClose(code){return 45===code?(effects.consume(code),commentEnd):comment(code)}function commentEnd(code){return 62===code?end(code):45===code?commentClose(code):comment(code)}function cdataOpenInside(code){return code==="CDATA[".charCodeAt(index++)?(effects.consume(code),6===index?cdata:cdataOpenInside):nok(code)}function cdata(code){return null===code?nok(code):93===code?(effects.consume(code),cdataClose):markdownLineEnding(code)?(returnState=cdata,lineEndingBefore(code)):(effects.consume(code),cdata)}function cdataClose(code){return 93===code?(effects.consume(code),cdataEnd):cdata(code)}function cdataEnd(code){return 62===code?end(code):93===code?(effects.consume(code),cdataEnd):cdata(code)}function declaration(code){return null===code||62===code?end(code):markdownLineEnding(code)?(returnState=declaration,lineEndingBefore(code)):(effects.consume(code),declaration)}function instruction(code){return null===code?nok(code):63===code?(effects.consume(code),instructionClose):markdownLineEnding(code)?(returnState=instruction,lineEndingBefore(code)):(effects.consume(code),instruction)}function instructionClose(code){return 62===code?end(code):instruction(code)}function tagCloseStart(code){return asciiAlpha(code)?(effects.consume(code),tagClose):nok(code)}function tagClose(code){return 45===code||asciiAlphanumeric(code)?(effects.consume(code),tagClose):tagCloseBetween(code)}function tagCloseBetween(code){return markdownLineEnding(code)?(returnState=tagCloseBetween,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagCloseBetween):end(code)}function tagOpen(code){return 45===code||asciiAlphanumeric(code)?(effects.consume(code),tagOpen):47===code||62===code||markdownLineEndingOrSpace(code)?tagOpenBetween(code):nok(code)}function tagOpenBetween(code){return 47===code?(effects.consume(code),end):58===code||95===code||asciiAlpha(code)?(effects.consume(code),tagOpenAttributeName):markdownLineEnding(code)?(returnState=tagOpenBetween,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagOpenBetween):end(code)}function tagOpenAttributeName(code){return 45===code||46===code||58===code||95===code||asciiAlphanumeric(code)?(effects.consume(code),tagOpenAttributeName):tagOpenAttributeNameAfter(code)}function tagOpenAttributeNameAfter(code){return 61===code?(effects.consume(code),tagOpenAttributeValueBefore):markdownLineEnding(code)?(returnState=tagOpenAttributeNameAfter,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagOpenAttributeNameAfter):tagOpenBetween(code)}function tagOpenAttributeValueBefore(code){return null===code||60===code||61===code||62===code||96===code?nok(code):34===code||39===code?(effects.consume(code),marker=code,tagOpenAttributeValueQuoted):markdownLineEnding(code)?(returnState=tagOpenAttributeValueBefore,lineEndingBefore(code)):markdownSpace(code)?(effects.consume(code),tagOpenAttributeValueBefore):(effects.consume(code),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuoted(code){return code===marker?(effects.consume(code),marker=void 0,tagOpenAttributeValueQuotedAfter):null===code?nok(code):markdownLineEnding(code)?(returnState=tagOpenAttributeValueQuoted,lineEndingBefore(code)):(effects.consume(code),tagOpenAttributeValueQuoted)}function tagOpenAttributeValueUnquoted(code){return null===code||34===code||39===code||60===code||61===code||96===code?nok(code):47===code||62===code||markdownLineEndingOrSpace(code)?tagOpenBetween(code):(effects.consume(code),tagOpenAttributeValueUnquoted)}function tagOpenAttributeValueQuotedAfter(code){return 47===code||62===code||markdownLineEndingOrSpace(code)?tagOpenBetween(code):nok(code)}function end(code){return 62===code?(effects.consume(code),effects.exit("htmlTextData"),effects.exit("htmlText"),ok):nok(code)}function lineEndingBefore(code){return effects.exit("htmlTextData"),effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),lineEndingAfter}function lineEndingAfter(code){return markdownSpace(code)?factorySpace(effects,lineEndingAfterPrefix,"linePrefix",self.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(code):lineEndingAfterPrefix(code)}function lineEndingAfterPrefix(code){return effects.enter("htmlTextData"),returnState(code)}}};const labelStartLink={name:"labelStartLink",tokenize:function tokenizeLabelStartLink(effects,ok,nok){const self=this;return function start(code){return effects.enter("labelLink"),effects.enter("labelMarker"),effects.consume(code),effects.exit("labelMarker"),effects.exit("labelLink"),after};function after(code){return 94===code&&"_hiddenFootnoteSupport"in self.parser.constructs?nok(code):ok(code)}},resolveAll:labelEnd.resolveAll};const hardBreakEscape={name:"hardBreakEscape",tokenize:function tokenizeHardBreakEscape(effects,ok,nok){return function start(code){return effects.enter("hardBreakEscape"),effects.consume(code),after};function after(code){return markdownLineEnding(code)?(effects.exit("hardBreakEscape"),ok(code)):nok(code)}}};const codeText={name:"codeText",tokenize:function tokenizeCodeText(effects,ok,nok){let size,token,sizeOpen=0;return function start(code){return effects.enter("codeText"),effects.enter("codeTextSequence"),sequenceOpen(code)};function sequenceOpen(code){return 96===code?(effects.consume(code),sizeOpen++,sequenceOpen):(effects.exit("codeTextSequence"),between(code))}function between(code){return null===code?nok(code):32===code?(effects.enter("space"),effects.consume(code),effects.exit("space"),between):96===code?(token=effects.enter("codeTextSequence"),size=0,sequenceClose(code)):markdownLineEnding(code)?(effects.enter("lineEnding"),effects.consume(code),effects.exit("lineEnding"),between):(effects.enter("codeTextData"),data(code))}function data(code){return null===code||32===code||96===code||markdownLineEnding(code)?(effects.exit("codeTextData"),between(code)):(effects.consume(code),data)}function sequenceClose(code){return 96===code?(effects.consume(code),size++,sequenceClose):size===sizeOpen?(effects.exit("codeTextSequence"),effects.exit("codeText"),ok(code)):(token.type="codeTextData",data(code))}},resolve:function resolveCodeText(events){let index,enter,tailExitIndex=events.length-4,headEnterIndex=3;if(!("lineEnding"!==events[headEnterIndex][1].type&&"space"!==events[headEnterIndex][1].type||"lineEnding"!==events[tailExitIndex][1].type&&"space"!==events[tailExitIndex][1].type))for(index=headEnterIndex;++index<tailExitIndex;)if("codeTextData"===events[index][1].type){events[headEnterIndex][1].type="codeTextPadding",events[tailExitIndex][1].type="codeTextPadding",headEnterIndex+=2,tailExitIndex-=2;break}index=headEnterIndex-1,tailExitIndex++;for(;++index<=tailExitIndex;)void 0===enter?index!==tailExitIndex&&"lineEnding"!==events[index][1].type&&(enter=index):index!==tailExitIndex&&"lineEnding"!==events[index][1].type||(events[enter][1].type="codeTextData",index!==enter+2&&(events[enter][1].end=events[index-1][1].end,events.splice(enter+2,index-enter-2),tailExitIndex-=index-enter-2,index=enter+2),enter=void 0);return events},previous:function previous(code){return 96!==code||"characterEscape"===this.events[this.events.length-1][1].type}};const constructs_document={42:list,43:list,45:list,48:list,49:list,50:list,51:list,52:list,53:list,54:list,55:list,56:list,57:list,62:blockQuote},contentInitial={91:definition},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},constructs_flow={35:headingAtx,42:thematicBreak,45:[setextUnderline,thematicBreak],60:htmlFlow,61:setextUnderline,95:thematicBreak,96:codeFenced,126:codeFenced},constructs_string={38:characterReference,92:characterEscape},constructs_text={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]};function parse(options){const constructs=function combineExtensions(extensions){const all={};let index=-1;for(;++index<extensions.length;)syntaxExtension(all,extensions[index]);return all}([constructs_namespaceObject,...(options||{}).extensions||[]]),parser={defined:[],lazy:{},constructs,content:create(content),document:create(document_document),flow:create(flow),string:create(string),text:create(text_text)};return parser;function create(initial){return function creator(from){return createTokenizer(parser,initial,from)}}}const search=/[\0\t\n\r]/g;function decodeNumericCharacterReference(value,base){const code=Number.parseInt(value,base);return code<9||11===code||code>13&&code<32||code>126&&code<160||code>55295&&code<57344||code>64975&&code<65008||65535==(65535&code)||65534==(65535&code)||code>1114111?"":String.fromCharCode(code)}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decode($0,$1,$2){if($1)return $1;if(35===$2.charCodeAt(0)){const head=$2.charCodeAt(1),hex=120===head||88===head;return decodeNumericCharacterReference($2.slice(hex?2:1),hex?16:10)}return decodeNamedCharacterReference($2)||$0}const lib_own={}.hasOwnProperty,fromMarkdown=function(value,encoding,options){return"string"!=typeof encoding&&(options=encoding,encoding=void 0),function compiler(options){const config={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:opener(link),autolinkProtocol:onenterdata,autolinkEmail:onenterdata,atxHeading:opener(heading),blockQuote:opener(blockQuote),characterEscape:onenterdata,characterReference:onenterdata,codeFenced:opener(codeFlow),codeFencedFenceInfo:buffer,codeFencedFenceMeta:buffer,codeIndented:opener(codeFlow,buffer),codeText:opener(codeText,buffer),codeTextData:onenterdata,data:onenterdata,codeFlowValue:onenterdata,definition:opener(definition),definitionDestinationString:buffer,definitionLabelString:buffer,definitionTitleString:buffer,emphasis:opener(emphasis),hardBreakEscape:opener(hardBreak),hardBreakTrailing:opener(hardBreak),htmlFlow:opener(html,buffer),htmlFlowData:onenterdata,htmlText:opener(html,buffer),htmlTextData:onenterdata,image:opener(image),label:buffer,link:opener(link),listItem:opener(listItem),listItemValue:onenterlistitemvalue,listOrdered:opener(list,onenterlistordered),listUnordered:opener(list),paragraph:opener(paragraph),reference:onenterreference,referenceString:buffer,resourceDestinationString:buffer,resourceTitleString:buffer,setextHeading:opener(heading),strong:opener(strong),thematicBreak:opener(thematicBreak)},exit:{atxHeading:closer(),atxHeadingSequence:onexitatxheadingsequence,autolink:closer(),autolinkEmail:onexitautolinkemail,autolinkProtocol:onexitautolinkprotocol,blockQuote:closer(),characterEscapeValue:onexitdata,characterReferenceMarkerHexadecimal:onexitcharacterreferencemarker,characterReferenceMarkerNumeric:onexitcharacterreferencemarker,characterReferenceValue:onexitcharacterreferencevalue,codeFenced:closer(onexitcodefenced),codeFencedFence:onexitcodefencedfence,codeFencedFenceInfo:onexitcodefencedfenceinfo,codeFencedFenceMeta:onexitcodefencedfencemeta,codeFlowValue:onexitdata,codeIndented:closer(onexitcodeindented),codeText:closer(onexitcodetext),codeTextData:onexitdata,data:onexitdata,definition:closer(),definitionDestinationString:onexitdefinitiondestinationstring,definitionLabelString:onexitdefinitionlabelstring,definitionTitleString:onexitdefinitiontitlestring,emphasis:closer(),hardBreakEscape:closer(onexithardbreak),hardBreakTrailing:closer(onexithardbreak),htmlFlow:closer(onexithtmlflow),htmlFlowData:onexitdata,htmlText:closer(onexithtmltext),htmlTextData:onexitdata,image:closer(onexitimage),label:onexitlabel,labelText:onexitlabeltext,lineEnding:onexitlineending,link:closer(onexitlink),listItem:closer(),listOrdered:closer(),listUnordered:closer(),paragraph:closer(),referenceString:onexitreferencestring,resourceDestinationString:onexitresourcedestinationstring,resourceTitleString:onexitresourcetitlestring,resource:onexitresource,setextHeading:closer(onexitsetextheading),setextHeadingLineSequence:onexitsetextheadinglinesequence,setextHeadingText:onexitsetextheadingtext,strong:closer(),thematicBreak:closer()}};configure(config,(options||{}).mdastExtensions||[]);const data={};return compile;function compile(events){let tree={type:"root",children:[]};const context={stack:[tree],tokenStack:[],config,enter,exit,buffer,resume,setData,getData},listStack=[];let index=-1;for(;++index<events.length;)if("listOrdered"===events[index][1].type||"listUnordered"===events[index][1].type)if("enter"===events[index][0])listStack.push(index);else{index=prepareList(events,listStack.pop(),index)}for(index=-1;++index<events.length;){const handler=config[events[index][0]];lib_own.call(handler,events[index][1].type)&&handler[events[index][1].type].call(Object.assign({sliceSerialize:events[index][2].sliceSerialize},context),events[index][1])}if(context.tokenStack.length>0){const tail=context.tokenStack[context.tokenStack.length-1];(tail[1]||defaultOnError).call(context,void 0,tail[0])}for(tree.position={start:lib_point(events.length>0?events[0][1].start:{line:1,column:1,offset:0}),end:lib_point(events.length>0?events[events.length-2][1].end:{line:1,column:1,offset:0})},index=-1;++index<config.transforms.length;)tree=config.transforms[index](tree)||tree;return tree}function prepareList(events,start,length){let listItem,lineIndex,firstBlankLineIndex,atMarker,index=start-1,containerBalance=-1,listSpread=!1;for(;++index<=length;){const event=events[index];if("listUnordered"===event[1].type||"listOrdered"===event[1].type||"blockQuote"===event[1].type?("enter"===event[0]?containerBalance++:containerBalance--,atMarker=void 0):"lineEndingBlank"===event[1].type?"enter"===event[0]&&(!listItem||atMarker||containerBalance||firstBlankLineIndex||(firstBlankLineIndex=index),atMarker=void 0):"linePrefix"===event[1].type||"listItemValue"===event[1].type||"listItemMarker"===event[1].type||"listItemPrefix"===event[1].type||"listItemPrefixWhitespace"===event[1].type||(atMarker=void 0),!containerBalance&&"enter"===event[0]&&"listItemPrefix"===event[1].type||-1===containerBalance&&"exit"===event[0]&&("listUnordered"===event[1].type||"listOrdered"===event[1].type)){if(listItem){let tailIndex=index;for(lineIndex=void 0;tailIndex--;){const tailEvent=events[tailIndex];if("lineEnding"===tailEvent[1].type||"lineEndingBlank"===tailEvent[1].type){if("exit"===tailEvent[0])continue;lineIndex&&(events[lineIndex][1].type="lineEndingBlank",listSpread=!0),tailEvent[1].type="lineEnding",lineIndex=tailIndex}else if("linePrefix"!==tailEvent[1].type&&"blockQuotePrefix"!==tailEvent[1].type&&"blockQuotePrefixWhitespace"!==tailEvent[1].type&&"blockQuoteMarker"!==tailEvent[1].type&&"listItemIndent"!==tailEvent[1].type)break}firstBlankLineIndex&&(!lineIndex||firstBlankLineIndex<lineIndex)&&(listItem._spread=!0),listItem.end=Object.assign({},lineIndex?events[lineIndex][1].start:event[1].end),events.splice(lineIndex||index,0,["exit",listItem,event[2]]),index++,length++}"listItemPrefix"===event[1].type&&(listItem={type:"listItem",_spread:!1,start:Object.assign({},event[1].start),end:void 0},events.splice(index,0,["enter",listItem,event[2]]),index++,length++,firstBlankLineIndex=void 0,atMarker=!0)}}return events[start][1]._spread=listSpread,length}function setData(key,value){data[key]=value}function getData(key){return data[key]}function opener(create,and){return open;function open(token){enter.call(this,create(token),token),and&&and.call(this,token)}}function buffer(){this.stack.push({type:"fragment",children:[]})}function enter(node,token,errorHandler){return this.stack[this.stack.length-1].children.push(node),this.stack.push(node),this.tokenStack.push([token,errorHandler]),node.position={start:lib_point(token.start)},node}function closer(and){return close;function close(token){and&&and.call(this,token),exit.call(this,token)}}function exit(token,onExitError){const node=this.stack.pop(),open=this.tokenStack.pop();if(!open)throw new Error("Cannot close `"+token.type+"` ("+stringifyPosition({start:token.start,end:token.end})+"): its not open");if(open[0].type!==token.type)if(onExitError)onExitError.call(this,token,open[0]);else{(open[1]||defaultOnError).call(this,token,open[0])}return node.position.end=lib_point(token.end),node}function resume(){return function lib_toString(value,options){const settings=options||emptyOptions;return one(value,"boolean"!=typeof settings.includeImageAlt||settings.includeImageAlt,"boolean"!=typeof settings.includeHtml||settings.includeHtml)}(this.stack.pop())}function onenterlistordered(){setData("expectingFirstListItemValue",!0)}function onenterlistitemvalue(token){if(getData("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(token),10),setData("expectingFirstListItemValue")}}function onexitcodefencedfenceinfo(){const data=this.resume();this.stack[this.stack.length-1].lang=data}function onexitcodefencedfencemeta(){const data=this.resume();this.stack[this.stack.length-1].meta=data}function onexitcodefencedfence(){getData("flowCodeInside")||(this.buffer(),setData("flowCodeInside",!0))}function onexitcodefenced(){const data=this.resume();this.stack[this.stack.length-1].value=data.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),setData("flowCodeInside")}function onexitcodeindented(){const data=this.resume();this.stack[this.stack.length-1].value=data.replace(/(\r?\n|\r)$/g,"")}function onexitdefinitionlabelstring(token){const label=this.resume(),node=this.stack[this.stack.length-1];node.label=label,node.identifier=normalizeIdentifier(this.sliceSerialize(token)).toLowerCase()}function onexitdefinitiontitlestring(){const data=this.resume();this.stack[this.stack.length-1].title=data}function onexitdefinitiondestinationstring(){const data=this.resume();this.stack[this.stack.length-1].url=data}function onexitatxheadingsequence(token){const node=this.stack[this.stack.length-1];if(!node.depth){const depth=this.sliceSerialize(token).length;node.depth=depth}}function onexitsetextheadingtext(){setData("setextHeadingSlurpLineEnding",!0)}function onexitsetextheadinglinesequence(token){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(token).charCodeAt(0)?1:2}function onexitsetextheading(){setData("setextHeadingSlurpLineEnding")}function onenterdata(token){const node=this.stack[this.stack.length-1];let tail=node.children[node.children.length-1];tail&&"text"===tail.type||(tail=text(),tail.position={start:lib_point(token.start)},node.children.push(tail)),this.stack.push(tail)}function onexitdata(token){const tail=this.stack.pop();tail.value+=this.sliceSerialize(token),tail.position.end=lib_point(token.end)}function onexitlineending(token){const context=this.stack[this.stack.length-1];if(getData("atHardBreak")){return context.children[context.children.length-1].position.end=lib_point(token.end),void setData("atHardBreak")}!getData("setextHeadingSlurpLineEnding")&&config.canContainEols.includes(context.type)&&(onenterdata.call(this,token),onexitdata.call(this,token))}function onexithardbreak(){setData("atHardBreak",!0)}function onexithtmlflow(){const data=this.resume();this.stack[this.stack.length-1].value=data}function onexithtmltext(){const data=this.resume();this.stack[this.stack.length-1].value=data}function onexitcodetext(){const data=this.resume();this.stack[this.stack.length-1].value=data}function onexitlink(){const node=this.stack[this.stack.length-1];if(getData("inReference")){const referenceType=getData("referenceType")||"shortcut";node.type+="Reference",node.referenceType=referenceType,delete node.url,delete node.title}else delete node.identifier,delete node.label;setData("referenceType")}function onexitimage(){const node=this.stack[this.stack.length-1];if(getData("inReference")){const referenceType=getData("referenceType")||"shortcut";node.type+="Reference",node.referenceType=referenceType,delete node.url,delete node.title}else delete node.identifier,delete node.label;setData("referenceType")}function onexitlabeltext(token){const string=this.sliceSerialize(token),ancestor=this.stack[this.stack.length-2];ancestor.label=function decodeString(value){return value.replace(characterEscapeOrReference,decode)}(string),ancestor.identifier=normalizeIdentifier(string).toLowerCase()}function onexitlabel(){const fragment=this.stack[this.stack.length-1],value=this.resume(),node=this.stack[this.stack.length-1];if(setData("inReference",!0),"link"===node.type){const children=fragment.children;node.children=children}else node.alt=value}function onexitresourcedestinationstring(){const data=this.resume();this.stack[this.stack.length-1].url=data}function onexitresourcetitlestring(){const data=this.resume();this.stack[this.stack.length-1].title=data}function onexitresource(){setData("inReference")}function onenterreference(){setData("referenceType","collapsed")}function onexitreferencestring(token){const label=this.resume(),node=this.stack[this.stack.length-1];node.label=label,node.identifier=normalizeIdentifier(this.sliceSerialize(token)).toLowerCase(),setData("referenceType","full")}function onexitcharacterreferencemarker(token){setData("characterReferenceType",token.type)}function onexitcharacterreferencevalue(token){const data=this.sliceSerialize(token),type=getData("characterReferenceType");let value;if(type)value=decodeNumericCharacterReference(data,"characterReferenceMarkerNumeric"===type?10:16),setData("characterReferenceType");else{value=decodeNamedCharacterReference(data)}const tail=this.stack.pop();tail.value+=value,tail.position.end=lib_point(token.end)}function onexitautolinkprotocol(token){onexitdata.call(this,token);this.stack[this.stack.length-1].url=this.sliceSerialize(token)}function onexitautolinkemail(token){onexitdata.call(this,token);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(token)}function blockQuote(){return{type:"blockquote",children:[]}}function codeFlow(){return{type:"code",lang:null,meta:null,value:""}}function codeText(){return{type:"inlineCode",value:""}}function definition(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function emphasis(){return{type:"emphasis",children:[]}}function heading(){return{type:"heading",depth:void 0,children:[]}}function hardBreak(){return{type:"break"}}function html(){return{type:"html",value:""}}function image(){return{type:"image",title:null,url:"",alt:null}}function link(){return{type:"link",title:null,url:"",children:[]}}function list(token){return{type:"list",ordered:"listOrdered"===token.type,start:null,spread:token._spread,children:[]}}function listItem(token){return{type:"listItem",spread:token._spread,checked:null,children:[]}}function paragraph(){return{type:"paragraph",children:[]}}function strong(){return{type:"strong",children:[]}}function text(){return{type:"text",value:""}}function thematicBreak(){return{type:"thematicBreak"}}}(options)(function postprocess(events){for(;!subtokenize(events););return events}(parse(options).document().write(function preprocess(){let atCarriageReturn,column=1,buffer="",start=!0;return function preprocessor(value,encoding,end){const chunks=[];let match,next,startPosition,endPosition,code;for(value=buffer+value.toString(encoding),startPosition=0,buffer="",start&&(65279===value.charCodeAt(0)&&startPosition++,start=void 0);startPosition<value.length;){if(search.lastIndex=startPosition,match=search.exec(value),endPosition=match&&void 0!==match.index?match.index:value.length,code=value.charCodeAt(endPosition),!match){buffer=value.slice(startPosition);break}if(10===code&&startPosition===endPosition&&atCarriageReturn)chunks.push(-3),atCarriageReturn=void 0;else switch(atCarriageReturn&&(chunks.push(-5),atCarriageReturn=void 0),startPosition<endPosition&&(chunks.push(value.slice(startPosition,endPosition)),column+=endPosition-startPosition),code){case 0:chunks.push(65533),column++;break;case 9:for(next=4*Math.ceil(column/4),chunks.push(-2);column++<next;)chunks.push(-1);break;case 10:chunks.push(-4),column=1;break;default:atCarriageReturn=!0,column=1}startPosition=endPosition+1}return end&&(atCarriageReturn&&chunks.push(-5),buffer&&chunks.push(buffer),chunks.push(null)),chunks}}()(value,encoding,!0))))};function lib_point(d){return{line:d.line,column:d.column,offset:d.offset}}function configure(combined,extensions){let index=-1;for(;++index<extensions.length;){const value=extensions[index];Array.isArray(value)?configure(combined,value):extension(combined,value)}}function extension(combined,extension){let key;for(key in extension)if(lib_own.call(extension,key))if("canContainEols"===key){const right=extension[key];right&&combined[key].push(...right)}else if("transforms"===key){const right=extension[key];right&&combined[key].push(...right)}else if("enter"===key||"exit"===key){const right=extension[key];right&&Object.assign(combined[key],right)}}function defaultOnError(left,right){throw left?new Error("Cannot close `"+left.type+"` ("+stringifyPosition({start:left.start,end:left.end})+"): a different token (`"+right.type+"`, "+stringifyPosition({start:right.start,end:right.end})+") is open"):new Error("Cannot close document, a token (`"+right.type+"`, "+stringifyPosition({start:right.start,end:right.end})+") is still open")}function remarkParse(options){Object.assign(this,{Parser:doc=>{const settings=this.data("settings");return fromMarkdown(doc,Object.assign({},settings,options,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function normalizeUri(value){const result=[];let index=-1,start=0,skip=0;for(;++index<value.length;){const code=value.charCodeAt(index);let replace="";if(37===code&&asciiAlphanumeric(value.charCodeAt(index+1))&&asciiAlphanumeric(value.charCodeAt(index+2)))skip=2;else if(code<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(code))||(replace=String.fromCharCode(code));else if(code>55295&&code<57344){const next=value.charCodeAt(index+1);code<56320&&next>56319&&next<57344?(replace=String.fromCharCode(code,next),skip=1):replace=""}else replace=String.fromCharCode(code);replace&&(result.push(value.slice(start,index),encodeURIComponent(replace)),start=index+skip+1,replace=""),skip&&(index+=skip,skip=0)}return result.join("")+value.slice(start)}const convert=function(test){if(null==test)return ok;if("string"==typeof test)return function typeFactory(check){return castFactory(type);function type(node){return node&&node.type===check}}(test);if("object"==typeof test)return Array.isArray(test)?function anyFactory(tests){const checks=[];let index=-1;for(;++index<tests.length;)checks[index]=convert(tests[index]);return castFactory(any);function any(...parameters){let index=-1;for(;++index<checks.length;)if(checks[index].call(this,...parameters))return!0;return!1}}(test):function propsFactory(check){return castFactory(all);function all(node){let key;for(key in check)if(node[key]!==check[key])return!1;return!0}}(test);if("function"==typeof test)return castFactory(test);throw new Error("Expected function, string, or object as test")};function castFactory(check){return function assertion(node,...parameters){return Boolean(node&&"object"==typeof node&&"type"in node&&Boolean(check.call(this,node,...parameters)))}}function ok(){return!0}const visitParents=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null);const is=convert(test),step=reverse?-1:1;!function factory(node,index,parents){const value=node&&"object"==typeof node?node:{};if("string"==typeof value.type){const name="string"==typeof value.tagName?value.tagName:"string"==typeof value.name?value.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+node.type+(name?"<"+name+">":"")+")"})}return visit;function visit(){let subresult,offset,grandparents,result=[];if((!test||is(node,index,parents[parents.length-1]||null))&&(result=function toResult(value){if(Array.isArray(value))return value;if("number"==typeof value)return[true,value];return[value]}(visitor(node,parents)),false===result[0]))return result;if(node.children&&"skip"!==result[0])for(offset=(reverse?node.children.length:-1)+step,grandparents=parents.concat(node);offset>-1&&offset<node.children.length;){if(subresult=factory(node.children[offset],offset,grandparents)(),false===subresult[0])return subresult;offset="number"==typeof subresult[1]?subresult[1]:offset+step}return result}}(tree,void 0,[])()};const visit=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null),visitParents(tree,test,(function overload(node,parents){const parent=parents[parents.length-1];return visitor(node,parent?parent.children.indexOf(node):null,parent)}),reverse)},pointStart=unist_util_position_lib_point("start"),pointEnd=unist_util_position_lib_point("end");function unist_util_position_lib_point(type){return function point(node){const point=node&&node.position&&node.position[type]||{};return{line:point.line||null,column:point.column||null,offset:point.offset>-1?point.offset:null}}}const mdast_util_definitions_lib_own={}.hasOwnProperty;function clean(value){return String(value||"").toUpperCase()}function footnoteReference(state,node){const id=String(node.identifier).toUpperCase(),safeId=normalizeUri(id.toLowerCase()),index=state.footnoteOrder.indexOf(id);let counter;-1===index?(state.footnoteOrder.push(id),state.footnoteCounts[id]=1,counter=state.footnoteOrder.length):(state.footnoteCounts[id]++,counter=index+1);const reuseCounter=state.footnoteCounts[id],link={type:"element",tagName:"a",properties:{href:"#"+state.clobberPrefix+"fn-"+safeId,id:state.clobberPrefix+"fnref-"+safeId+(reuseCounter>1?"-"+reuseCounter:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(counter)}]};state.patch(node,link);const sup={type:"element",tagName:"sup",properties:{},children:[link]};return state.patch(node,sup),state.applyData(node,sup)}function revert(state,node){const subtype=node.referenceType;let suffix="]";if("collapsed"===subtype?suffix+="[]":"full"===subtype&&(suffix+="["+(node.label||node.identifier)+"]"),"imageReference"===node.type)return{type:"text",value:"!["+node.alt+suffix};const contents=state.all(node),head=contents[0];head&&"text"===head.type?head.value="["+head.value:contents.unshift({type:"text",value:"["});const tail=contents[contents.length-1];return tail&&"text"===tail.type?tail.value+=suffix:contents.push({type:"text",value:suffix}),contents}function listItemLoose(node){const spread=node.spread;return null==spread?node.children.length>1:spread}const tab=9,space=32;function trimLines(value){const source=String(value),search=/\r?\n|\r/g;let match=search.exec(source),last=0;const lines=[];for(;match;)lines.push(trimLine(source.slice(last,match.index),last>0,!0),match[0]),last=match.index+match[0].length,match=search.exec(source);return lines.push(trimLine(source.slice(last),last>0,!1)),lines.join("")}function trimLine(value,start,end){let startIndex=0,endIndex=value.length;if(start){let code=value.codePointAt(startIndex);for(;code===tab||code===space;)startIndex++,code=value.codePointAt(startIndex)}if(end){let code=value.codePointAt(endIndex-1);for(;code===tab||code===space;)endIndex--,code=value.codePointAt(endIndex-1)}return endIndex>startIndex?value.slice(startIndex,endIndex):""}const handlers={blockquote:function blockquote(state,node){const result={type:"element",tagName:"blockquote",properties:{},children:state.wrap(state.all(node),!0)};return state.patch(node,result),state.applyData(node,result)},break:function hardBreak(state,node){const result={type:"element",tagName:"br",properties:{},children:[]};return state.patch(node,result),[state.applyData(node,result),{type:"text",value:"\n"}]},code:function code(state,node){const value=node.value?node.value+"\n":"",lang=node.lang?node.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,properties={};lang&&(properties.className=["language-"+lang]);let result={type:"element",tagName:"code",properties,children:[{type:"text",value}]};return node.meta&&(result.data={meta:node.meta}),state.patch(node,result),result=state.applyData(node,result),result={type:"element",tagName:"pre",properties:{},children:[result]},state.patch(node,result),result},delete:function strikethrough(state,node){const result={type:"element",tagName:"del",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},emphasis:function emphasis(state,node){const result={type:"element",tagName:"em",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},footnoteReference,footnote:function footnote(state,node){const footnoteById=state.footnoteById;let no=1;for(;no in footnoteById;)no++;const identifier=String(no);return footnoteById[identifier]={type:"footnoteDefinition",identifier,children:[{type:"paragraph",children:node.children}],position:node.position},footnoteReference(state,{type:"footnoteReference",identifier,position:node.position})},heading:function heading(state,node){const result={type:"element",tagName:"h"+node.depth,properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},html:function html(state,node){if(state.dangerous){const result={type:"raw",value:node.value};return state.patch(node,result),state.applyData(node,result)}return null},imageReference:function imageReference(state,node){const def=state.definition(node.identifier);if(!def)return revert(state,node);const properties={src:normalizeUri(def.url||""),alt:node.alt};null!==def.title&&void 0!==def.title&&(properties.title=def.title);const result={type:"element",tagName:"img",properties,children:[]};return state.patch(node,result),state.applyData(node,result)},image:function image_image(state,node){const properties={src:normalizeUri(node.url)};null!==node.alt&&void 0!==node.alt&&(properties.alt=node.alt),null!==node.title&&void 0!==node.title&&(properties.title=node.title);const result={type:"element",tagName:"img",properties,children:[]};return state.patch(node,result),state.applyData(node,result)},inlineCode:function inlineCode(state,node){const text={type:"text",value:node.value.replace(/\r?\n|\r/g," ")};state.patch(node,text);const result={type:"element",tagName:"code",properties:{},children:[text]};return state.patch(node,result),state.applyData(node,result)},linkReference:function linkReference(state,node){const def=state.definition(node.identifier);if(!def)return revert(state,node);const properties={href:normalizeUri(def.url||"")};null!==def.title&&void 0!==def.title&&(properties.title=def.title);const result={type:"element",tagName:"a",properties,children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},link:function link_link(state,node){const properties={href:normalizeUri(node.url)};null!==node.title&&void 0!==node.title&&(properties.title=node.title);const result={type:"element",tagName:"a",properties,children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},listItem:function listItem(state,node,parent){const results=state.all(node),loose=parent?function listLoose(node){let loose=!1;if("list"===node.type){loose=node.spread||!1;const children=node.children;let index=-1;for(;!loose&&++index<children.length;)loose=listItemLoose(children[index])}return loose}(parent):listItemLoose(node),properties={},children=[];if("boolean"==typeof node.checked){const head=results[0];let paragraph;head&&"element"===head.type&&"p"===head.tagName?paragraph=head:(paragraph={type:"element",tagName:"p",properties:{},children:[]},results.unshift(paragraph)),paragraph.children.length>0&&paragraph.children.unshift({type:"text",value:" "}),paragraph.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:node.checked,disabled:!0},children:[]}),properties.className=["task-list-item"]}let index=-1;for(;++index<results.length;){const child=results[index];(loose||0!==index||"element"!==child.type||"p"!==child.tagName)&&children.push({type:"text",value:"\n"}),"element"!==child.type||"p"!==child.tagName||loose?children.push(child):children.push(...child.children)}const tail=results[results.length-1];tail&&(loose||"element"!==tail.type||"p"!==tail.tagName)&&children.push({type:"text",value:"\n"});const result={type:"element",tagName:"li",properties,children};return state.patch(node,result),state.applyData(node,result)},list:function list_list(state,node){const properties={},results=state.all(node);let index=-1;for("number"==typeof node.start&&1!==node.start&&(properties.start=node.start);++index<results.length;){const child=results[index];if("element"===child.type&&"li"===child.tagName&&child.properties&&Array.isArray(child.properties.className)&&child.properties.className.includes("task-list-item")){properties.className=["contains-task-list"];break}}const result={type:"element",tagName:node.ordered?"ol":"ul",properties,children:state.wrap(results,!0)};return state.patch(node,result),state.applyData(node,result)},paragraph:function paragraph(state,node){const result={type:"element",tagName:"p",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},root:function root(state,node){const result={type:"root",children:state.wrap(state.all(node))};return state.patch(node,result),state.applyData(node,result)},strong:function strong(state,node){const result={type:"element",tagName:"strong",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},table:function table(state,node){const rows=state.all(node),firstRow=rows.shift(),tableContent=[];if(firstRow){const head={type:"element",tagName:"thead",properties:{},children:state.wrap([firstRow],!0)};state.patch(node.children[0],head),tableContent.push(head)}if(rows.length>0){const body={type:"element",tagName:"tbody",properties:{},children:state.wrap(rows,!0)},start=pointStart(node.children[1]),end=pointEnd(node.children[node.children.length-1]);start.line&&end.line&&(body.position={start,end}),tableContent.push(body)}const result={type:"element",tagName:"table",properties:{},children:state.wrap(tableContent,!0)};return state.patch(node,result),state.applyData(node,result)},tableCell:function tableCell(state,node){const result={type:"element",tagName:"td",properties:{},children:state.all(node)};return state.patch(node,result),state.applyData(node,result)},tableRow:function tableRow(state,node,parent){const siblings=parent?parent.children:void 0,tagName=0===(siblings?siblings.indexOf(node):1)?"th":"td",align=parent&&"table"===parent.type?parent.align:void 0,length=align?align.length:node.children.length;let cellIndex=-1;const cells=[];for(;++cellIndex<length;){const cell=node.children[cellIndex],properties={},alignValue=align?align[cellIndex]:void 0;alignValue&&(properties.align=alignValue);let result={type:"element",tagName,properties,children:[]};cell&&(result.children=state.all(cell),state.patch(cell,result),result=state.applyData(node,result)),cells.push(result)}const result={type:"element",tagName:"tr",properties:{},children:state.wrap(cells,!0)};return state.patch(node,result),state.applyData(node,result)},text:function handlers_text_text(state,node){const result={type:"text",value:trimLines(String(node.value))};return state.patch(node,result),state.applyData(node,result)},thematicBreak:function thematic_break_thematicBreak(state,node){const result={type:"element",tagName:"hr",properties:{},children:[]};return state.patch(node,result),state.applyData(node,result)},toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){return null}const state_own={}.hasOwnProperty;function createState(tree,options){const settings=options||{},dangerous=settings.allowDangerousHtml||!1,footnoteById={};return state.dangerous=dangerous,state.clobberPrefix=void 0===settings.clobberPrefix||null===settings.clobberPrefix?"user-content-":settings.clobberPrefix,state.footnoteLabel=settings.footnoteLabel||"Footnotes",state.footnoteLabelTagName=settings.footnoteLabelTagName||"h2",state.footnoteLabelProperties=settings.footnoteLabelProperties||{className:["sr-only"]},state.footnoteBackLabel=settings.footnoteBackLabel||"Back to content",state.unknownHandler=settings.unknownHandler,state.passThrough=settings.passThrough,state.handlers={...handlers,...settings.handlers},state.definition=function definitions(tree){const cache=Object.create(null);if(!tree||!tree.type)throw new Error("mdast-util-definitions expected node");return visit(tree,"definition",(definition=>{const id=clean(definition.identifier);id&&!mdast_util_definitions_lib_own.call(cache,id)&&(cache[id]=definition)})),function definition(identifier){const id=clean(identifier);return id&&mdast_util_definitions_lib_own.call(cache,id)?cache[id]:null}}(tree),state.footnoteById=footnoteById,state.footnoteOrder=[],state.footnoteCounts={},state.patch=patch,state.applyData=applyData,state.one=function oneBound(node,parent){return state_one(state,node,parent)},state.all=function allBound(parent){return state_all(state,parent)},state.wrap=state_wrap,state.augment=augment,visit(tree,"footnoteDefinition",(definition=>{const id=String(definition.identifier).toUpperCase();state_own.call(footnoteById,id)||(footnoteById[id]=definition)})),state;function augment(left,right){if(left&&"data"in left&&left.data){const data=left.data;data.hName&&("element"!==right.type&&(right={type:"element",tagName:"",properties:{},children:[]}),right.tagName=data.hName),"element"===right.type&&data.hProperties&&(right.properties={...right.properties,...data.hProperties}),"children"in right&&right.children&&data.hChildren&&(right.children=data.hChildren)}if(left){const ctx="type"in left?left:{position:left};(function generated(node){return!(node&&node.position&&node.position.start&&node.position.start.line&&node.position.start.column&&node.position.end&&node.position.end.line&&node.position.end.column)})(ctx)||(right.position={start:pointStart(ctx),end:pointEnd(ctx)})}return right}function state(node,tagName,props,children){return Array.isArray(props)&&(children=props,props={}),augment(node,{type:"element",tagName,properties:props||{},children:children||[]})}}function patch(from,to){from.position&&(to.position=function lib_position(node){return{start:pointStart(node),end:pointEnd(node)}}(from))}function applyData(from,to){let result=to;if(from&&from.data){const hName=from.data.hName,hChildren=from.data.hChildren,hProperties=from.data.hProperties;"string"==typeof hName&&("element"===result.type?result.tagName=hName:result={type:"element",tagName:hName,properties:{},children:[]}),"element"===result.type&&hProperties&&(result.properties={...result.properties,...hProperties}),"children"in result&&result.children&&null!=hChildren&&(result.children=hChildren)}return result}function state_one(state,node,parent){const type=node&&node.type;if(!type)throw new Error("Expected node, got `"+node+"`");return state_own.call(state.handlers,type)?state.handlers[type](state,node,parent):state.passThrough&&state.passThrough.includes(type)?"children"in node?{...node,children:state_all(state,node)}:node:state.unknownHandler?state.unknownHandler(state,node,parent):function defaultUnknownHandler(state,node){const data=node.data||{},result=!("value"in node)||state_own.call(data,"hProperties")||state_own.call(data,"hChildren")?{type:"element",tagName:"div",properties:{},children:state_all(state,node)}:{type:"text",value:node.value};return state.patch(node,result),state.applyData(node,result)}(state,node)}function state_all(state,parent){const values=[];if("children"in parent){const nodes=parent.children;let index=-1;for(;++index<nodes.length;){const result=state_one(state,nodes[index],parent);if(result){if(index&&"break"===nodes[index-1].type&&(Array.isArray(result)||"text"!==result.type||(result.value=result.value.replace(/^\s+/,"")),!Array.isArray(result)&&"element"===result.type)){const head=result.children[0];head&&"text"===head.type&&(head.value=head.value.replace(/^\s+/,""))}Array.isArray(result)?values.push(...result):values.push(result)}}}return values}function state_wrap(nodes,loose){const result=[];let index=-1;for(loose&&result.push({type:"text",value:"\n"});++index<nodes.length;)index&&result.push({type:"text",value:"\n"}),result.push(nodes[index]);return loose&&nodes.length>0&&result.push({type:"text",value:"\n"}),result}function toHast(tree,options){const state=createState(tree,options),node=state.one(tree,null),foot=function footer(state){const listItems=[];let index=-1;for(;++index<state.footnoteOrder.length;){const def=state.footnoteById[state.footnoteOrder[index]];if(!def)continue;const content=state.all(def),id=String(def.identifier).toUpperCase(),safeId=normalizeUri(id.toLowerCase());let referenceIndex=0;const backReferences=[];for(;++referenceIndex<=state.footnoteCounts[id];){const backReference={type:"element",tagName:"a",properties:{href:"#"+state.clobberPrefix+"fnref-"+safeId+(referenceIndex>1?"-"+referenceIndex:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:state.footnoteBackLabel},children:[{type:"text",value:""}]};referenceIndex>1&&backReference.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(referenceIndex)}]}),backReferences.length>0&&backReferences.push({type:"text",value:" "}),backReferences.push(backReference)}const tail=content[content.length-1];if(tail&&"element"===tail.type&&"p"===tail.tagName){const tailTail=tail.children[tail.children.length-1];tailTail&&"text"===tailTail.type?tailTail.value+=" ":tail.children.push({type:"text",value:" "}),tail.children.push(...backReferences)}else content.push(...backReferences);const listItem={type:"element",tagName:"li",properties:{id:state.clobberPrefix+"fn-"+safeId},children:state.wrap(content,!0)};state.patch(def,listItem),listItems.push(listItem)}if(0!==listItems.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:state.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(state.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:state.footnoteLabel}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:state.wrap(listItems,!0)},{type:"text",value:"\n"}]}}(state);return foot&&node.children.push({type:"text",value:"\n"},foot),Array.isArray(node)?{type:"root",children:node}:node}const lib=function(destination,options){return destination&&"run"in destination?function bridge(destination,options){return(node,file,next)=>{destination.run(toHast(node,options),file,(error=>{next(error)}))}}(destination,options):function mutate(options){return node=>toHast(node,options)}(destination||options)};var prop_types=__webpack_require__("./node_modules/prop-types/index.js");class Schema{constructor(property,normal,space){this.property=property,this.normal=normal,space&&(this.space=space)}}function merge(definitions,space){const property={},normal={};let index=-1;for(;++index<definitions.length;)Object.assign(property,definitions[index].property),Object.assign(normal,definitions[index].normal);return new Schema(property,normal,space)}function normalize_normalize(value){return value.toLowerCase()}Schema.prototype.property={},Schema.prototype.normal={},Schema.prototype.space=null;class Info{constructor(property,attribute){this.property=property,this.attribute=attribute}}Info.prototype.space=null,Info.prototype.boolean=!1,Info.prototype.booleanish=!1,Info.prototype.overloadedBoolean=!1,Info.prototype.number=!1,Info.prototype.commaSeparated=!1,Info.prototype.spaceSeparated=!1,Info.prototype.commaOrSpaceSeparated=!1,Info.prototype.mustUseProperty=!1,Info.prototype.defined=!1;let powers=0;const types_boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const checks=Object.keys(types_namespaceObject);class DefinedInfo extends Info{constructor(property,attribute,mask,space){let index=-1;if(super(property,attribute),mark(this,"space",space),"number"==typeof mask)for(;++index<checks.length;){const check=checks[index];mark(this,checks[index],(mask&types_namespaceObject[check])===types_namespaceObject[check])}}}function mark(values,key,value){value&&(values[key]=value)}DefinedInfo.prototype.defined=!0;const create_own={}.hasOwnProperty;function create(definition){const property={},normal={};let prop;for(prop in definition.properties)if(create_own.call(definition.properties,prop)){const value=definition.properties[prop],info=new DefinedInfo(prop,definition.transform(definition.attributes||{},prop),value,definition.space);definition.mustUseProperty&&definition.mustUseProperty.includes(prop)&&(info.mustUseProperty=!0),property[prop]=info,normal[normalize_normalize(prop)]=prop,normal[normalize_normalize(info.attribute)]=prop}return new Schema(property,normal,definition.space)}const xlink=create({space:"xlink",transform:(_,prop)=>"xlink:"+prop.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),xml=create({space:"xml",transform:(_,prop)=>"xml:"+prop.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function caseSensitiveTransform(attributes,attribute){return attribute in attributes?attributes[attribute]:attribute}function caseInsensitiveTransform(attributes,property){return caseSensitiveTransform(attributes,property.toLowerCase())}const xmlns=create({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:caseInsensitiveTransform,properties:{xmlns:null,xmlnsXLink:null}}),aria=create({transform:(_,prop)=>"role"===prop?prop:"aria-"+prop.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null}}),html_html=create({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:caseInsensitiveTransform,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:types_boolean,allowPaymentRequest:types_boolean,allowUserMedia:types_boolean,alt:null,as:null,async:types_boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:types_boolean,autoPlay:types_boolean,capture:types_boolean,charSet:null,checked:types_boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:types_boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:types_boolean,defer:types_boolean,dir:null,dirName:null,disabled:types_boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:types_boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:types_boolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:types_boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:types_boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:types_boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:types_boolean,muted:types_boolean,name:null,nonce:null,noModule:types_boolean,noValidate:types_boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:types_boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:types_boolean,poster:null,preload:null,readOnly:types_boolean,referrerPolicy:null,rel:spaceSeparated,required:types_boolean,reversed:types_boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:types_boolean,seamless:types_boolean,selected:types_boolean,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:types_boolean,useMap:null,value:booleanish,width:number,wrap:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:types_boolean,declare:types_boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:types_boolean,noHref:types_boolean,noShade:types_boolean,noWrap:types_boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:types_boolean,disableRemotePlayback:types_boolean,prefix:null,property:null,results:number,security:null,unselectable:null}}),svg=create({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:caseSensitiveTransform,properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:types_boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),property_information_html=merge([xml,xlink,xmlns,aria,html_html],"html"),property_information_svg=merge([xml,xlink,xmlns,aria,svg],"svg"),lib_convert=function(test){if(null==test)return lib_ok;if("string"==typeof test)return function lib_typeFactory(check){return lib_castFactory(type);function type(node){return node&&node.type===check}}(test);if("object"==typeof test)return Array.isArray(test)?function lib_anyFactory(tests){const checks=[];let index=-1;for(;++index<tests.length;)checks[index]=lib_convert(tests[index]);return lib_castFactory(any);function any(...parameters){let index=-1;for(;++index<checks.length;)if(checks[index].call(this,...parameters))return!0;return!1}}(test):function lib_propsFactory(check){return lib_castFactory(all);function all(node){let key;for(key in check)if(node[key]!==check[key])return!1;return!0}}(test);if("function"==typeof test)return lib_castFactory(test);throw new Error("Expected function, string, or object as test")};function lib_castFactory(check){return function assertion(node,...parameters){return Boolean(node&&"object"==typeof node&&"type"in node&&Boolean(check.call(this,node,...parameters)))}}function lib_ok(){return!0}const lib_visitParents=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null);const is=lib_convert(test),step=reverse?-1:1;!function factory(node,index,parents){const value=node&&"object"==typeof node?node:{};if("string"==typeof value.type){const name="string"==typeof value.tagName?value.tagName:"string"==typeof value.name?value.name:void 0;Object.defineProperty(visit,"name",{value:"node ("+node.type+(name?"<"+name+">":"")+")"})}return visit;function visit(){let subresult,offset,grandparents,result=[];if((!test||is(node,index,parents[parents.length-1]||null))&&(result=function lib_toResult(value){if(Array.isArray(value))return value;if("number"==typeof value)return[true,value];return[value]}(visitor(node,parents)),false===result[0]))return result;if(node.children&&"skip"!==result[0])for(offset=(reverse?node.children.length:-1)+step,grandparents=parents.concat(node);offset>-1&&offset<node.children.length;){if(subresult=factory(node.children[offset],offset,grandparents)(),false===subresult[0])return subresult;offset="number"==typeof subresult[1]?subresult[1]:offset+step}return result}}(tree,void 0,[])()};const lib_visit=function(tree,test,visitor,reverse){"function"==typeof test&&"function"!=typeof visitor&&(reverse=visitor,visitor=test,test=null),lib_visitParents(tree,test,(function overload(node,parents){const parent=parents[parents.length-1];return visitor(node,parent?parent.children.indexOf(node):null,parent)}),reverse)};function rehypeFilter(options){if(options.allowedElements&&options.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(options.allowedElements||options.disallowedElements||options.allowElement)return tree=>{lib_visit(tree,"element",((node,index,parent_)=>{const parent=parent_;let remove;if(options.allowedElements?remove=!options.allowedElements.includes(node.tagName):options.disallowedElements&&(remove=options.disallowedElements.includes(node.tagName)),!remove&&options.allowElement&&"number"==typeof index&&(remove=!options.allowElement(node,index,parent)),remove&&"number"==typeof index)return options.unwrapDisallowed&&node.children?parent.children.splice(index,1,...node.children):parent.children.splice(index,1),index}))}}var react_is=__webpack_require__("./node_modules/react-is/index.js");function whitespace(thing){const value=thing&&"object"==typeof thing&&"text"===thing.type?thing.value||"":thing;return"string"==typeof value&&""===value.replace(/[ \t\n\f\r]/g,"")}const valid=/^data[-\w.:]+$/i,dash=/-[a-z]/g,cap=/[A-Z]/g;function kebab($0){return"-"+$0.toLowerCase()}function camelcase($0){return $0.charAt(1).toUpperCase()}const hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};const node_modules_style_to_object=__webpack_require__("./node_modules/style-to-object/index.js"),protocols=["http","https","mailto","tel"];function uriTransformer(uri){const url=(uri||"").trim(),first=url.charAt(0);if("#"===first||"/"===first)return url;const colon=url.indexOf(":");if(-1===colon)return url;let index=-1;for(;++index<protocols.length;){const protocol=protocols[index];if(colon===protocol.length&&url.slice(0,protocol.length).toLowerCase()===protocol)return url}return index=url.indexOf("?"),-1!==index&&colon>index?url:(index=url.indexOf("#"),-1!==index&&colon>index?url:"javascript:void(0)")}const ast_to_react_own={}.hasOwnProperty,tableElements=new Set(["table","thead","tbody","tfoot","tr"]);function childrenToReact(context,node){const children=[];let child,childIndex=-1;for(;++childIndex<node.children.length;)child=node.children[childIndex],"element"===child.type?children.push(toReact(context,child,childIndex,node)):"text"===child.type?"element"===node.type&&tableElements.has(node.tagName)&&whitespace(child)||children.push(child.value):"raw"!==child.type||context.options.skipHtml||children.push(child.value);return children}function toReact(context,node,index,parent){const options=context.options,transform=void 0===options.transformLinkUri?uriTransformer:options.transformLinkUri,parentSchema=context.schema,name=node.tagName,properties={};let property,schema=parentSchema;if("html"===parentSchema.space&&"svg"===name&&(schema=property_information_svg,context.schema=schema),node.properties)for(property in node.properties)ast_to_react_own.call(node.properties,property)&&addProperty(properties,property,node.properties[property],context);"ol"!==name&&"ul"!==name||context.listDepth++;const children=childrenToReact(context,node);"ol"!==name&&"ul"!==name||context.listDepth--,context.schema=parentSchema;const position=node.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},component=options.components&&ast_to_react_own.call(options.components,name)?options.components[name]:name,basic="string"==typeof component||component===react.Fragment;if(!react_is.isValidElementType(component))throw new TypeError(`Component for name \`${name}\` not defined or is not renderable`);if(properties.key=index,"a"===name&&options.linkTarget&&(properties.target="function"==typeof options.linkTarget?options.linkTarget(String(properties.href||""),node.children,"string"==typeof properties.title?properties.title:null):options.linkTarget),"a"===name&&transform&&(properties.href=transform(String(properties.href||""),node.children,"string"==typeof properties.title?properties.title:null)),basic||"code"!==name||"element"!==parent.type||"pre"===parent.tagName||(properties.inline=!0),basic||"h1"!==name&&"h2"!==name&&"h3"!==name&&"h4"!==name&&"h5"!==name&&"h6"!==name||(properties.level=Number.parseInt(name.charAt(1),10)),"img"===name&&options.transformImageUri&&(properties.src=options.transformImageUri(String(properties.src||""),String(properties.alt||""),"string"==typeof properties.title?properties.title:null)),!basic&&"li"===name&&"element"===parent.type){const input=function getInputElement(node){let index=-1;for(;++index<node.children.length;){const child=node.children[index];if("element"===child.type&&"input"===child.tagName)return child}return null}(node);properties.checked=input&&input.properties?Boolean(input.properties.checked):null,properties.index=getElementsBeforeCount(parent,node),properties.ordered="ol"===parent.tagName}return basic||"ol"!==name&&"ul"!==name||(properties.ordered="ol"===name,properties.depth=context.listDepth),"td"!==name&&"th"!==name||(properties.align&&(properties.style||(properties.style={}),properties.style.textAlign=properties.align,delete properties.align),basic||(properties.isHeader="th"===name)),basic||"tr"!==name||"element"!==parent.type||(properties.isHeader=Boolean("thead"===parent.tagName)),options.sourcePos&&(properties["data-sourcepos"]=function flattenPosition(pos){return[pos.start.line,":",pos.start.column,"-",pos.end.line,":",pos.end.column].map(String).join("")}(position)),!basic&&options.rawSourcePos&&(properties.sourcePosition=node.position),!basic&&options.includeElementIndex&&(properties.index=getElementsBeforeCount(parent,node),properties.siblingCount=getElementsBeforeCount(parent)),basic||(properties.node=node),children.length>0?react.createElement(component,properties,children):react.createElement(component,properties)}function getElementsBeforeCount(parent,node){let index=-1,count=0;for(;++index<parent.children.length&&parent.children[index]!==node;)"element"===parent.children[index].type&&count++;return count}function addProperty(props,prop,value,ctx){const info=function find(schema,value){const normal=normalize_normalize(value);let prop=value,Type=Info;if(normal in schema.normal)return schema.property[schema.normal[normal]];if(normal.length>4&&"data"===normal.slice(0,4)&&valid.test(value)){if("-"===value.charAt(4)){const rest=value.slice(5).replace(dash,camelcase);prop="data"+rest.charAt(0).toUpperCase()+rest.slice(1)}else{const rest=value.slice(4);if(!dash.test(rest)){let dashes=rest.replace(cap,kebab);"-"!==dashes.charAt(0)&&(dashes="-"+dashes),value="data"+dashes}}Type=DefinedInfo}return new Type(prop,value)}(ctx.schema,prop);let result=value;null!=result&&result==result&&(Array.isArray(result)&&(result=info.commaSeparated?function comma_separated_tokens_stringify(values,options){const settings=options||{};return(""===values[values.length-1]?[...values,""]:values).join((settings.padRight?" ":"")+","+(!1===settings.padLeft?"":" ")).trim()}(result):function stringify(values){return values.join(" ").trim()}(result)),"style"===info.property&&"string"==typeof result&&(result=function parseStyle(value){const result={};try{node_modules_style_to_object(value,iterator)}catch{}return result;function iterator(name,v){const k="-ms-"===name.slice(0,4)?`ms-${name.slice(4)}`:name;result[k.replace(/-([a-z])/g,styleReplacer)]=v}}(result)),info.space&&info.property?props[ast_to_react_own.call(hastToReact,info.property)?hastToReact[info.property]:info.property]=result:info.attribute&&(props[info.attribute]=result))}function styleReplacer(_,$1){return $1.toUpperCase()}const react_markdown_own={}.hasOwnProperty,changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",deprecated={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function ReactMarkdown(options){for(const key in deprecated)if(react_markdown_own.call(deprecated,key)&&react_markdown_own.call(options,key)){const deprecation=deprecated[key];console.warn(`[react-markdown] Warning: please ${deprecation.to?`use \`${deprecation.to}\` instead of`:"remove"} \`${key}\` (see <${changelog}#${deprecation.id}> for more info)`),delete deprecated[key]}const processor=unified().use(remarkParse).use(options.remarkPlugins||[]).use(lib,{...options.remarkRehypeOptions,allowDangerousHtml:!0}).use(options.rehypePlugins||[]).use(rehypeFilter,options),file=new VFile;"string"==typeof options.children?file.value=options.children:void 0!==options.children&&null!==options.children&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${options.children}\`)`);const hastNode=processor.runSync(processor.parse(file),file);if("root"!==hastNode.type)throw new TypeError("Expected a `root` node");let result=react.createElement(react.Fragment,{},childrenToReact({options,schema:property_information_html,listDepth:0},hastNode));return options.className&&(result=react.createElement("div",{className:options.className},result)),result}ReactMarkdown.propTypes={children:prop_types.string,className:prop_types.string,allowElement:prop_types.func,allowedElements:prop_types.arrayOf(prop_types.string),disallowedElements:prop_types.arrayOf(prop_types.string),unwrapDisallowed:prop_types.bool,remarkPlugins:prop_types.arrayOf(prop_types.oneOfType([prop_types.object,prop_types.func,prop_types.arrayOf(prop_types.oneOfType([prop_types.bool,prop_types.string,prop_types.object,prop_types.func,prop_types.arrayOf(prop_types.any)]))])),rehypePlugins:prop_types.arrayOf(prop_types.oneOfType([prop_types.object,prop_types.func,prop_types.arrayOf(prop_types.oneOfType([prop_types.bool,prop_types.string,prop_types.object,prop_types.func,prop_types.arrayOf(prop_types.any)]))])),sourcePos:prop_types.bool,rawSourcePos:prop_types.bool,skipHtml:prop_types.bool,includeElementIndex:prop_types.bool,transformLinkUri:prop_types.oneOfType([prop_types.func,prop_types.bool]),linkTarget:prop_types.oneOfType([prop_types.func,prop_types.string]),transformImageUri:prop_types.func,components:prop_types.object}}}]);